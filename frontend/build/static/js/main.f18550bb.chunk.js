/*! For license information please see main.f18550bb.chunk.js.LICENSE.txt */
(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{1041:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(40),i=r.n(o),c=r(1158),l=r(1),u=r(45),s=r(65),f=r(12),h=r(6),d=r(33),p=r(5),m=r(1111),v=r(57),g=r(1051),y=r(1189),b=r(679),E=r(1108),w=r(1110),x=r(1124),O=r(1125),j=r(111),L=r(673),k=r(1117),S=r(610),N=r.n(S),T=r(609),C=r.n(T),_=r(611),I=r.n(_),A=r(4),P=r(93),M=r(14),F=r(1042),G=r(1105),R=r(1106),D=r(1109),W=r(1107),q=r(1043),z=r(586),Y=r.n(z),B=r(197),H=r.n(B),U=r(593),V=r.n(U),Q=r(428),Z=r.n(Q),J=r(595),K=r.n(J),X=r(588),$=r.n(X),ee=r(594),te=r.n(ee),re=r(587),ne=r.n(re),ae=r(591),oe=r.n(ae),ie=r(596),ce=r.n(ie),le=r(589),ue=r.n(le),se=r(590),fe=r.n(se),he=r(316),de=r.n(he),pe=r(592),me=r.n(pe),ve=r(317),ge=r.n(ve),ye=r(320),be=r.n(ye),Ee=r(319),we=r.n(Ee),xe=r(321),Oe=r.n(xe),je=r(315),Le=r.n(je),ke=r(597),Se=r.n(ke),Ne=r(426),Te=r(584),Ce=Object(h.a)(Object(h.a)(Object(h.a)({},{pt:{translations:{signup:{title:"Cadastre-se",toasts:{success:"Usu\xe1rio criado com sucesso! Fa\xe7a seu login!!!.",fail:"Erro ao criar usu\xe1rio. Verifique os dados informados."},form:{name:"Nome",email:"Email",password:"Senha"},buttons:{submit:"Cadastrar",login:"J\xe1 tem uma conta? Entre!"}},login:{title:"Login",form:{email:"Email",password:"Senha"},buttons:{submit:"Entrar",register:"N\xe3o tem um conta? Cadastre-se!"}},companies:{title:"Cadastrar Empresa",form:{name:"Nome da Empresa",plan:"Plano",token:"Token",submit:"Cadastrar",success:"Empresa criada com sucesso!"}},auth:{toasts:{success:"Login efetuado com sucesso!"},token:"Token"},dashboard:{charts:{perDay:{title:"Atendimentos hoje: "}}},connections:{title:"Conex\xf5es",toasts:{deleted:"Conex\xe3o com o WhatsApp exclu\xedda com sucesso!"},confirmationModal:{deleteTitle:"Deletar",deleteMessage:"Voc\xea tem certeza? Essa a\xe7\xe3o n\xe3o pode ser revertida.",disconnectTitle:"Desconectar",disconnectMessage:"Tem certeza? Voc\xea precisar\xe1 ler o QR Code novamente."},buttons:{add:"Adicionar WhatsApp",disconnect:"desconectar",tryAgain:"Tentar novamente",qrcode:"QR CODE",newQr:"Novo QR CODE",connecting:"Conectando"},toolTips:{disconnected:{title:"Falha ao iniciar sess\xe3o do WhatsApp",content:"Certifique-se de que seu celular esteja conectado \xe0 internet e tente novamente, ou solicite um novo QR Code"},qrcode:{title:"Esperando leitura do QR Code",content:"Clique no bot\xe3o 'QR CODE' e leia o QR Code com o seu celular para iniciar a sess\xe3o"},connected:{title:"Conex\xe3o estabelecida!"},timeout:{title:"A conex\xe3o com o celular foi perdida",content:"Certifique-se de que seu celular esteja conectado \xe0 internet e o WhatsApp esteja aberto, ou clique no bot\xe3o 'Desconectar' para obter um novo QR Code"}},table:{name:"Nome",status:"Status",lastUpdate:"\xdaltima atualiza\xe7\xe3o",default:"Padr\xe3o",actions:"A\xe7\xf5es",session:"Sess\xe3o"}},whatsappModal:{title:{add:"Adicionar WhatsApp",edit:"Editar WhatsApp"},form:{name:"Nome",default:"Padr\xe3o"},buttons:{okAdd:"Adicionar",okEdit:"Salvar",cancel:"Cancelar"},success:"WhatsApp salvo com sucesso."},qrCode:{message:"Leia o QrCode para iniciar a sess\xe3o"},contacts:{title:"Contatos",toasts:{deleted:"Contato exclu\xeddo com sucesso!"},searchPlaceholder:"Pesquisar...",confirmationModal:{deleteTitle:"Deletar ",importTitlte:"Importar contatos",deleteMessage:"Tem certeza que deseja deletar este contato? Todos os atendimentos relacionados ser\xe3o perdidos.",importMessage:"Deseja importar todos os contatos do telefone?"},buttons:{import:"Importar Contatos",add:"Adicionar Contato"},table:{name:"Nome",whatsapp:"WhatsApp",email:"Email",actions:"A\xe7\xf5es"}},contactModal:{title:{add:"Adicionar contato",edit:"Editar contato"},form:{mainInfo:"Dados do contato",extraInfo:"Informa\xe7\xf5es adicionais",name:"Nome",number:"N\xfamero do Whatsapp",email:"Email",extraName:"Nome do campo",extraValue:"Valor"},buttons:{addExtraInfo:"Adicionar informa\xe7\xe3o",okAdd:"Adicionar",okEdit:"Salvar",cancel:"Cancelar"},success:"Contato salvo com sucesso."},queueModal:{title:{add:"Adicionar fila",edit:"Editar fila"},form:{name:"Nome",color:"Cor",greetingMessage:"Mensagem de sauda\xe7\xe3o",complationMessage:"Mensagem de conclus\xe3o",outOfHoursMessage:"Mensagem de fora de expediente",ratingMessage:"Mensagem de avalia\xe7\xe3o",token:"Token"},buttons:{okAdd:"Adicionar",okEdit:"Salvar",cancel:"Cancelar"}},userModal:{title:{add:"Adicionar usu\xe1rio",edit:"Editar usu\xe1rio"},form:{name:"Nome",email:"Email",password:"Senha",profile:"Perfil"},buttons:{okAdd:"Adicionar",okEdit:"Salvar",cancel:"Cancelar"},success:"Usu\xe1rio salvo com sucesso."},scheduleModal:{title:{add:"Novo Agendamento",edit:"Editar Agendamento"},form:{body:"Mensagem",contact:"Contato",sendAt:"Data de Agendamento",sentAt:"Data de Envio"},buttons:{okAdd:"Adicionar",okEdit:"Salvar",cancel:"Cancelar"},success:"Agendamento salvo com sucesso."},tagModal:{title:{add:"Nova Tag",edit:"Editar Tag"},form:{name:"Nome",color:"Cor"},buttons:{okAdd:"Adicionar",okEdit:"Salvar",cancel:"Cancelar"},success:"Tag salvo com sucesso."},chat:{noTicketMessage:"Selecione um ticket para come\xe7ar a conversar."},uploads:{titles:{titleUploadMsgDragDrop:"ARRASTE E SOLTE ARQUIVOS NO CAMPO ABAIXO",titleFileList:"Lista de arquivo(s)"}},ticketsManager:{buttons:{newTicket:"Novo"}},ticketsQueueSelect:{placeholder:"Filas"},tickets:{toasts:{deleted:"O atendimento que voc\xea estava foi deletado."},notification:{message:"Mensagem de"},tabs:{open:{title:"Abertas"},closed:{title:"Resolvidos"},search:{title:"Busca"}},search:{placeholder:"Buscar atendimento e mensagens"},buttons:{showAll:"Todos"}},transferTicketModal:{title:"Transferir Ticket",fieldLabel:"Digite para buscar usu\xe1rios",fieldQueueLabel:"Transferir para fila",fieldQueuePlaceholder:"Selecione uma fila",noOptions:"Nenhum usu\xe1rio encontrado com esse nome",buttons:{ok:"Transferir",cancel:"Cancelar"}},ticketsList:{pendingHeader:"Aguardando",assignedHeader:"Atendendo",noTicketsTitle:"Nada aqui!",noTicketsMessage:"Nenhum atendimento encontrado com esse status ou termo pesquisado",buttons:{accept:"Aceitar"}},newTicketModal:{title:"Criar Ticket",fieldLabel:"Digite para pesquisar o contato",add:"Adicionar",buttons:{ok:"Salvar",cancel:"Cancelar"}},mainDrawer:{listItems:{dashboard:"Dashboard",connections:"Conex\xf5es",tickets:"Atendimentos",quickMessages:"Respostas R\xe1pidas",contacts:"Contatos",queues:"Filas & Chatbot",tags:"Tags",administration:"Administra\xe7\xe3o",users:"Usu\xe1rios",settings:"Configura\xe7\xf5es",helps:"Ajuda",messagesAPI:"API",schedules:"Agendamentos",campaigns:"Campanhas",annoucements:"Informativos",chats:"Chat Interno",financeiro:"Financeiro"},appBar:{user:{profile:"Perfil",logout:"Sair"}}},messagesAPI:{title:"API",textMessage:{number:"N\xfamero",body:"Mensagem",token:"Token cadastrado"},mediaMessage:{number:"N\xfamero",body:"Nome do arquivo",media:"Arquivo",token:"Token cadastrado"}},notifications:{noTickets:"Nenhuma notifica\xe7\xe3o."},quickMessages:{title:"Respostas R\xe1pidas",buttons:{add:"Nova Resposta"},dialog:{shortcode:"Atalho",message:"Resposta"}},contactLists:{title:"Listas de Contatos",table:{name:"Nome",contacts:"Contatos",actions:"A\xe7\xf5es"},buttons:{add:"Nova Lista"},dialog:{name:"Nome",company:"Empresa",okEdit:"Editar",okAdd:"Adicionar",add:"Adicionar",edit:"Editar",cancel:"Cancelar"},confirmationModal:{deleteTitle:"Excluir",deleteMessage:"Esta a\xe7\xe3o n\xe3o pode ser revertida."},toasts:{deleted:"Registro exclu\xeddo"}},contactListItems:{title:"Contatos",searchPlaceholder:"Pesquisa",buttons:{add:"Novo",lists:"Listas",import:"Importar"},dialog:{name:"Nome",number:"N\xfamero",whatsapp:"Whatsapp",email:"E-mail",okEdit:"Editar",okAdd:"Adicionar",add:"Adicionar",edit:"Editar",cancel:"Cancelar"},table:{name:"Nome",number:"N\xfamero",whatsapp:"Whatsapp",email:"E-mail",actions:"A\xe7\xf5es"},confirmationModal:{deleteTitle:"Excluir",deleteMessage:"Esta a\xe7\xe3o n\xe3o pode ser revertida.",importMessage:"Deseja importar os contatos desta planilha? ",importTitlte:"Importar"},toasts:{deleted:"Registro exclu\xeddo"}},campaigns:{title:"Campanhas",searchPlaceholder:"Pesquisa",buttons:{add:"Nova Campanha",contactLists:"Listas de Contatos"},table:{name:"Nome",whatsapp:"Conex\xe3o",contactList:"Lista de Contatos",status:"Status",scheduledAt:"Agendamento",completedAt:"Conclu\xedda",confirmation:"Confirma\xe7\xe3o",actions:"A\xe7\xf5es"},dialog:{new:"Nova Campanha",update:"Editar Campanha",readonly:"Apenas Visualiza\xe7\xe3o",form:{name:"Nome",message1:"Mensagem 1",message2:"Mensagem 2",message3:"Mensagem 3",message4:"Mensagem 4",message5:"Mensagem 5",confirmationMessage1:"Mensagem de Confirma\xe7\xe3o 1",confirmationMessage2:"Mensagem de Confirma\xe7\xe3o 2",confirmationMessage3:"Mensagem de Confirma\xe7\xe3o 3",confirmationMessage4:"Mensagem de Confirma\xe7\xe3o 4",confirmationMessage5:"Mensagem de Confirma\xe7\xe3o 5",messagePlaceholder:"Conte\xfado da mensagem",whatsapp:"Conex\xe3o",status:"Status",scheduledAt:"Agendamento",confirmation:"Confirma\xe7\xe3o",contactList:"Lista de Contato"},buttons:{add:"Adicionar",edit:"Atualizar",okadd:"Ok",cancel:"Cancelar Disparos",restart:"Reiniciar Disparos",close:"Fechar",attach:"Anexar Arquivo"}},confirmationModal:{deleteTitle:"Excluir",deleteMessage:"Esta a\xe7\xe3o n\xe3o pode ser revertida."},toasts:{success:"Opera\xe7\xe3o realizada com sucesso",cancel:"Campanha cancelada",restart:"Campanha reiniciada",deleted:"Registro exclu\xeddo"}},announcements:{title:"Informativos",searchPlaceholder:"Pesquisa",buttons:{add:"Novo Informativo",contactLists:"Listas de Informativos"},table:{priority:"Prioridade",title:"Title",text:"Texto",mediaName:"Arquivo",status:"Status",actions:"A\xe7\xf5es"},dialog:{edit:"Edi\xe7\xe3o de Informativo",add:"Novo Informativo",update:"Editar Informativo",readonly:"Apenas Visualiza\xe7\xe3o",form:{priority:"Prioridade",title:"Title",text:"Texto",mediaPath:"Arquivo",status:"Status"},buttons:{add:"Adicionar",edit:"Atualizar",okadd:"Ok",cancel:"Cancelar",close:"Fechar",attach:"Anexar Arquivo"}},confirmationModal:{deleteTitle:"Excluir",deleteMessage:"Esta a\xe7\xe3o n\xe3o pode ser revertida."},toasts:{success:"Opera\xe7\xe3o realizada com sucesso",deleted:"Registro exclu\xeddo"}},campaignsConfig:{title:"Configura\xe7\xf5es de Campanhas"},queues:{title:"Filas & Chatbot",table:{name:"Nome",color:"Cor",greeting:"Mensagem de sauda\xe7\xe3o",actions:"A\xe7\xf5es"},buttons:{add:"Adicionar fila"},confirmationModal:{deleteTitle:"Excluir",deleteMessage:"Voc\xea tem certeza? Essa a\xe7\xe3o n\xe3o pode ser revertida! Os atendimentos dessa fila continuar\xe3o existindo, mas n\xe3o ter\xe3o mais nenhuma fila atribu\xedda."}},queueSelect:{inputLabel:"Filas"},users:{title:"Usu\xe1rios",table:{name:"Nome",email:"Email",profile:"Perfil",actions:"A\xe7\xf5es"},buttons:{add:"Adicionar usu\xe1rio"},toasts:{deleted:"Usu\xe1rio exclu\xeddo com sucesso."},confirmationModal:{deleteTitle:"Excluir",deleteMessage:"Todos os dados do usu\xe1rio ser\xe3o perdidos. Os atendimento abertos deste usu\xe1rio ser\xe3o movidos para a fila."}},helps:{title:"Central de Ajuda"},schedules:{title:"Agendamentos",confirmationModal:{deleteTitle:"Voc\xea tem certeza que quer excluir este Agendamento?",deleteMessage:"Esta a\xe7\xe3o n\xe3o pode ser revertida."},table:{contact:"Contato",body:"Mensagem",sendAt:"Data de Agendamento",sentAt:"Data de Envio",status:"Status",actions:"A\xe7\xf5es"},buttons:{add:"Novo Agendamento"},toasts:{deleted:"Agendamento exclu\xeddo com sucesso."}},tags:{title:"Tags",confirmationModal:{deleteTitle:"Voc\xea tem certeza que quer excluir esta Tag?",deleteMessage:"Esta a\xe7\xe3o n\xe3o pode ser revertida."},table:{name:"Nome",color:"Cor",tickets:"Registros Tagdos",actions:"A\xe7\xf5es"},buttons:{add:"Nova Tag"},toasts:{deleted:"Tag exclu\xeddo com sucesso."}},settings:{success:"Configura\xe7\xf5es salvas com sucesso.",title:"Configura\xe7\xf5es",settings:{userCreation:{name:"Cria\xe7\xe3o de usu\xe1rio",options:{enabled:"Ativado",disabled:"Desativado"}}}},messagesList:{header:{assignedTo:"Atribu\xeddo \xe0:",buttons:{return:"Retornar",resolve:"Resolver",reopen:"Reabrir",accept:"Aceitar"}}},messagesInput:{placeholderOpen:"Digite uma mensagem",placeholderClosed:"Reabra ou aceite esse ticket para enviar uma mensagem.",signMessage:"Assinar"},contactDrawer:{header:"Dados do contato",buttons:{edit:"Editar contato"},extraInfo:"Outras informa\xe7\xf5es"},ticketOptionsMenu:{schedule:"Agendamento",delete:"Deletar",transfer:"Transferir",registerAppointment:"Observa\xe7\xf5es do Contato",appointmentsModal:{title:"Observa\xe7\xf5es do Contato",textarea:"Observa\xe7\xe3o",placeholder:"Insira aqui a informa\xe7\xe3o que deseja registrar"},confirmationModal:{title:"Deletar o ticket do contato",message:"Aten\xe7\xe3o! Todas as mensagens relacionadas ao ticket ser\xe3o perdidas."},buttons:{delete:"Excluir",cancel:"Cancelar"}},confirmationModal:{buttons:{confirm:"Ok",cancel:"Cancelar"}},messageOptionsMenu:{delete:"Deletar",reply:"Responder",confirmationModal:{title:"Apagar mensagem?",message:"Esta a\xe7\xe3o n\xe3o pode ser revertida."}},backendErrors:{ERR_NO_OTHER_WHATSAPP:"Deve haver pelo menos um WhatsApp padr\xe3o.",ERR_NO_DEF_WAPP_FOUND:"Nenhum WhatsApp padr\xe3o encontrado. Verifique a p\xe1gina de conex\xf5es.",ERR_WAPP_NOT_INITIALIZED:"Esta sess\xe3o do WhatsApp n\xe3o foi inicializada. Verifique a p\xe1gina de conex\xf5es.",ERR_WAPP_CHECK_CONTACT:"N\xe3o foi poss\xedvel verificar o contato do WhatsApp. Verifique a p\xe1gina de conex\xf5es",ERR_WAPP_INVALID_CONTACT:"Este n\xe3o \xe9 um n\xfamero de Whatsapp v\xe1lido.",ERR_WAPP_DOWNLOAD_MEDIA:"N\xe3o foi poss\xedvel baixar m\xeddia do WhatsApp. Verifique a p\xe1gina de conex\xf5es.",ERR_INVALID_CREDENTIALS:"Erro de autentica\xe7\xe3o. Por favor, tente novamente.",ERR_SENDING_WAPP_MSG:"Erro ao enviar mensagem do WhatsApp. Verifique a p\xe1gina de conex\xf5es.",ERR_DELETE_WAPP_MSG:"N\xe3o foi poss\xedvel excluir a mensagem do WhatsApp.",ERR_OTHER_OPEN_TICKET:"J\xe1 existe um t\xedquete aberto para este contato.",ERR_SESSION_EXPIRED:"Sess\xe3o expirada. Por favor entre.",ERR_USER_CREATION_DISABLED:"A cria\xe7\xe3o do usu\xe1rio foi desabilitada pelo administrador.",ERR_NO_PERMISSION:"Voc\xea n\xe3o tem permiss\xe3o para acessar este recurso.",ERR_DUPLICATED_CONTACT:"J\xe1 existe um contato com este n\xfamero.",ERR_NO_SETTING_FOUND:"Nenhuma configura\xe7\xe3o encontrada com este ID.",ERR_NO_CONTACT_FOUND:"Nenhum contato encontrado com este ID.",ERR_NO_TICKET_FOUND:"Nenhum t\xedquete encontrado com este ID.",ERR_NO_USER_FOUND:"Nenhum usu\xe1rio encontrado com este ID.",ERR_NO_WAPP_FOUND:"Nenhum WhatsApp encontrado com este ID.",ERR_CREATING_MESSAGE:"Erro ao criar mensagem no banco de dados.",ERR_CREATING_TICKET:"Erro ao criar t\xedquete no banco de dados.",ERR_FETCH_WAPP_MSG:"Erro ao buscar a mensagem no WhtasApp, talvez ela seja muito antiga.",ERR_QUEUE_COLOR_ALREADY_EXISTS:"Esta cor j\xe1 est\xe1 em uso, escolha outra.",ERR_WAPP_GREETING_REQUIRED:"A mensagem de sauda\xe7\xe3o \xe9 obrigat\xf3rio quando h\xe1 mais de uma fila."}}}}),{en:{translations:{signup:{title:"Sign up",toasts:{success:"User created successfully! Please login!",fail:"Error creating user. Check the reported data."},form:{name:"Name",email:"Email",password:"Password"},buttons:{submit:"Register",login:"Already have an account? Log in!"}},login:{title:"Login",form:{email:"Email",password:"Password"},buttons:{submit:"Enter",register:"Don't have an account? Register!"}},auth:{toasts:{success:"Login successfully!"}},dashboard:{charts:{perDay:{title:"Tickets today: "}}},connections:{title:"Connections",toasts:{deleted:"WhatsApp connection deleted sucessfully!"},confirmationModal:{deleteTitle:"Delete",deleteMessage:"Are you sure? It cannot be reverted.",disconnectTitle:"Disconnect",disconnectMessage:"Are you sure? You'll need to read QR Code again."},buttons:{add:"Add WhatsApp",disconnect:"Disconnect",tryAgain:"Try Again",qrcode:"QR CODE",newQr:"New QR CODE",connecting:"Connectiing"},toolTips:{disconnected:{title:"Failed to start WhatsApp session",content:"Make sure your cell phone is connected to the internet and try again, or request a new QR Code"},qrcode:{title:"Waiting for QR Code read",content:"Click on 'QR CODE' button and read the QR Code with your cell phone to start session"},connected:{title:"Connection established"},timeout:{title:"Connection with cell phone has been lost",content:"Make sure your cell phone is connected to the internet and WhatsApp is open, or click on 'Disconnect' button to get a new QRcode"}},table:{name:"Name",status:"Status",lastUpdate:"Last Update",default:"Default",actions:"Actions",session:"Session"}},whatsappModal:{title:{add:"Add WhatsApp",edit:"Edit WhatsApp"},form:{name:"Name",default:"Default"},buttons:{okAdd:"Add",okEdit:"Save",cancel:"Cancel"},success:"WhatsApp saved successfully."},qrCode:{message:"Read QrCode to start the session"},contacts:{title:"Contacts",toasts:{deleted:"Contact deleted sucessfully!"},searchPlaceholder:"Search ...",confirmationModal:{deleteTitle:"Delete",importTitlte:"Import contacts",deleteMessage:"Are you sure you want to delete this contact? All related tickets will be lost.",importMessage:"Do you want to import all contacts from the phone?"},buttons:{import:"Import Contacts",add:"Add Contact"},table:{name:"Name",whatsapp:"WhatsApp",email:"Email",actions:"Actions"}},contactModal:{title:{add:"Add contact",edit:"Edit contact"},form:{mainInfo:"Contact details",extraInfo:"Additional information",name:"Name",number:"Whatsapp number",email:"Email",extraName:"Field name",extraValue:"Value"},buttons:{addExtraInfo:"Add information",okAdd:"Add",okEdit:"Save",cancel:"Cancel"},success:"Contact saved successfully."},queueModal:{title:{add:"Add queue",edit:"Edit queue"},form:{name:"Name",color:"Color",greetingMessage:"Greeting Message"},buttons:{okAdd:"Add",okEdit:"Save",cancel:"Cancel"}},userModal:{title:{add:"Add user",edit:"Edit user"},form:{name:"Name",email:"Email",password:"Password",profile:"Profile"},buttons:{okAdd:"Add",okEdit:"Save",cancel:"Cancel"},success:"User saved successfully."},chat:{noTicketMessage:"Select a ticket to start chatting."},ticketsManager:{buttons:{newTicket:"New"}},ticketsQueueSelect:{placeholder:"Queues"},tickets:{toasts:{deleted:"The ticket you were on has been deleted."},notification:{message:"Message from"},tabs:{open:{title:"Inbox"},closed:{title:"Resolved"},search:{title:"Search"}},search:{placeholder:"Search tickets and messages."},buttons:{showAll:"All"}},transferTicketModal:{title:"Transfer Ticket",fieldLabel:"Type to search for users",noOptions:"No user found with this name",buttons:{ok:"Transfer",cancel:"Cancel"}},ticketsList:{pendingHeader:"Queue",assignedHeader:"Working on",noTicketsTitle:"Nothing here!",noTicketsMessage:"No tickets found with this status or search term.",buttons:{accept:"Accept"}},newTicketModal:{title:"Create Ticket",fieldLabel:"Type to search for a contact",add:"Add",buttons:{ok:"Save",cancel:"Cancel"}},mainDrawer:{listItems:{dashboard:"Dashboard",connections:"Connections",tickets:"Tickets",contacts:"Contacts",queues:"Queues",administration:"Administration",users:"Users",settings:"Settings"},appBar:{user:{profile:"Profile",logout:"Logout"}}},notifications:{noTickets:"No notifications."},queues:{title:"Queues",table:{name:"Name",color:"Color",greeting:"Greeting message",actions:"Actions"},buttons:{add:"Add queue"},confirmationModal:{deleteTitle:"Delete",deleteMessage:"Are you sure? It cannot be reverted! Tickets in this queue will still exist, but will not have any queues assigned."}},queueSelect:{inputLabel:"Queues"},users:{title:"Users",table:{name:"Name",email:"Email",profile:"Profile",actions:"Actions"},buttons:{add:"Add user"},toasts:{deleted:"User deleted sucessfully."},confirmationModal:{deleteTitle:"Delete",deleteMessage:"All user data will be lost. Users' open tickets will be moved to queue."}},settings:{success:"Settings saved successfully.",title:"Settings",settings:{userCreation:{name:"User creation",options:{enabled:"Enabled",disabled:"Disabled"}}}},messagesList:{header:{assignedTo:"Assigned to:",buttons:{return:"Return",resolve:"Resolve",reopen:"Reopen",accept:"Accept"}}},messagesInput:{placeholderOpen:"Type a message",placeholderClosed:"Reopen or accept this ticket to send a message.",signMessage:"Sign"},contactDrawer:{header:"Contact details",buttons:{edit:"Edit contact"},extraInfo:"Other information"},ticketOptionsMenu:{delete:"Delete",transfer:"Transfer",confirmationModal:{title:"Delete ticket #",titleFrom:"from contact ",message:"Attention! All ticket's related messages will be lost."},buttons:{delete:"Delete",cancel:"Cancel"}},confirmationModal:{buttons:{confirm:"Ok",cancel:"Cancel"}},messageOptionsMenu:{delete:"Delete",reply:"Reply",confirmationModal:{title:"Delete message?",message:"This action cannot be reverted."}},backendErrors:{ERR_NO_OTHER_WHATSAPP:"There must be at lest one default WhatsApp connection.",ERR_NO_DEF_WAPP_FOUND:"No default WhatsApp found. Check connections page.",ERR_WAPP_NOT_INITIALIZED:"This WhatsApp session is not initialized. Check connections page.",ERR_WAPP_CHECK_CONTACT:"Could not check WhatsApp contact. Check connections page.",ERR_WAPP_INVALID_CONTACT:"This is not a valid whatsapp number.",ERR_WAPP_DOWNLOAD_MEDIA:"Could not download media from WhatsApp. Check connections page.",ERR_INVALID_CREDENTIALS:"Authentication error. Please try again.",ERR_SENDING_WAPP_MSG:"Error sending WhatsApp message. Check connections page.",ERR_DELETE_WAPP_MSG:"Couldn't delete message from WhatsApp.",ERR_OTHER_OPEN_TICKET:"There's already an open ticket for this contact.",ERR_SESSION_EXPIRED:"Session expired. Please login.",ERR_USER_CREATION_DISABLED:"User creation was disabled by administrator.",ERR_NO_PERMISSION:"You don't have permission to access this resource.",ERR_DUPLICATED_CONTACT:"A contact with this number already exists.",ERR_NO_SETTING_FOUND:"No setting found with this ID.",ERR_NO_CONTACT_FOUND:"No contact found with this ID.",ERR_NO_TICKET_FOUND:"No ticket found with this ID.",ERR_NO_USER_FOUND:"No user found with this ID.",ERR_NO_WAPP_FOUND:"No WhatsApp found with this ID.",ERR_CREATING_MESSAGE:"Error while creating message on database.",ERR_CREATING_TICKET:"Error while creating ticket on database.",ERR_FETCH_WAPP_MSG:"Error fetching the message in WhtasApp, maybe it is too old.",ERR_QUEUE_COLOR_ALREADY_EXISTS:"This color is already in use, pick another one.",ERR_WAPP_GREETING_REQUIRED:"Greeting message is required if there is more than one queue."}}}}),{es:{translations:{signup:{title:"Registro",toasts:{success:"\xa1El usuario ha sido creado satisfactoriamente! \xa1Ahora inicia sesi\xf3n!",fail:"Error creando el usuario. Verifica la data reportada."},form:{name:"Nombre",email:"Correo Electr\xf3nico",password:"Contrase\xf1a"},buttons:{submit:"Reg\xedstrate",login:"\xbfYa tienes una cuenta? \xa1Inicia sesi\xf3n!"}},login:{title:"Inicio de Sesi\xf3n",form:{email:"Correo Electr\xf3nico",password:"Contrase\xf1a"},buttons:{submit:"Ingresa",register:"\xbfNo tienes cuenta? \xa1Reg\xedstrate!"}},auth:{toasts:{success:"\xa1Inicio de sesi\xf3n exitoso!"}},dashboard:{charts:{perDay:{title:"Tickets hoy: "}}},connections:{title:"Conexiones",toasts:{deleted:"\xa1La conexi\xf3n de WhatsApp ha sido borrada satisfactoriamente!"},confirmationModal:{deleteTitle:"Borrar",deleteMessage:"\xbfEst\xe1s seguro? Este proceso no puede ser revertido.",disconnectTitle:"Desconectar",disconnectMessage:"Est\xe1s seguro? Deber\xe1 volver a leer el c\xf3digo QR"},buttons:{add:"Agrega WhatsApp",disconnect:"Desconectar",tryAgain:"Int\xe9ntalo de nuevo",qrcode:"QR CODE",newQr:"Nuevo QR CODE",connecting:"Conectando"},toolTips:{disconnected:{title:"No se pudo iniciar la sesi\xf3n de WhatsApp",content:"Aseg\xfarese de que su tel\xe9fono celular est\xe9 conectado a Internet y vuelva a intentarlo o solicite un nuevo c\xf3digo QR"},qrcode:{title:"Esperando la lectura del c\xf3digo QR",content:"Haga clic en el bot\xf3n 'C\xd3DIGO QR' y lea el C\xf3digo QR con su tel\xe9fono celular para iniciar la sesi\xf3n"},connected:{title:"Conexi\xf3n establecida"},timeout:{title:"Se perdi\xf3 la conexi\xf3n con el tel\xe9fono celular",content:"Aseg\xfarese de que su tel\xe9fono celular est\xe9 conectado a Internet y que WhatsApp est\xe9 abierto, o haga clic en el bot\xf3n 'Desconectar' para obtener un nuevo c\xf3digo QR"}},table:{name:"Nombre",status:"Estado",lastUpdate:"\xdaltima Actualizaci\xf3n",default:"Por Defecto",actions:"Acciones",session:"Sesi\xf3n"}},whatsappModal:{title:{add:"Agrega WhatsApp",edit:"Edita WhatsApp"},form:{name:"Nombre",default:"Por Defecto"},buttons:{okAdd:"Agregar",okEdit:"Guardar",cancel:"Cancelar"},success:"WhatsApp guardado satisfactoriamente."},qrCode:{message:"L\xe9e el c\xf3digo QR para empezar la sesi\xf3n."},contacts:{title:"Contactos",toasts:{deleted:"\xa1Contacto borrado satisfactoriamente!"},searchPlaceholder:"Buscar...",confirmationModal:{deleteTitle:"Borrar",importTitlte:"Importar contactos",deleteMessage:"\xbfEst\xe1s seguro que deseas borrar este contacto? Todos los tickets relacionados se perder\xe1n.",importMessage:"\xbfQuieres importar todos los contactos desde tu tel\xe9fono?"},buttons:{import:"Importar Contactos",add:"Agregar Contacto"},table:{name:"Nombre",whatsapp:"WhatsApp",email:"Correo Electr\xf3nico",actions:"Acciones"}},contactModal:{title:{add:"Agregar contacto",edit:"Editar contacto"},form:{mainInfo:"Detalles del contacto",extraInfo:"Informaci\xf3n adicional",name:"Nombre",number:"N\xfamero de Whatsapp",email:"Correo Electr\xf3nico",extraName:"Nombre del Campo",extraValue:"Valor"},buttons:{addExtraInfo:"Agregar informaci\xf3n",okAdd:"Agregar",okEdit:"Guardar",cancel:"Cancelar"},success:"Contacto guardado satisfactoriamente."},queueModal:{title:{add:"Agregar cola",edit:"Editar cola"},form:{name:"Nombre",color:"Color",greetingMessage:"Mensaje de saludo"},buttons:{okAdd:"A\xf1adir",okEdit:"Ahorrar",cancel:"Cancelar"}},userModal:{title:{add:"Agregar usuario",edit:"Editar usuario"},form:{name:"Nombre",email:"Correo Electr\xf3nico",password:"Contrase\xf1a",profile:"Perfil"},buttons:{okAdd:"Agregar",okEdit:"Guardar",cancel:"Cancelar"},success:"Usuario guardado satisfactoriamente."},chat:{noTicketMessage:"Selecciona un ticket para empezar a chatear."},ticketsManager:{buttons:{newTicket:"Nuevo"}},ticketsQueueSelect:{placeholder:"Linhas"},tickets:{toasts:{deleted:"El ticket en el que estabas ha sido borrado."},notification:{message:"Mensaje de"},tabs:{open:{title:"Bandeja"},closed:{title:"Resueltos"},search:{title:"Buscar"}},search:{placeholder:"Buscar tickets y mensajes."},buttons:{showAll:"Todos"}},transferTicketModal:{title:"Transferir Ticket",fieldLabel:"Escriba para buscar usuarios",noOptions:"No se encontraron usuarios con ese nombre",buttons:{ok:"Transferir",cancel:"Cancelar"}},ticketsList:{pendingHeader:"Cola",assignedHeader:"Trabajando en",noTicketsTitle:"\xa1Nada ac\xe1!",noTicketsMessage:"No se encontraron tickets con este estado o t\xe9rmino de b\xfasqueda",buttons:{accept:"Acceptar"}},newTicketModal:{title:"Crear Ticket",fieldLabel:"Escribe para buscar un contacto",add:"A\xf1adir",buttons:{ok:"Guardar",cancel:"Cancelar"}},mainDrawer:{listItems:{dashboard:"Dashboard",connections:"Conexiones",tickets:"Tickets",contacts:"Contactos",queues:"Linhas",administration:"Administraci\xf3n",users:"Usuarios",settings:"Configuraci\xf3n"},appBar:{user:{profile:"Perfil",logout:"Cerrar Sesi\xf3n"}}},notifications:{noTickets:"Sin notificaciones."},queues:{title:"Linhas",table:{name:"Nombre",color:"Color",greeting:"Mensaje de saludo",actions:"Comportamiento"},buttons:{add:"Agregar cola"},confirmationModal:{deleteTitle:"Eliminar",deleteMessage:"\xbfEst\xe1s seguro? \xa1Esta acci\xf3n no se puede revertir! Los tickets en esa cola seguir\xe1n existiendo, pero ya no tendr\xe1n ninguna cola asignada."}},queueSelect:{inputLabel:"Linhas"},users:{title:"Usuarios",table:{name:"Nombre",email:"Correo Electr\xf3nico",profile:"Perfil",actions:"Acciones"},buttons:{add:"Agregar usuario"},toasts:{deleted:"Usuario borrado satisfactoriamente."},confirmationModal:{deleteTitle:"Borrar",deleteMessage:"Toda la informaci\xf3n del usuario se perder\xe1. Los tickets abiertos de los usuarios se mover\xe1n a la cola."}},settings:{success:"Configuraci\xf3n guardada satisfactoriamente.",title:"Configuraci\xf3n",settings:{userCreation:{name:"Creaci\xf3n de usuarios",options:{enabled:"Habilitado",disabled:"Deshabilitado"}}}},messagesList:{header:{assignedTo:"Asignado a:",buttons:{return:"Devolver",resolve:"Resolver",reopen:"Reabrir",accept:"Aceptar"}}},messagesInput:{placeholderOpen:"Escribe un mensaje",placeholderClosed:"Vuelva a abrir o acepte este ticket para enviar un mensaje.",signMessage:"Firmar"},contactDrawer:{header:"Detalles del contacto",buttons:{edit:"Editar contacto"},extraInfo:"Otra informaci\xf3n"},ticketOptionsMenu:{delete:"Borrar",transfer:"Transferir",confirmationModal:{title:"\xbfBorrar ticket #",titleFrom:"del contacto ",message:"\xa1Atenci\xf3n! Todos los mensajes Todos los mensajes relacionados con el ticket se perder\xe1n."},buttons:{delete:"Borrar",cancel:"Cancelar"}},confirmationModal:{buttons:{confirm:"Ok",cancel:"Cancelar"}},messageOptionsMenu:{delete:"Borrar",reply:"Responder",confirmationModal:{title:"\xbfBorrar mensaje?",message:"Esta acci\xf3n no puede ser revertida."}},backendErrors:{ERR_NO_OTHER_WHATSAPP:"Debe haber al menos una conexi\xf3n de WhatsApp predeterminada.",ERR_NO_DEF_WAPP_FOUND:"No se encontr\xf3 WhatsApp predeterminado. Verifique la p\xe1gina de conexiones.",ERR_WAPP_NOT_INITIALIZED:"Esta sesi\xf3n de WhatsApp no \u200b\u200best\xe1 inicializada. Verifique la p\xe1gina de conexiones.",ERR_WAPP_CHECK_CONTACT:"No se pudo verificar el contacto de WhatsApp. Verifique la p\xe1gina de conexiones.",ERR_WAPP_INVALID_CONTACT:"Este no es un n\xfamero de whatsapp v\xe1lido.",ERR_WAPP_DOWNLOAD_MEDIA:"No se pudieron descargar los medios de WhatsApp. Verifique la p\xe1gina de conexiones.",ERR_INVALID_CREDENTIALS:"Error de autenticaci\xf3n. Vuelva a intentarlo.",ERR_SENDING_WAPP_MSG:"Error al enviar el mensaje de WhatsApp. Verifique la p\xe1gina de conexiones.",ERR_DELETE_WAPP_MSG:"No se pudo borrar el mensaje de WhatsApp.",ERR_OTHER_OPEN_TICKET:"Ya hay un ticket abierto para este contacto.",ERR_SESSION_EXPIRED:"Sesi\xf3n caducada. Inicie sesi\xf3n.",ERR_USER_CREATION_DISABLED:"La creaci\xf3n de usuarios fue deshabilitada por el administrador.",ERR_NO_PERMISSION:"No tienes permiso para acceder a este recurso.",ERR_DUPLICATED_CONTACT:"Ya existe un contacto con este n\xfamero.",ERR_NO_SETTING_FOUND:"No se encontr\xf3 ninguna configuraci\xf3n con este ID.",ERR_NO_CONTACT_FOUND:"No se encontr\xf3 ning\xfan contacto con este ID.",ERR_NO_TICKET_FOUND:"No se encontr\xf3 ning\xfan ticket con este ID.",ERR_NO_USER_FOUND:"No se encontr\xf3 ning\xfan usuario con este ID.",ERR_NO_WAPP_FOUND:"No se encontr\xf3 WhatsApp con este ID.",ERR_CREATING_MESSAGE:"Error al crear el mensaje en la base de datos.",ERR_CREATING_TICKET:"Error al crear el ticket en la base de datos.",ERR_FETCH_WAPP_MSG:"Error al obtener el mensaje en WhtasApp, tal vez sea demasiado antiguo.",ERR_QUEUE_COLOR_ALREADY_EXISTS:"Este color ya est\xe1 en uso, elija otro.",ERR_WAPP_GREETING_REQUIRED:"El mensaje de saludo es obligatorio cuando hay m\xe1s de una cola."}}}});Ne.a.use(Te.a).init({debug:!1,defaultNS:["translations"],fallbackLng:"pt",ns:["translations"],resources:Ce});var _e=r(18),Ie=function(e){var t,r,n=null===(t=e.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.error;return n?Ne.a.exists("backendErrors.".concat(n))?void f.b.error(Ne.a.t("backendErrors.".concat(n)),{toastId:n,autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"light"}):void f.b.error(n,{toastId:n,autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"light"}):Object(_e.isString)(e)?void f.b.error(e):void f.b.error("An error occurred!")},Ae=r(238),Pe=r.n(Ae),Me=Pe.a.create({baseURL:"http://localhost:8080",withCredentials:!0}),Fe=Pe.a.create({baseURL:"http://localhost:8080"}),Ge=Me,Re=r(585),De=r.n(Re);function We(e){var t=null;return localStorage.getItem("userId")&&(t=localStorage.getItem("userId")),De()("http://localhost:8080",{transports:["websocket","polling","flashsocket"],pingTimeout:18e3,pingInterval:18e3,query:Object(_e.isObject)(e)?Object(h.a)(Object(h.a)({},e),{},{userId:t}):{userId:t}})}function qe(){qe=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var f={};function h(){}function d(){}function p(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(m=g);var y=p.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var ze=function(e,t){if("LOAD_WHATSAPPS"===t.type){var r=t.payload;return Object(M.a)(r)}if("UPDATE_WHATSAPPS"===t.type){var n=t.payload,a=e.findIndex((function(e){return e.id===n.id}));return-1!==a?(e[a]=n,Object(M.a)(e)):[n].concat(Object(M.a)(e))}if("UPDATE_SESSION"===t.type){var o=t.payload,i=e.findIndex((function(e){return e.id===o.id}));return-1!==i?(e[i].status=o.status,e[i].updatedAt=o.updatedAt,e[i].qrcode=o.qrcode,e[i].retries=o.retries,Object(M.a)(e)):Object(M.a)(e)}if("DELETE_WHATSAPPS"===t.type){var c=t.payload,l=e.findIndex((function(e){return e.id===c}));return-1!==l&&e.splice(l,1),Object(M.a)(e)}if("RESET"===t.type)return[]},Ye=function(){var e=Object(n.useReducer)(ze,[]),t=Object(l.a)(e,2),r=t[0],a=t[1],o=Object(n.useState)(!0),i=Object(l.a)(o,2),c=i[0],u=i[1];return Object(n.useEffect)((function(){u(!0),function(){var e=Object(A.a)(qe().mark((function e(){var t,r;return qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ge.get("/whatsapp/?session=0");case 3:t=e.sent,r=t.data,a({type:"LOAD_WHATSAPPS",payload:r}),u(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),u(!1),Ie(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}()()}),[]),Object(n.useEffect)((function(){var e=localStorage.getItem("companyId"),t=We({companyId:e});return t.on("company-".concat(e,"-whatsapp"),(function(e){"update"===e.action&&a({type:"UPDATE_WHATSAPPS",payload:e.whatsapp})})),t.on("company-".concat(e,"-whatsapp"),(function(e){"delete"===e.action&&a({type:"DELETE_WHATSAPPS",payload:e.whatsappId})})),t.on("company-".concat(e,"-whatsappSession"),(function(e){"update"===e.action&&a({type:"UPDATE_SESSION",payload:e.session})})),function(){t.disconnect()}}),[]),{whatsApps:r,loading:c}},Be=Object(n.createContext)(),He=function(e){var t=e.children,r=Ye(),n=r.loading,o=r.whatsApps;return a.a.createElement(Be.Provider,{value:{whatsApps:o,loading:n}},t)},Ue=r(20),Ve=r.n(Ue);function Qe(){Qe=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var f={};function h(){}function d(){}function p(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(m=g);var y=p.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Ze=function(){var e=Object(s.g)(),t=Object(n.useState)(!1),r=Object(l.a)(t,2),a=r[0],o=r[1],i=Object(n.useState)(!0),c=Object(l.a)(i,2),u=c[0],h=c[1],d=Object(n.useState)({}),p=Object(l.a)(d,2),m=p[0],v=p[1];return Ge.interceptors.request.use((function(e){var t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(JSON.parse(t)),o(!0)),e}),(function(e){Promise.reject(e)})),Ge.interceptors.response.use((function(e){return e}),function(){var e=Object(A.a)(Qe().mark((function e(t){var r,n,a,i,c;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.config,403!==(null===t||void 0===t||null===(r=t.response)||void 0===r?void 0:r.status)||a._retry){e.next=9;break}return a._retry=!0,e.next=5,Ge.post("/auth/refresh_token");case 5:return i=e.sent,(c=i.data)&&(localStorage.setItem("token",JSON.stringify(c.token)),Ge.defaults.headers.Authorization="Bearer ".concat(c.token)),e.abrupt("return",Ge(a));case 9:return 401===(null===t||void 0===t||null===(n=t.response)||void 0===n?void 0:n.status)&&(localStorage.removeItem("token"),localStorage.removeItem("companyId"),Ge.defaults.headers.Authorization=void 0,o(!1)),e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(n.useEffect)((function(){var e=localStorage.getItem("token");Object(A.a)(Qe().mark((function t(){var r,n;return Qe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=14;break}return t.prev=1,t.next=4,Ge.post("/auth/refresh_token");case 4:r=t.sent,n=r.data,Ge.defaults.headers.Authorization="Bearer ".concat(n.token),o(!0),v(n.user),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),Ie(t.t0);case 14:h(!1);case 15:case"end":return t.stop()}}),t,null,[[1,11]])})))()}),[]),Object(n.useEffect)((function(){var e=localStorage.getItem("companyId"),t=We({companyId:e});return t.on("company-".concat(e,"-user"),(function(e){"update"===e.action&&e.user.id===m.id&&v(e.user)})),function(){t.disconnect()}}),[m]),{isAuth:a,user:m,loading:u,handleLogin:function(){var t=Object(A.a)(Qe().mark((function t(r){var n,a,i,c,l,u,s,d,p,m,g,y,b,E;return Qe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return h(!0),t.prev=1,t.next=4,Ge.post("/auth/login",r);case 4:n=t.sent,a=n.data,i=a.user,c=i.companyId,l=i.id,u=i.company,Object(_e.has)(u,"settings")&&Object(_e.isArray)(u.settings)&&(s=u.settings.find((function(e){return"campaignsEnabled"===e.key})))&&"true"===s.value&&localStorage.setItem("cshow",null),Ve.a.locale("pt-br"),d=a.user.company.dueDate,p=Ve()(Ve()()).format("DD/MM/yyyy"),m=Ve()(d).format("DD/MM/yyyy"),g=Ve()(d).diff(Ve()(Ve()()).format()),y=Ve()(Ve()().format()).isBefore(d),b=Ve.a.duration(g).asDays(),E=m.valueOf()-p.valueOf(),console.log("\ud83d\ude80 Console Log : diasVenc",E),!0===y?(localStorage.setItem("token",JSON.stringify(a.token)),localStorage.setItem("companyId",c),localStorage.setItem("userId",l),localStorage.setItem("companyDueDate",m),Ge.defaults.headers.Authorization="Bearer ".concat(a.token),v(a.user),o(!0),f.b.success(Ne.a.t("auth.toasts.success")),Math.round(b)<5&&f.b.warn("Sua assinatura vence em ".concat(Math.round(b)," ").concat(1===Math.round(b)?"dia":"dias"," ")),e.push("/tickets"),h(!1)):(console.log("BLOQUEADO"),Ie("Opss! Sua assinatura venceu ".concat(m,".\nEntre em contato com o Suporte para mais informa\xe7\xf5es! ")),h(!1)),t.next=24;break;case 20:t.prev=20,t.t0=t.catch(1),Ie(t.t0),h(!1);case 24:case"end":return t.stop()}}),t,null,[[1,20]])})));return function(e){return t.apply(this,arguments)}}(),handleLogout:function(){var t=Object(A.a)(Qe().mark((function t(){return Qe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return h(!0),t.prev=1,t.next=4,Ge.delete("/auth/logout");case 4:o(!1),v({}),localStorage.removeItem("token"),localStorage.removeItem("companyId"),localStorage.removeItem("userId"),localStorage.removeItem("cshow"),Ge.defaults.headers.Authorization=void 0,h(!1),e.push("/login"),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(1),Ie(t.t0),h(!1);case 19:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(){return t.apply(this,arguments)}}(),getCurrentUserInfo:function(){var e=Object(A.a)(Qe().mark((function e(){var t,r;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ge.get("/auth/me");case 3:return t=e.sent,r=t.data,e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(0),Ie(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()}},Je=Object(n.createContext)(),Ke=function(e){var t=e.children,r=Ze(),n=r.loading,o=r.user,i=r.isAuth,c=r.handleLogin,l=r.handleLogout;return a.a.createElement(Je.Provider,{value:{loading:n,user:o,isAuth:i,handleLogin:c,handleLogout:l}},t)},Xe={user:{static:[]},admin:{static:["dashboard:view","drawer-admin-items:view","tickets-manager:showall","user-modal:editProfile","user-modal:editQueues","ticket-options:deleteTicket","contacts-page:deleteContact","connections-page:actionButtons","connections-page:addConnection","connections-page:editOrDeleteConnection"]}},$e=function(e){var t=e.role,r=e.perform,n=e.data,a=e.yes,o=e.no;return function(e,t,r){var n=Xe[e];if(!n)return!1;var a=n.static;if(a&&a.includes(t))return!0;var o=n.dynamic;if(o){var i=o[t];return!!i&&i(r)}return!1}(t,r,n)?a():o()};function et(){et=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var f={};function h(){}function d(){}function p(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(m=g);var y=p.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function tt(e){var t=e.icon,r=e.primary,n=e.to,o=e.className,i=a.a.useMemo((function(){return a.a.forwardRef((function(e,t){return a.a.createElement(u.b,Object.assign({to:n,ref:t},e))}))}),[n]);return a.a.createElement("li",null,a.a.createElement(F.a,{button:!0,component:i,className:o},t?a.a.createElement(G.a,null,t):null,a.a.createElement(R.a,{primary:r})))}$e.defaultProps={yes:function(){return null},no:function(){return null}};var rt=function(e,t){if("LOAD_CHATS"===t.type){var r=t.payload,n=[];return Object(_e.isArray)(r)&&r.forEach((function(t){var r=e.findIndex((function(e){return e.id===t.id}));-1!==r?e[r]=t:n.push(t)})),[].concat(Object(M.a)(e),n)}if("UPDATE_CHATS"===t.type){var a=t.payload,o=e.findIndex((function(e){return e.id===a.id}));return-1!==o?(e[o]=a,Object(M.a)(e)):[a].concat(Object(M.a)(e))}if("DELETE_CHAT"===t.type){var i=t.payload,c=e.findIndex((function(e){return e.id===i}));return-1!==c&&e.splice(c,1),Object(M.a)(e)}return"RESET"===t.type?[]:"CHANGE_CHAT"===t.type?e.map((function(e){return e.id===t.payload.chat.id?t.payload.chat:e})):void 0},nt=function(e){var t=e.drawerClose,r=Object(n.useContext)(Be).whatsApps,o=Object(n.useContext)(Je).user,i=Object(n.useState)(!1),c=Object(l.a)(i,2),u=c[0],f=c[1],h=Object(n.useState)(!1),d=Object(l.a)(h,2),p=d[0],m=d[1],v=Object(n.useState)(!1),g=Object(l.a)(v,2),y=g[0],b=g[1],x=Object(s.g)(),O=Object(n.useState)(!0),j=Object(l.a)(O,2),L=j[0],k=j[1],S=Object(n.useState)(1),N=Object(l.a)(S,2),T=N[0],C=N[1],_=Object(n.useState)(""),I=Object(l.a)(_,1)[0],M=Object(n.useReducer)(rt,[]),z=Object(l.a)(M,2),B=z[0],U=z[1];Object(n.useEffect)((function(){U({type:"RESET"}),C(1)}),[I]),Object(n.useEffect)((function(){var e=setTimeout((function(){Q()}),500);return function(){return clearTimeout(e)}}),[I,T]),Object(n.useEffect)((function(){var e=localStorage.getItem("companyId"),t=We({companyId:e});return t.on("company-".concat(e,"-chat"),(function(e){"new-message"===e.action&&U({type:"CHANGE_CHAT",payload:e}),"update"===e.action&&U({type:"CHANGE_CHAT",payload:e})})),function(){t.disconnect()}}),[]),Object(n.useEffect)((function(){var e=0;if(B.length>0){var t,r=Object(P.a)(B);try{for(r.s();!(t=r.n()).done;){var n,a=t.value,i=Object(P.a)(a.users);try{for(i.s();!(n=i.n()).done;){var c=n.value;c.userId===o.id&&(e+=c.unreads)}}catch(l){i.e(l)}finally{i.f()}}}catch(l){r.e(l)}finally{r.f()}}k(!(e>0))}),[B,o.id]),Object(n.useEffect)((function(){localStorage.getItem("cshow")&&b(!0)}),[]),Object(n.useEffect)((function(){var e=setTimeout((function(){r.length>0&&(r.filter((function(e){return"qrcode"===e.status||"PAIRING"===e.status||"DISCONNECTED"===e.status||"TIMEOUT"===e.status||"OPENING"===e.status})).length>0?f(!0):f(!1))}),2e3);return function(){return clearTimeout(e)}}),[r]);var Q=function(){var e=Object(A.a)(et().mark((function e(){var t,r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ge.get("/chats/",{params:{searchParam:I,pageNumber:T}});case 3:t=e.sent,r=t.data,U({type:"LOAD_CHATS",payload:r.records}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),Ie(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return a.a.createElement("div",{onClick:t},a.a.createElement($e,{role:o.profile,perform:"dashboard:view",yes:function(){return a.a.createElement(tt,{to:"/",primary:"Dashboard",icon:a.a.createElement(Y.a,null)})}}),a.a.createElement(tt,{to:"/tickets",primary:Ne.a.t("mainDrawer.listItems.tickets"),icon:a.a.createElement(H.a,null)}),a.a.createElement(tt,{to:"/quick-messages",primary:Ne.a.t("mainDrawer.listItems.quickMessages"),icon:a.a.createElement(ne.a,null)}),a.a.createElement(tt,{to:"/contacts",primary:Ne.a.t("mainDrawer.listItems.contacts"),icon:a.a.createElement($.a,null)}),a.a.createElement(tt,{to:"/schedules",primary:Ne.a.t("mainDrawer.listItems.schedules"),icon:a.a.createElement(ue.a,null)}),a.a.createElement(tt,{to:"/tags",primary:Ne.a.t("mainDrawer.listItems.tags"),icon:a.a.createElement(fe.a,null)}),a.a.createElement(tt,{to:"/chats",primary:Ne.a.t("mainDrawer.listItems.chats"),icon:a.a.createElement(W.a,{color:"secondary",variant:"dot",invisible:L},a.a.createElement(Le.a,null))}),a.a.createElement(tt,{to:"/helps",primary:Ne.a.t("mainDrawer.listItems.helps"),icon:a.a.createElement(oe.a,null)}),a.a.createElement($e,{role:o.profile,perform:"drawer-admin-items:view",yes:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(E.a,null),a.a.createElement(D.a,{inset:!0},Ne.a.t("mainDrawer.listItems.administration")),y&&a.a.createElement(a.a.Fragment,null,a.a.createElement(F.a,{button:!0,onClick:function(){return m((function(e){return!e}))}},a.a.createElement(G.a,null,a.a.createElement(de.a,null)),a.a.createElement(R.a,{primary:Ne.a.t("mainDrawer.listItems.campaigns")}),p?a.a.createElement(me.a,null):a.a.createElement(ge.a,null)),a.a.createElement(q.a,{style:{paddingLeft:15},in:p,timeout:"auto",unmountOnExit:!0},a.a.createElement(w.a,{component:"div",disablePadding:!0},a.a.createElement(F.a,{onClick:function(){return x.push("/campaigns")},button:!0},a.a.createElement(G.a,null,a.a.createElement(we.a,null)),a.a.createElement(R.a,{primary:"Listagem"})),a.a.createElement(F.a,{onClick:function(){return x.push("/contact-lists")},button:!0},a.a.createElement(G.a,null,a.a.createElement(be.a,null)),a.a.createElement(R.a,{primary:"Listas de Contatos"})),a.a.createElement(F.a,{onClick:function(){return x.push("/campaigns-config")},button:!0},a.a.createElement(G.a,null,a.a.createElement(Z.a,null)),a.a.createElement(R.a,{primary:"Configura\xe7\xf5es"}))))),o.super&&a.a.createElement(tt,{to:"/announcements",primary:Ne.a.t("mainDrawer.listItems.annoucements"),icon:a.a.createElement(Oe.a,null)}),a.a.createElement(tt,{to:"/connections",primary:Ne.a.t("mainDrawer.listItems.connections"),icon:a.a.createElement(W.a,{badgeContent:u?"!":0,color:"error"},a.a.createElement(V.a,null))}),a.a.createElement(tt,{to:"/queues",primary:Ne.a.t("mainDrawer.listItems.queues"),icon:a.a.createElement(te.a,null)}),a.a.createElement(tt,{to:"/users",primary:Ne.a.t("mainDrawer.listItems.users"),icon:a.a.createElement(K.a,null)}),a.a.createElement(tt,{to:"/messages-api",primary:Ne.a.t("mainDrawer.listItems.messagesAPI"),icon:a.a.createElement(ce.a,null)}),a.a.createElement(tt,{to:"/settings",primary:Ne.a.t("mainDrawer.listItems.settings"),icon:a.a.createElement(Z.a,null)}),a.a.createElement(tt,{to:"/subscription",primary:"Assinatura",icon:a.a.createElement(Se.a,null)}))}}))},at=r(670),ot=r(322),it=r(1116),ct=r(326),lt=r.n(ct),ut=r(600),st=r(601),ft=r(361),ht=r(1115),dt=r(1185),pt=r(66),mt=r(1112),vt=r(1113),gt=["loading","children"],yt=Object(m.a)((function(e){return{button:{position:"relative"},buttonProgress:{color:ft.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}})),bt=function(e){var t=e.loading,r=e.children,n=Object(pt.a)(e,gt),o=yt();return a.a.createElement(mt.a,Object.assign({className:o.button,disabled:t},n),r,t&&a.a.createElement(vt.a,{size:24,className:o.buttonProgress}))},Et=r(598),wt=["children"],xt=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Ot=["a","b","strong","em","u","code","del"],jt=function(e){var t=e.children,r=Object(pt.a)(e,wt);return a.a.createElement("a",Object.assign({},r,{target:"_blank",rel:"noopener noreferrer"}),t)},Lt=function(e){var t=e.children,r=/\*(.*?)\*/g,n=/~(.*?)~/g;t&&r.test(t)&&(t=t.replace(r,"**$1**")),t&&n.test(t)&&(t=t.replace(n,"~~$1~~"));var o=a.a.useMemo((function(){var e={disableParsingRawHTML:!0,forceInline:!0,overrides:{a:{component:jt}}};return xt.forEach((function(t){Ot.includes(t)||(e.overrides[t]=function(e){return e.children||null})})),e}),[]);return t?a.a.createElement(Et.a,{options:o},t):null},kt=r(1114);function St(){St=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var f={};function h(){}function d(){}function p(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(m=g);var y=p.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Nt=Object(m.a)((function(e){return{ticket:{position:"relative"},pendingTicket:{cursor:"unset"},noTicketsDiv:{display:"flex",height:"100px",margin:40,flexDirection:"column",alignItems:"center",justifyContent:"center"},noTicketsText:{textAlign:"center",color:"rgb(104, 121, 146)",fontSize:"14px",lineHeight:"1.4"},noTicketsTitle:{textAlign:"center",fontSize:"16px",fontWeight:"600",margin:"0px"},contactNameWrapper:{display:"flex",justifyContent:"space-between"},lastMessageTime:{justifySelf:"flex-end"},closedBadge:{alignSelf:"center",justifySelf:"flex-end",marginRight:32,marginLeft:"auto"},contactLastMessage:{paddingRight:20},newMessagesCount:{alignSelf:"center",marginRight:8,marginLeft:"auto"},badgeStyle:{color:"white",backgroundColor:ft.a[500]},acceptButton:{position:"absolute",left:"50%"},ticketQueueColor:{flex:"none",width:"8px",height:"100%",position:"absolute",top:"0%",left:"0%"}}})),Tt=function(e){var t,r,o,i=e.ticket,c=Nt(),u=Object(s.g)(),f=Object(n.useState)(!1),h=Object(l.a)(f,2),m=h[0],v=h[1],g=Object(s.h)().ticketId,y=Object(n.useRef)(!0),b=Object(n.useContext)(Je).user;Object(n.useEffect)((function(){return function(){y.current=!1}}),[]);var w=function(){var e=Object(A.a)(St().mark((function e(t){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.prev=1,e.next=4,Ge.put("/tickets/".concat(t.id),{status:"open",userId:null===b||void 0===b?void 0:b.id});case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),v(!1),Ie(e.t0);case 10:y.current&&v(!1),u.push("/tickets/".concat(t.uuid));case 12:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,{key:i.id},a.a.createElement(F.a,{dense:!0,button:!0,onClick:function(e){"pending"!==i.status&&function(e){u.push("/tickets/".concat(e.uuid))}(i)},selected:g&&+g===i.id,className:Object(p.a)(c.ticket,Object(d.a)({},c.pendingTicket,"pending"===i.status))},a.a.createElement(kt.a,{arrow:!0,placement:"right",title:(null===(t=i.queue)||void 0===t?void 0:t.name)||"Sem fila"},a.a.createElement("span",{style:{backgroundColor:(null===(r=i.queue)||void 0===r?void 0:r.color)||"#7C7C7C"},className:c.ticketQueueColor})),a.a.createElement(ht.a,null,a.a.createElement(dt.a,{src:null===i||void 0===i||null===(o=i.contact)||void 0===o?void 0:o.profilePicUrl})),a.a.createElement(R.a,{disableTypography:!0,primary:a.a.createElement("span",{className:c.contactNameWrapper},a.a.createElement(j.a,{noWrap:!0,component:"span",variant:"body2",color:"textPrimary"},i.contact.name),"closed"===i.status&&a.a.createElement(W.a,{className:c.closedBadge,badgeContent:"closed",color:"primary"}),i.lastMessage&&a.a.createElement(j.a,{className:c.lastMessageTime,component:"span",variant:"body2",color:"textSecondary"},Object(ut.a)(Object(st.a)(i.updatedAt),new Date)?a.a.createElement(a.a.Fragment,null,Object(at.a)(Object(st.a)(i.updatedAt),"HH:mm")):a.a.createElement(a.a.Fragment,null,Object(at.a)(Object(st.a)(i.updatedAt),"dd/MM/yyyy")))),secondary:a.a.createElement("span",{className:c.contactNameWrapper},a.a.createElement(j.a,{className:c.contactLastMessage,noWrap:!0,component:"span",variant:"body2",color:"textSecondary"},i.lastMessage?a.a.createElement(Lt,null,i.lastMessage):a.a.createElement("br",null)),a.a.createElement(W.a,{className:c.newMessagesCount,badgeContent:i.unreadMessages,classes:{badge:c.badgeStyle}}))}),"pending"===i.status&&a.a.createElement(bt,{color:"primary",variant:"contained",className:c.acceptButton,size:"small",loading:m,onClick:function(e){return w(i)}},Ne.a.t("ticketsList.buttons.accept"))),a.a.createElement(E.a,{variant:"inset",component:"li"}))};function Ct(){Ct=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var f={};function h(){}function d(){}function p(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(m=g);var y=p.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var _t=function(e){var t=e.searchParam,r=e.tags,a=e.users,o=e.pageNumber,i=e.status,c=e.date,u=e.updatedAt,s=e.showAll,f=e.queueIds,h=e.withUnreadMessages,d=Object(n.useState)(!0),p=Object(l.a)(d,2),m=p[0],v=p[1],g=Object(n.useState)(!1),y=Object(l.a)(g,2),b=y[0],E=y[1],w=Object(n.useState)([]),x=Object(l.a)(w,2),O=x[0],j=x[1];return Object(n.useEffect)((function(){v(!0);var e=setTimeout((function(){(function(){var e=Object(A.a)(Ct().mark((function e(){var n,l;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ge.get("/tickets",{params:{searchParam:t,pageNumber:o,tags:r,users:a,status:i,date:c,updatedAt:u,showAll:s,queueIds:f,withUnreadMessages:h}});case 3:n=e.sent,l=n.data,j(l.tickets),E(l.hasMore),v(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),v(!1),Ie(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),500);return function(){return clearTimeout(e)}}),[t,r,a,o,i,c,u,s,f,h]),{tickets:O,loading:m,hasMore:b}},It=r(602),At=r.n(It),Pt=Object(m.a)((function(e){return{tabContainer:Object(h.a)({overflowY:"auto",maxHeight:350},e.scrollbarStyles),popoverPaper:Object(d.a)({width:"100%",maxWidth:350,marginLeft:e.spacing(2),marginRight:e.spacing(1)},e.breakpoints.down("sm"),{maxWidth:270}),noShadow:{boxShadow:"none !important"}}})),Mt=function(){var e=Pt(),t=Object(s.g)(),r=Object(n.useContext)(Je).user,o=+t.location.pathname.split("/")[2],i=Object(n.useRef)(o),c=Object(n.useRef)(),u=Object(n.useState)(!1),f=Object(l.a)(u,2),h=f[0],d=f[1],p=Object(n.useState)([]),m=Object(l.a)(p,2),v=m[0],g=m[1],y=r.profile,E=r.queues,x=Object(n.useState)([]),O=Object(l.a)(x,2)[1],j=_t({withUnreadMessages:"true"}).tickets,L=Object(ot.a)(At.a),k=Object(l.a)(L,1)[0],S=Object(n.useRef)(),N=Object(n.useRef)(t);Object(n.useEffect)((function(){S.current=k,"Notification"in window?Notification.requestPermission():console.log("This browser doesn't support notifications")}),[k]),Object(n.useEffect)((function(){g(j)}),[j]),Object(n.useEffect)((function(){i.current=o}),[o]),Object(n.useEffect)((function(){var e=localStorage.getItem("companyId"),t=We({companyId:e});E.map((function(e){return e.id}));return t.on("connect",(function(){return t.emit("joinNotification")})),t.on("company-".concat(e,"-ticket"),(function(e){"updateUnread"!==e.action&&"delete"!==e.action||(g((function(t){var r=t.findIndex((function(t){return t.id===e.ticketId}));return-1!==r?(t.splice(r,1),Object(M.a)(t)):t})),O((function(t){var r=t.findIndex((function(t){return t.tag===String(e.ticketId)}));return-1!==r?(t[r].close(),t.splice(r,1),Object(M.a)(t)):t})))})),t.on("company-".concat(e,"-appMessage"),(function(e){if("create"===e.action&&!e.message.read&&(e.ticket.userId===(null===r||void 0===r?void 0:r.id)||!e.ticket.userId)){if(g((function(t){var r=t.findIndex((function(t){return t.id===e.ticket.id}));return-1!==r?(t[r]=e.ticket,Object(M.a)(t)):[e.ticket].concat(Object(M.a)(t))})),e.message.ticketId===i.current&&"visible"===document.visibilityState||e.ticket.userId&&e.ticket.userId!==(null===r||void 0===r?void 0:r.id)||e.ticket.isGroup)return;T(e)}})),function(){t.disconnect()}}),[r,y,E]);var T=function(e){var t=e.message,r=e.contact,n=e.ticket,a={body:"".concat(t.body," - ").concat(Object(at.a)(new Date,"HH:mm")),icon:r.profilePicUrl,tag:n.id,renotify:!0},o=new Notification("".concat(Ne.a.t("tickets.notification.message")," ").concat(r.name),a);o.onclick=function(e){e.preventDefault(),window.focus(),N.current.push("/tickets/".concat(n.uuid))},O((function(e){var t=e.findIndex((function(e){return e.tag===o.tag}));return-1!==t?(e[t]=o,Object(M.a)(e)):[o].concat(Object(M.a)(e))})),S.current()},C=function(){d(!1)},_=function(e){var t=e.children;return a.a.createElement("div",{onClick:C},t)};return a.a.createElement(a.a.Fragment,null,a.a.createElement(b.a,{onClick:function(){d((function(e){return!e}))},ref:c,"aria-label":"Mostrar Notifica\xe7\xf5es",variant:"contained",color:"inherit"},a.a.createElement(lt.a,null)),a.a.createElement(it.a,{disableScrollLock:!0,open:h,anchorEl:c.current,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},classes:{paper:e.popoverPaper},onClose:C},a.a.createElement(w.a,{dense:!0,className:e.tabContainer},0===v.length?a.a.createElement(F.a,null,a.a.createElement(R.a,null,Ne.a.t("notifications.noTickets"))):v.map((function(e){return a.a.createElement(_,{key:e.id},a.a.createElement(Tt,{ticket:e}))})))))},Ft=r(22),Gt=r(10),Rt=r(1121),Dt=r(1118),Wt=r(1122),qt=r(1120),zt=r(1119),Yt=r(1053),Bt=r(1054),Ht=r(1046),Ut=r(1188);function Vt(){Vt=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var f={};function h(){}function d(){}function p(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(m=g);var y=p.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Qt=Object(m.a)((function(e){return{chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2}}})),Zt=function(e){var t=e.selectedQueueIds,r=e.onChange,o=Qt(),i=Object(n.useState)([]),c=Object(l.a)(i,2),u=c[0],s=c[1];Object(n.useEffect)((function(){Object(A.a)(Vt().mark((function e(){var t,r;return Vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ge.get("/queue");case 3:t=e.sent,r=t.data,s(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),Ie(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()}),[]);return a.a.createElement("div",{style:{marginTop:6}},a.a.createElement(Ht.a,{fullWidth:!0,margin:"dense",variant:"outlined"},a.a.createElement(Bt.a,null,Ne.a.t("queueSelect.inputLabel")),a.a.createElement(Yt.a,{multiple:!0,labelWidth:60,value:t,onChange:function(e){r(e.target.value)},MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null},renderValue:function(e){return a.a.createElement("div",{className:o.chips},(null===e||void 0===e?void 0:e.length)>0&&e.map((function(e){var t=u.find((function(t){return t.id===e}));return t?a.a.createElement(Ut.a,{key:e,style:{backgroundColor:t.color},variant:"outlined",label:t.name,className:o.chip}):null})))}},u.map((function(e){return a.a.createElement(k.a,{key:e.id,value:e.id},e.name)})))))};function Jt(){Jt=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var f={};function h(){}function d(){}function p(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(m=g);var y=p.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Kt=Object(m.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},multFieldLine:{display:"flex","& > *:not(:last-child)":{marginRight:e.spacing(1)}},btnWrapper:{position:"relative"},buttonProgress:{color:ft.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},formControl:{margin:e.spacing(1),minWidth:120}}})),Xt=Ft.b().shape({name:Ft.c().min(2,"Too Short!").max(50,"Too Long!").required("Required"),password:Ft.c().min(5,"Too Short!").max(50,"Too Long!"),email:Ft.c().email("Invalid email").required("Required")}),$t=function(e){var t=e.open,r=e.onClose,o=e.userId,i=Kt(),c={name:"",email:"",password:"",profile:"user"},u=Object(n.useContext)(Je).user,s=Object(n.useState)(c),d=Object(l.a)(s,2),p=d[0],m=d[1],v=Object(n.useState)([]),g=Object(l.a)(v,2),y=g[0],b=g[1];Object(n.useEffect)((function(){(function(){var e=Object(A.a)(Jt().mark((function e(){var t,r,n,a;return Jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,Ge.get("/users/".concat(o));case 5:r=e.sent,n=r.data,m((function(e){return Object(h.a)(Object(h.a)({},e),n)})),a=null===(t=n.queues)||void 0===t?void 0:t.map((function(e){return e.id})),b(a),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),Ie(e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(){return e.apply(this,arguments)}})()()}),[o,t]);var E=function(){r(),m(c)},w=function(){var e=Object(A.a)(Jt().mark((function e(t){var r;return Jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Object(h.a)(Object(h.a)({},t),{},{queueIds:y}),e.prev=1,!o){e.next=7;break}return e.next=5,Ge.put("/users/".concat(o),r);case 5:e.next=9;break;case 7:return e.next=9,Ge.post("/users",r);case 9:f.b.success(Ne.a.t("userModal.success")),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),Ie(e.t0);case 15:E();case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("div",{className:i.root},a.a.createElement(Dt.a,{open:t,onClose:E,maxWidth:"xs",fullWidth:!0,scroll:"paper"},a.a.createElement(zt.a,{id:"form-dialog-title"},"".concat(o?Ne.a.t("userModal.title.edit"):Ne.a.t("userModal.title.add"))),a.a.createElement(Gt.e,{initialValues:p,enableReinitialize:!0,validationSchema:Xt,onSubmit:function(e,t){setTimeout((function(){w(e),t.setSubmitting(!1)}),400)}},(function(e){var t=e.touched,r=e.errors,n=e.isSubmitting;return a.a.createElement(Gt.d,null,a.a.createElement(qt.a,{dividers:!0},a.a.createElement("div",{className:i.multFieldLine},a.a.createElement(Gt.b,{as:Rt.a,label:Ne.a.t("userModal.form.name"),autoFocus:!0,name:"name",error:t.name&&Boolean(r.name),helperText:t.name&&r.name,variant:"outlined",margin:"dense",fullWidth:!0}),a.a.createElement(Gt.b,{as:Rt.a,label:Ne.a.t("userModal.form.password"),type:"password",name:"password",error:t.password&&Boolean(r.password),helperText:t.password&&r.password,variant:"outlined",margin:"dense",fullWidth:!0})),a.a.createElement("div",{className:i.multFieldLine},a.a.createElement(Gt.b,{as:Rt.a,label:Ne.a.t("userModal.form.email"),name:"email",error:t.email&&Boolean(r.email),helperText:t.email&&r.email,variant:"outlined",margin:"dense",fullWidth:!0}),a.a.createElement(Ht.a,{variant:"outlined",className:i.formControl,margin:"dense"},a.a.createElement($e,{role:u.profile,perform:"user-modal:editProfile",yes:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(Bt.a,{id:"profile-selection-input-label"},Ne.a.t("userModal.form.profile")),a.a.createElement(Gt.b,{as:Yt.a,label:Ne.a.t("userModal.form.profile"),name:"profile",labelId:"profile-selection-label",id:"profile-selection",required:!0},a.a.createElement(k.a,{value:"admin"},"Admin"),a.a.createElement(k.a,{value:"user"},"User")))}}))),a.a.createElement($e,{role:u.profile,perform:"user-modal:editQueues",yes:function(){return a.a.createElement(Zt,{selectedQueueIds:y,onChange:function(e){return b(e)}})}})),a.a.createElement(Wt.a,null,a.a.createElement(mt.a,{onClick:E,color:"secondary",disabled:n,variant:"outlined"},Ne.a.t("userModal.buttons.cancel")),a.a.createElement(mt.a,{type:"submit",color:"primary",disabled:n,variant:"contained",className:i.btnWrapper},"".concat(o?Ne.a.t("userModal.buttons.okEdit"):Ne.a.t("userModal.buttons.okAdd")),n&&a.a.createElement(vt.a,{size:24,className:i.buttonProgress}))))}))))},er=r(1049),tr=Object(m.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}})),rr=function(){var e=tr();return a.a.createElement(er.a,{className:e.backdrop,open:!0},a.a.createElement(vt.a,{color:"inherit"}))},nr=r(1123),ar=r(367);function or(){or=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var f={};function h(){}function d(){}function p(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(m=g);var y=p.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var ir=Object(m.a)((function(e){return{mainPaper:Object(h.a)({flex:1,maxHeight:300,maxWidth:500,padding:e.spacing(1),overflowY:"scroll"},e.scrollbarStyles)}}));function cr(e){var t,r=e.announcement,n=e.open,o=e.handleClose;return a.a.createElement(Dt.a,{open:n,onClose:function(){return o()},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},a.a.createElement(zt.a,{id:"alert-dialog-title"},r.title),a.a.createElement(qt.a,null,r.mediaPath&&a.a.createElement("div",{style:{border:"1px solid #f1f1f1",margin:"0 auto 20px",textAlign:"center",width:"90%",height:300,backgroundImage:"url(".concat((t=r.mediaPath,"".concat("http://localhost:8080","public/").concat(t)),")"),backgroundRepeat:"no-repeat",backgroundSize:"contain",backgroundPosition:"center"}}),a.a.createElement(nr.a,{id:"alert-dialog-description"},r.text)),a.a.createElement(Wt.a,null,a.a.createElement(mt.a,{onClick:function(){return o()},color:"primary",autoFocus:!0},"Fechar")))}var lr=function(e,t){if("LOAD_ANNOUNCEMENTS"===t.type){var r=t.payload,n=[];return Object(_e.isArray)(r)&&r.forEach((function(t){var r=e.findIndex((function(e){return e.id===t.id}));-1!==r?e[r]=t:n.push(t)})),[].concat(Object(M.a)(e),n)}if("UPDATE_ANNOUNCEMENTS"===t.type){var a=t.payload,o=e.findIndex((function(e){return e.id===a.id}));return-1!==o?(e[o]=a,Object(M.a)(e)):[a].concat(Object(M.a)(e))}if("DELETE_ANNOUNCEMENT"===t.type){var i=t.payload,c=e.findIndex((function(e){return e.id===i}));return-1!==c&&e.splice(c,1),Object(M.a)(e)}if("RESET"===t.type)return[]};function ur(){var e=ir(),t=Object(n.useState)(!1),r=Object(l.a)(t,2),o=r[0],i=r[1],c=Object(n.useState)(null),u=Object(l.a)(c,2),s=u[0],f=u[1],h=Object(n.useState)(1),d=Object(l.a)(h,2),p=d[0],m=d[1],v=Object(n.useState)(!1),g=Object(l.a)(v,2),y=g[0],E=g[1],x=Object(n.useState)(""),O=Object(l.a)(x,1)[0],L=Object(n.useReducer)(lr,[]),k=Object(l.a)(L,2),S=k[0],N=k[1],T=Object(n.useState)(!1),C=Object(l.a)(T,2),_=C[0],I=C[1],P=Object(n.useState)({}),M=Object(l.a)(P,2),G=M[0],D=M[1],q=Object(n.useState)(!1),z=Object(l.a)(q,2),Y=z[0],B=z[1];Object(n.useEffect)((function(){N({type:"RESET"}),m(1)}),[O]),Object(n.useEffect)((function(){i(!0);var e=setTimeout((function(){H()}),500);return function(){return clearTimeout(e)}}),[O,p]),Object(n.useEffect)((function(){var e=We({companyId:localStorage.getItem("companyId")});return e.on("company-announcement",(function(e){"update"!==e.action&&"create"!==e.action||(N({type:"UPDATE_ANNOUNCEMENTS",payload:e.record}),I(!1)),"delete"===e.action&&N({type:"DELETE_ANNOUNCEMENT",payload:+e.id})})),function(){e.disconnect()}}),[]);var H=function(){var e=Object(A.a)(or().mark((function e(){var t,r;return or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ge.get("/announcements/",{params:{searchParam:O,pageNumber:p}});case 3:t=e.sent,r=t.data,N({type:"LOAD_ANNOUNCEMENTS",payload:r.records}),E(r.hasMore),i(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),Ie(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),U=Boolean(s),V=U?"simple-popover":void 0;return a.a.createElement("div",null,a.a.createElement(cr,{announcement:G,open:Y,handleClose:function(){return B(!1)}}),a.a.createElement(b.a,{variant:"contained","aria-describedby":V,onClick:function(e){f(e.currentTarget),I(!0)},color:"inherit"},a.a.createElement(W.a,{color:"secondary",variant:"dot",invisible:_||S.length<1},a.a.createElement(Oe.a,null))),a.a.createElement(it.a,{id:V,open:U,anchorEl:s,onClose:function(){f(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},a.a.createElement(ar.a,{variant:"outlined",onScroll:function(e){if(y&&!o){var t=e.currentTarget,r=t.scrollTop;t.scrollHeight-(r+100)<t.clientHeight&&m((function(e){return e+1}))}},className:e.mainPaper},a.a.createElement(w.a,{component:"nav","aria-label":"main mailbox folders",style:{minWidth:300}},Object(_e.isArray)(S)&&S.map((function(e,t){return a.a.createElement(F.a,{key:t,style:{background:t%2===0?"#ededed":"white",border:"1px solid #eee",borderLeft:(n=e.priority,1===n?"4px solid #b81111":2===n?"4px solid orange":3===n?"4px solid grey":void 0),cursor:"pointer"},onClick:function(){return D(e),B(!0),void f(null)}},e.mediaPath&&a.a.createElement(ht.a,null,a.a.createElement(dt.a,{alt:e.mediaName,src:(r=e.mediaPath,"".concat("http://localhost:8080","public/").concat(r))})),a.a.createElement(R.a,{primary:e.title,secondary:a.a.createElement(a.a.Fragment,null,a.a.createElement(j.a,{component:"span",style:{fontSize:12}},Ve()(e.createdAt).format("DD/MM/YYYY")),a.a.createElement("span",{style:{marginTop:5,display:"block"}}),a.a.createElement(j.a,{component:"span",variant:"body2"},e.text))}));var r,n})),Object(_e.isArray)(S)&&0===S.length&&a.a.createElement(R.a,{primary:"Nenhum registro"})))))}var sr=r(607),fr=r.n(sr);function hr(){return{dateToClient:function(e){return Ve()(e).isValid()?Ve()(e).format("DD/MM/YYYY"):e},datetimeToClient:function(e){return Ve()(e).isValid()?Ve()(e).format("DD/MM/YYYY HH:mm"):e},dateToDatabase:function(e){return Ve()(e,"DD/MM/YYYY").isValid()?Ve()(e).format("YYYY-MM-DD HH:mm:ss"):e}}}var dr=r(608),pr=r.n(dr);function mr(){mr=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var f={};function h(){}function d(){}function p(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(m=g);var y=p.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var vr=Object(m.a)((function(e){return{mainPaper:Object(h.a)({flex:1,maxHeight:300,maxWidth:500,padding:e.spacing(1),overflowY:"scroll"},e.scrollbarStyles)}})),gr=function(e,t){if("LOAD_CHATS"===t.type){var r=t.payload,n=[];return Object(_e.isArray)(r)&&r.forEach((function(t){var r=e.findIndex((function(e){return e.id===t.id}));-1!==r?e[r]=t:n.push(t)})),[].concat(Object(M.a)(e),n)}if("UPDATE_CHATS"===t.type){var a=t.payload,o=e.findIndex((function(e){return e.id===a.id}));return-1!==o?(e[o]=a,Object(M.a)(e)):[a].concat(Object(M.a)(e))}if("DELETE_CHAT"===t.type){var i=t.payload,c=e.findIndex((function(e){return e.id===i}));return-1!==c&&e.splice(c,1),Object(M.a)(e)}return"RESET"===t.type?[]:"CHANGE_CHAT"===t.type?e.map((function(e){return e.id===t.payload.chat.id?t.payload.chat:e})):void 0};function yr(){var e=vr(),t=Object(n.useContext)(Je).user,r=Object(n.useState)(!1),o=Object(l.a)(r,2),i=o[0],c=o[1],u=Object(n.useState)(null),s=Object(l.a)(u,2),f=s[0],h=s[1],p=Object(n.useState)(1),m=Object(l.a)(p,2),v=m[0],g=m[1],y=Object(n.useState)(!1),E=Object(l.a)(y,2),x=E[0],O=E[1],L=Object(n.useState)(""),k=Object(l.a)(L,1)[0],S=Object(n.useReducer)(gr,[]),N=Object(l.a)(S,2),T=N[0],C=N[1],_=Object(n.useState)(!0),I=Object(l.a)(_,2),M=I[0],G=I[1],D=hr().datetimeToClient,q=Object(ot.a)(pr.a),z=Object(l.a)(q,1)[0],Y=Object(n.useRef)();Object(n.useEffect)((function(){Y.current=z,"Notification"in window?Notification.requestPermission():console.log("This browser doesn't support notifications")}),[z]),Object(n.useEffect)((function(){C({type:"RESET"}),g(1)}),[k]),Object(n.useEffect)((function(){c(!0);var e=setTimeout((function(){B()}),500);return function(){return clearTimeout(e)}}),[k,v]),Object(n.useEffect)((function(){var e=localStorage.getItem("companyId"),r=We({companyId:e});return r.on("company-".concat(e,"-chat"),(function(e){"new-message"===e.action&&(C({type:"CHANGE_CHAT",payload:e}),e.newMessage.senderId!==t.id&&(console.log(e),Y.current())),"update"===e.action&&C({type:"CHANGE_CHAT",payload:e})})),function(){r.disconnect()}}),[]),Object(n.useEffect)((function(){var e=0;if(T.length>0){var r,n=Object(P.a)(T);try{for(n.s();!(r=n.n()).done;){var a,o=r.value,i=Object(P.a)(o.users);try{for(i.s();!(a=i.n()).done;){var c=a.value;c.userId===t.id&&(e+=c.unreads)}}catch(l){i.e(l)}finally{i.f()}}}catch(l){n.e(l)}finally{n.f()}}G(!(e>0))}),[T,t.id]);var B=function(){var e=Object(A.a)(mr().mark((function e(){var t,r;return mr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ge.get("/chats/",{params:{searchParam:k,pageNumber:v}});case 3:t=e.sent,r=t.data,C({type:"LOAD_CHATS",payload:r.records}),O(r.hasMore),c(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),Ie(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),H=Boolean(f),U=H?"simple-popover":void 0;return a.a.createElement("div",null,a.a.createElement(b.a,Object(d.a)({"aria-describedby":U,variant:"contained",color:M?"default":"inherit",onClick:function(e){h(e.currentTarget),G(!0)}},"color","inherit"),a.a.createElement(W.a,{color:"secondary",variant:"dot",invisible:M},a.a.createElement(Le.a,null))),a.a.createElement(it.a,{id:U,open:H,anchorEl:f,onClose:function(){h(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},a.a.createElement(ar.a,{variant:"outlined",onScroll:function(e){if(x&&!i){var t=e.currentTarget,r=t.scrollTop;t.scrollHeight-(r+100)<t.clientHeight&&g((function(e){return e+1}))}},className:e.mainPaper},a.a.createElement(w.a,{component:"nav","aria-label":"main mailbox folders",style:{minWidth:300}},Object(_e.isArray)(T)&&T.map((function(e,t){return a.a.createElement(F.a,{key:t,style:{background:t%2===0?"#ededed":"white",border:"1px solid #eee",cursor:"pointer"},onClick:function(){return t=e,void(window.location.href="/chats/".concat(t.uuid));var t},button:!0},a.a.createElement(R.a,{primary:e.lastMessage,secondary:a.a.createElement(a.a.Fragment,null,a.a.createElement(j.a,{component:"span",style:{fontSize:12}},D(e.updatedAt)),a.a.createElement("span",{style:{marginTop:5,display:"block"}}))}))})),Object(_e.isArray)(T)&&0===T.length&&a.a.createElement(R.a,{primary:"Nenhum registro"})))))}var br=r(154),Er=Object(m.a)((function(e){return{root:Object(d.a)({display:"flex",height:"100vh"},e.breakpoints.down("sm"),{height:"calc(100vh - 56px)"}),toolbar:{paddingRight:24},toolbarIcon:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 8px",minHeight:"48px"},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:300,width:"calc(100% - ".concat(300,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1,fontSize:14},version:{opacity:"0.5",fontSize:"12px",marginLeft:"8px"},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:300,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(d.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:{minHeight:"48px"},content:Object(h.a)({flex:1,overflow:"auto"},e.scrollbarStyles),container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},containerWithScroll:Object(h.a)({flex:1,padding:e.spacing(1),overflowY:"scroll"},e.scrollbarStyles),logo:{display:"flex",alignItems:"left",justifyContent:"flex-start",width:"183px",paddingLeft:"6px"},logoImg:{width:"185px"}}})),wr=function(e){var t=e.children,r=Er(),o=Object(n.useState)(!1),i=Object(l.a)(o,2),c=i[0],u=i[1],s=Object(n.useState)(null),f=Object(l.a)(s,2),h=f[0],d=f[1],m=Object(n.useState)(!1),S=Object(l.a)(m,2),T=S[0],_=S[1],A=Object(n.useContext)(Je),P=A.handleLogout,M=A.loading,F=Object(n.useState)(!1),G=Object(l.a)(F,2),R=G[0],D=G[1],W=Object(n.useState)("permanent"),q=Object(l.a)(W,2),z=q[0],Y=q[1],B=Object(n.useContext)(Je).user,H=Object(v.a)(),U=Object(g.a)(H.breakpoints.up("sm"));Object(n.useEffect)((function(){document.body.offsetWidth>600&&D(!0)}),[]),Object(n.useEffect)((function(){document.body.offsetWidth<600?Y("temporary"):Y("permanent")}),[R]),Object(n.useEffect)((function(){var e=localStorage.getItem("companyId"),t=localStorage.getItem("userId"),r=We({companyId:e});r.on("company-".concat(e,"-auth"),(function(e){e.user.id===+t&&(Ie("Sua conta foi acessada em outro computador."),setTimeout((function(){localStorage.clear(),window.location.reload()}),1e3))})),r.emit("userStatus");var n=setInterval((function(){r.emit("userStatus")}),3e5);return function(){r.disconnect(),clearInterval(n)}}),[]);var V=function(){d(null),_(!1)};return M?a.a.createElement(rr,null):a.a.createElement("div",{className:r.root},a.a.createElement(y.a,{variant:z,className:R?r.drawerPaper:r.drawerPaperClose,classes:{paper:Object(p.a)(r.drawerPaper,!R&&r.drawerPaperClose)},open:R},a.a.createElement("div",{className:r.toolbarIcon},a.a.createElement("div",{className:r.logo},a.a.createElement("img",{className:r.logoImg,src:fr.a,alt:"Logo"})),a.a.createElement(b.a,{onClick:function(){return D(!R)}},a.a.createElement(C.a,null))),a.a.createElement(E.a,null),a.a.createElement(w.a,{className:r.containerWithScroll},a.a.createElement(nt,{drawerClose:function(){document.body.offsetWidth<600&&D(!1)}})),a.a.createElement(E.a,null)),a.a.createElement($t,{open:c,onClose:function(){return u(!1)},userId:null===B||void 0===B?void 0:B.id}),a.a.createElement(x.a,{position:"absolute",className:Object(p.a)(r.appBar,R&&r.appBarShift),color:"primary"},a.a.createElement(O.a,{variant:"dense",className:r.toolbar},a.a.createElement(b.a,{edge:"start",variant:"contained","aria-label":"open drawer",onClick:function(){return D(!R)},className:Object(p.a)(r.menuButton,R&&r.menuButtonHidden)},a.a.createElement(N.a,null)),a.a.createElement(j.a,{component:"h1",variant:"h6",color:"white",noWrap:!0,className:r.title},U?a.a.createElement(a.a.Fragment,null,"Ol\xe1 ",a.a.createElement("b",null,B.name),", Seja bem-vindo."):B.name,a.a.createElement("span",{className:r.version}," v",br.systemVars.version,"")),B.id&&a.a.createElement(Mt,null),a.a.createElement(ur,null),a.a.createElement(yr,null),a.a.createElement("div",null,a.a.createElement(b.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){d(e.currentTarget),_(!0)},variant:"contained",color:"inherit"},a.a.createElement(I.a,null)),a.a.createElement(L.a,{id:"menu-appbar",anchorEl:h,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:T,onClose:V},a.a.createElement(k.a,{onClick:function(){u(!0),V()}},Ne.a.t("mainDrawer.appBar.user.profile")),a.a.createElement(k.a,{onClick:function(){V(),P()}},Ne.a.t("mainDrawer.appBar.user.logout")))))),a.a.createElement("main",{className:r.content},a.a.createElement("div",{className:r.appBarSpacer}),t||null))},xr=r(1139),Or=r(1138),jr=r(1050),Lr=r(432),kr=r.n(Lr),Sr=r(269),Nr=r.n(Sr),Tr=r(629),Cr=r.n(Tr),_r=r(630),Ir=r.n(_r),Ar=r(628),Pr=r.n(Ar),Mr=r(358),Fr=r(360),Gr=r(1126),Rr=r(1127),Dr=r(1128),Wr=r(625),qr=r(626),zr=r(129),Yr=r(350),Br=r(430),Hr=function(e){return a.a.createElement(j.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},e.children)},Ur=function(){var e=Object(v.a)(),t=Object(n.useRef)((new Date).toISOString()),r=_t({date:t.current}).tickets,o=Object(n.useState)([{time:"01:00",amount:0},{time:"02:00",amount:0},{time:"03:00",amount:0},{time:"04:00",amount:0},{time:"05:00",amount:0},{time:"06:00",amount:0},{time:"07:00",amount:0},{time:"08:00",amount:0},{time:"09:00",amount:0},{time:"10:00",amount:0},{time:"11:00",amount:0},{time:"12:00",amount:0},{time:"13:00",amount:0},{time:"14:00",amount:0},{time:"15:00",amount:0},{time:"16:00",amount:0},{time:"17:00",amount:0},{time:"18:00",amount:0},{time:"19:00",amount:0},{time:"20:00",amount:0},{time:"21:00",amount:0},{time:"22:00",amount:0},{time:"23:00",amount:0},{time:"00:00",amount:0}]),i=Object(l.a)(o,2),c=i[0],u=i[1];return Object(n.useEffect)((function(){u((function(e){var t=Object(M.a)(e);return t.forEach((function(e){r.forEach((function(t){Object(at.a)(Object(Br.a)(Object(st.a)(t.createdAt)),"HH:mm")===e.time&&e.amount++}))})),t}))}),[r]),a.a.createElement(a.a.Fragment,null,a.a.createElement(Hr,null,"".concat(Ne.a.t("dashboard.charts.perDay.title")).concat(r.length)),a.a.createElement(Gr.a,null,a.a.createElement(Rr.a,{data:c,barSize:40,width:730,height:250,margin:{top:16,right:16,bottom:0,left:24}},a.a.createElement(Dr.a,{strokeDasharray:"3 3"}),a.a.createElement(Wr.a,{dataKey:"time",stroke:e.palette.text.secondary}),a.a.createElement(qr.a,{type:"number",allowDecimals:!1,stroke:e.palette.text.secondary},a.a.createElement(zr.a,{angle:270,position:"left",style:{textAnchor:"middle",fill:e.palette.text.primary}},"Tickets")),a.a.createElement(Yr.a,{dataKey:"amount",fill:e.palette.primary.main}))))},Vr=r(1129),Qr=r(1130),Zr=r(1131),Jr=Object(m.a)((function(e){return{cardAvatar:{fontSize:"55px",color:Mr.a[500],backgroundColor:"#ffffff",width:e.spacing(7),height:e.spacing(7)},cardTitle:{fontSize:"18px",color:e.palette.text.primary},cardSubtitle:{color:Mr.a[600],fontSize:"14px"}}}));function Kr(e){var t=e.icon,r=e.title,n=e.value,o=e.loading,i=Jr();return o?a.a.createElement(Zr.a,{variant:"rect",height:80}):a.a.createElement(Vr.a,null,a.a.createElement(Qr.a,{avatar:a.a.createElement(dt.a,{className:i.cardAvatar},t),title:a.a.createElement(j.a,{variant:"h6",component:"h2",className:i.cardTitle},r),subheader:a.a.createElement(j.a,{variant:"subtitle1",component:"p",className:i.cardSubtitle},n)}))}var Xr=r(1135),$r=r(1137),en=r(1133),tn=r(1134),rn=r(1136),nn=r(1132),an=r(359),on=r(185),cn=r.n(on),ln=r(627),un=r.n(ln),sn=r(1190),fn=Object(m.a)((function(e){return{on:{color:ft.a[600],fontSize:"20px"},off:{color:an.a[600],fontSize:"20px"},pointer:{cursor:"pointer"}}}));function hn(e){var t=e.rating,r=null===t?0:Math.trunc(t);return a.a.createElement(sn.a,{defaultValue:r,max:3,readOnly:!0})}function dn(e){var t=e.loading,r=e.attendants,n=fn();return t?a.a.createElement(Zr.a,{variant:"rect",height:150}):a.a.createElement(tn.a,{component:ar.a},a.a.createElement(Xr.a,null,a.a.createElement(rn.a,null,a.a.createElement(nn.a,null,a.a.createElement(en.a,null,"Nome"),a.a.createElement(en.a,{align:"center"},"Avalia\xe7\xf5es"),a.a.createElement(en.a,{align:"center"},"T.M. de Atendimento"),a.a.createElement(en.a,{align:"center"},"Status (Atual)"))),a.a.createElement($r.a,null,r.map((function(e,t){return a.a.createElement(nn.a,{key:t},a.a.createElement(en.a,null,e.name),a.a.createElement(en.a,{align:"center",title:"1 - Insatisfeito, 2 - Satisfeito, 3 - Muito Satisfeito",className:n.pointer},a.a.createElement(hn,{rating:e.rating})),a.a.createElement(en.a,{align:"center"},(r=e.avgSupportTime,Ve()().startOf("day").add(r,"minutes").format("HH[h] mm[m]"))),a.a.createElement(en.a,{align:"center"},e.online?a.a.createElement(cn.a,{className:n.on}):a.a.createElement(un.a,{className:n.off})));var r})))))}function pn(){pn=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var f={};function h(){}function d(){}function p(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(m=g);var y=p.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var mn=function(){return{find:function(){var e=Object(A.a)(pn().mark((function e(t){var r,n;return pn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ge.request({url:"/dashboard",method:"GET",params:t});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}};function vn(){vn=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var f={};function h(){}function d(){}function p(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(m=g);var y=p.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var gn=function(){var e=function(){var e=Object(A.a)(vn().mark((function e(t){var r,n;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ge.request({url:"/companies",method:"POST",data:t});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t=function(){var e=Object(A.a)(vn().mark((function e(t){var r,n;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ge.request({url:"/companies",method:"GET"});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r=function(){var e=Object(A.a)(vn().mark((function e(t){var r,n;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ge.request({url:"/companies/list",method:"GET"});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n=function(){var e=Object(A.a)(vn().mark((function e(t){var r,n;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ge.request({url:"/companies/".concat(t),method:"GET"});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a=function(){var e=Object(A.a)(vn().mark((function e(t){var r,n;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ge.request({url:"/companies/".concat(t),method:"GET"});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{save:e,update:function(){var e=Object(A.a)(vn().mark((function e(t){var r,n;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ge.request({url:"/companies/".concat(t.id),method:"PUT",data:t});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),remove:function(){var e=Object(A.a)(vn().mark((function e(t){var r,n;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ge.request({url:"/companies/".concat(t),method:"DELETE"});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),list:r,find:n,finding:a,findAll:t,updateSchedules:function(){var e=Object(A.a)(vn().mark((function e(t){var r,n;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ge.request({url:"/companies/".concat(t.id,"/schedules"),method:"PUT",data:t});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}};function yn(){yn=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var f={};function h(){}function d(){}function p(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(m=g);var y=p.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var bn=Object(m.a)((function(e){return{container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},fixedHeightPaper:Object(h.a)({padding:e.spacing(2),display:"flex",flexDirection:"column",height:240,overflowY:"auto"},e.scrollbarStyles),cardAvatar:{fontSize:"55px",color:Mr.a[500],backgroundColor:"#ffffff",width:e.spacing(7),height:e.spacing(7)},cardTitle:{fontSize:"18px",color:Fr.a[700]},cardSubtitle:{color:Mr.a[600],fontSize:"14px"},alignRight:{textAlign:"right"},fullWidth:{width:"100%"},selectContainer:{width:"100%",textAlign:"left"}}})),En=function(){var e=bn(),t=Object(n.useState)({}),r=Object(l.a)(t,2),o=r[0],i=r[1],c=Object(n.useState)([]),u=Object(l.a)(c,2),s=u[0],d=u[1],p=Object(n.useState)(1),m=Object(l.a)(p,2),v=m[0],g=m[1],y=Object(n.useState)(0),b=Object(l.a)(y,2),E=b[0],w=b[1],x=Object(n.useState)(),O=Object(l.a)(x,2),j=O[0],L=O[1],S=Object(n.useState)(Ve()("1","D").format("YYYY-MM-DD")),N=Object(l.a)(S,2),T=N[0],C=N[1],_=Object(n.useState)(Ve()().format("YYYY-MM-DD")),I=Object(l.a)(_,2),P=I[0],M=I[1],F=Object(n.useState)(!1),G=Object(l.a)(F,2),R=G[0],D=G[1],W=mn().find,q=gn().finding;function z(){return(z=Object(A.a)(yn().mark((function e(t){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w(t);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(){return(Y=Object(A.a)(yn().mark((function e(t){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g(t),1===t?w(0):(C(""),M(""));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(){return H.apply(this,arguments)}function H(){return(H=Object(A.a)(yn().mark((function e(){var t,r;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(D(!0),t={},E>0&&(t={days:E}),!Object(_e.isEmpty)(T)&&Ve()(T).isValid()&&(t=Object(h.a)(Object(h.a)({},t),{},{date_from:Ve()(T).format("YYYY-MM-DD")})),!Object(_e.isEmpty)(P)&&Ve()(P).isValid()&&(t=Object(h.a)(Object(h.a)({},t),{},{date_to:Ve()(P).format("YYYY-MM-DD")})),0!==Object.keys(t).length){e.next=9;break}return f.b.error("Parametrize o filtro"),D(!1),e.abrupt("return");case 9:return e.next=11,W(t);case 11:r=e.sent,i(r.counters),Object(_e.isArray)(r.attendants)?d(r.attendants):d([]),D(!1);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(n.useEffect)((function(){function e(){return(e=Object(A.a)(yn().mark((function e(){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}setTimeout((function(){!function(){e.apply(this,arguments)}()}),1e3)}),[]),Object(n.useEffect)((function(){function e(){return(e=Object(A.a)(yn().mark((function e(){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var U=localStorage.getItem("companyId"),V=function(){var e=Object(A.a)(yn().mark((function e(){var t;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D(!0),e.prev=1,e.next=4,q(U);case 4:t=e.sent,L(Ve()(t.dueDate).format("DD/MM/yyyy")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("\ud83d\ude80 Console Log : e",e.t0);case 11:D(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();function Q(e){return Ve()().startOf("day").add(e,"minutes").format("HH[h] mm[m]")}return a.a.createElement("div",null,a.a.createElement(xr.a,{maxWidth:"lg",className:e.container},a.a.createElement(Or.a,{container:!0,spacing:3,justifyContent:"flex-end"},a.a.createElement(Or.a,{item:!0,xs:12,sm:6,md:3},a.a.createElement(Kr,{icon:a.a.createElement(Pr.a,{fontSize:"inherit"}),title:"Data Vencimento",value:j,loading:R})),a.a.createElement(Or.a,{item:!0,xs:12},a.a.createElement(ar.a,{className:e.fixedHeightPaper},a.a.createElement(Ur,null))),a.a.createElement(Or.a,{item:!0,xs:12,sm:6,md:4},a.a.createElement(Ht.a,{className:e.selectContainer},a.a.createElement(Bt.a,{id:"period-selector-label"},"Tipo de Filtro"),a.a.createElement(Yt.a,{labelId:"period-selector-label",value:v,onChange:function(e){return function(e){return Y.apply(this,arguments)}(e.target.value)}},a.a.createElement(k.a,{value:1},"Filtro por Data"),a.a.createElement(k.a,{value:2},"Filtro por Per\xedodo")),a.a.createElement(jr.a,null,"Selecione o per\xedodo desejado"))),1===v?a.a.createElement(a.a.Fragment,null,a.a.createElement(Or.a,{item:!0,xs:12,sm:6,md:4},a.a.createElement(Rt.a,{label:"Data Inicial",type:"date",value:T,onChange:function(e){return C(e.target.value)},className:e.fullWidth,InputLabelProps:{shrink:!0}})),a.a.createElement(Or.a,{item:!0,xs:12,sm:6,md:4},a.a.createElement(Rt.a,{label:"Data Final",type:"date",value:P,onChange:function(e){return M(e.target.value)},className:e.fullWidth,InputLabelProps:{shrink:!0}}))):a.a.createElement(Or.a,{item:!0,xs:12,sm:6,md:4},a.a.createElement(Ht.a,{className:e.selectContainer},a.a.createElement(Bt.a,{id:"period-selector-label"},"Per\xedodo"),a.a.createElement(Yt.a,{labelId:"period-selector-label",id:"period-selector",value:E,onChange:function(e){return function(e){return z.apply(this,arguments)}(e.target.value)}},a.a.createElement(k.a,{value:0},"Nenhum selecionado"),a.a.createElement(k.a,{value:3},"\xdaltimos 3 dias"),a.a.createElement(k.a,{value:7},"\xdaltimos 7 dias"),a.a.createElement(k.a,{value:15},"\xdaltimos 15 dias"),a.a.createElement(k.a,{value:30},"\xdaltimos 30 dias"),a.a.createElement(k.a,{value:60},"\xdaltimos 60 dias"),a.a.createElement(k.a,{value:90},"\xdaltimos 90 dias")),a.a.createElement(jr.a,null,"Selecione o per\xedodo desejado"))),a.a.createElement(Or.a,{item:!0,xs:12,className:e.alignRight},a.a.createElement(bt,{loading:R,onClick:function(){return B()},variant:"contained",color:"primary"},"Filtrar")),a.a.createElement(Or.a,{item:!0,xs:12,sm:6,md:4},a.a.createElement(Kr,{icon:a.a.createElement(Nr.a,{fontSize:"inherit"}),title:"Atd. Pendentes",value:o.supportPending,loading:R})),a.a.createElement(Or.a,{item:!0,xs:12,sm:6,md:4},a.a.createElement(Kr,{icon:a.a.createElement(Nr.a,{fontSize:"inherit"}),title:"Atd. Acontecendo",value:o.supportHappening,loading:R})),a.a.createElement(Or.a,{item:!0,xs:12,sm:6,md:4},a.a.createElement(Kr,{icon:a.a.createElement(Cr.a,{fontSize:"inherit"}),title:"Atd. Realizados",value:o.supportFinished,loading:R})),a.a.createElement(Or.a,{item:!0,xs:12,sm:6,md:4},a.a.createElement(Kr,{icon:a.a.createElement(Ir.a,{fontSize:"inherit"}),title:"Leads",value:o.leads,loading:R})),a.a.createElement(Or.a,{item:!0,xs:12,sm:6,md:4},a.a.createElement(Kr,{icon:a.a.createElement(kr.a,{fontSize:"inherit"}),title:"T.M. de Atendimento",value:Q(o.avgSupportTime),loading:R})),a.a.createElement(Or.a,{item:!0,xs:12,sm:6,md:4},a.a.createElement(Kr,{icon:a.a.createElement(kr.a,{fontSize:"inherit"}),title:"T.M. de Espera",value:Q(o.avgWaitTime),loading:R})),a.a.createElement(Or.a,{item:!0,xs:12},s.length?a.a.createElement(dn,{attendants:s,loading:R}):null))))},wn=r(1152),xn=r(76),On=r.n(xn),jn=r(682),Ln=r(1180),kn=r(1148),Sn=r(632),Nn=r.n(Sn),Tn=r(633),Cn=r.n(Tn),_n=r(1149),In=r(1150),An=r(1140),Pn=r(1184),Mn=r(52),Fn=r.n(Mn);function Gn(){Gn=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var f={};function h(){}function d(){}function p(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(m=g);var y=p.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Rn=Object(m.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:ft.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}})),Dn=Ft.b().shape({name:Ft.c().min(2,"Too Short!").max(50,"Too Long!").required("Required"),number:Ft.c().min(8,"Too Short!").max(50,"Too Long!"),email:Ft.c().email("Invalid email")}),Wn=function(e){var t=e.open,r=e.onClose,o=e.contactId,i=e.initialValues,c=e.onSave,u=Rn(),s=Object(n.useRef)(!0),d={name:"",number:"",email:""},p=Object(n.useState)(d),m=Object(l.a)(p,2),v=m[0],g=m[1];Object(n.useEffect)((function(){return function(){s.current=!1}}),[]),Object(n.useEffect)((function(){(function(){var e=Object(A.a)(Gn().mark((function e(){var t,r;return Gn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i&&g((function(e){return Object(h.a)(Object(h.a)({},e),i)})),o){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,Ge.get("/contacts/".concat(o));case 6:t=e.sent,r=t.data,s.current&&g(r),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),Ie(e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}})()()}),[o,t,i]);var y=function(){r(),g(d)},E=function(){var e=Object(A.a)(Gn().mark((function e(t){var r,n;return Gn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!o){e.next=7;break}return e.next=4,Ge.put("/contacts/".concat(o),t);case 4:y(),e.next=13;break;case 7:return e.next=9,Ge.post("/contacts",t);case 9:r=e.sent,n=r.data,c&&c(n),y();case 13:f.b.success(Ne.a.t("contactModal.success")),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),Ie(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("div",{className:u.root},a.a.createElement(Dt.a,{open:t,onClose:y,maxWidth:"lg",scroll:"paper"},a.a.createElement(zt.a,{id:"form-dialog-title"},"".concat(o?Ne.a.t("contactModal.title.edit"):Ne.a.t("contactModal.title.add"))),a.a.createElement(Gt.e,{initialValues:v,enableReinitialize:!0,validationSchema:Dn,onSubmit:function(e,t){setTimeout((function(){E(e),t.setSubmitting(!1)}),400)}},(function(e){var t=e.values,r=e.errors,n=e.touched,i=e.isSubmitting;return a.a.createElement(Gt.d,null,a.a.createElement(qt.a,{dividers:!0},a.a.createElement(j.a,{variant:"subtitle1",gutterBottom:!0},Ne.a.t("contactModal.form.mainInfo")),a.a.createElement(Gt.b,{as:Rt.a,label:Ne.a.t("contactModal.form.name"),name:"name",autoFocus:!0,error:n.name&&Boolean(r.name),helperText:n.name&&r.name,variant:"outlined",margin:"dense",className:u.textField}),a.a.createElement(Gt.b,{as:Rt.a,label:Ne.a.t("contactModal.form.number"),name:"number",error:n.number&&Boolean(r.number),helperText:n.number&&r.number,placeholder:"5513912344321",variant:"outlined",margin:"dense"}),a.a.createElement("div",null,a.a.createElement(Gt.b,{as:Rt.a,label:Ne.a.t("contactModal.form.email"),name:"email",error:n.email&&Boolean(r.email),helperText:n.email&&r.email,placeholder:"Email address",fullWidth:!0,margin:"dense",variant:"outlined"})),a.a.createElement(j.a,{style:{marginBottom:8,marginTop:12},variant:"subtitle1"},Ne.a.t("contactModal.form.extraInfo")),a.a.createElement(Gt.c,{name:"extraInfo"},(function(e){var r=e.push,n=e.remove;return a.a.createElement(a.a.Fragment,null,t.extraInfo&&t.extraInfo.length>0&&t.extraInfo.map((function(e,t){return a.a.createElement("div",{className:u.extraAttr,key:"".concat(t,"-info")},a.a.createElement(Gt.b,{as:Rt.a,label:Ne.a.t("contactModal.form.extraName"),name:"extraInfo[".concat(t,"].name"),variant:"outlined",margin:"dense",className:u.textField}),a.a.createElement(Gt.b,{as:Rt.a,label:Ne.a.t("contactModal.form.extraValue"),name:"extraInfo[".concat(t,"].value"),variant:"outlined",margin:"dense",className:u.textField}),a.a.createElement(b.a,{size:"small",onClick:function(){return n(t)}},a.a.createElement(Fn.a,null)))})),a.a.createElement("div",{className:u.extraAttr},a.a.createElement(mt.a,{style:{flex:1,marginTop:8},variant:"outlined",color:"primary",onClick:function(){return r({name:"",value:""})}},"+ ".concat(Ne.a.t("contactModal.buttons.addExtraInfo")))))}))),a.a.createElement(Wt.a,null,a.a.createElement(mt.a,{onClick:y,color:"secondary",disabled:i,variant:"outlined"},Ne.a.t("contactModal.buttons.cancel")),a.a.createElement(mt.a,{type:"submit",color:"primary",disabled:i,variant:"contained",className:u.btnWrapper},"".concat(o?Ne.a.t("contactModal.buttons.okEdit"):Ne.a.t("contactModal.buttons.okAdd")),i&&a.a.createElement(vt.a,{size:24,className:u.buttonProgress}))))}))))};function qn(){qn=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var f={};function h(){}function d(){}function p(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(m=g);var y=p.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var zn=Object(An.a)({trim:!0}),Yn=function(e){var t,r=e.modalOpen,o=e.onClose,i=e.initialContact,c=Object(n.useState)([]),u=Object(l.a)(c,2),s=u[0],d=u[1],p=Object(n.useState)(!1),m=Object(l.a)(p,2),v=m[0],g=m[1],y=Object(n.useState)(""),b=Object(l.a)(y,2),E=b[0],w=b[1],x=Object(n.useState)(null),O=Object(l.a)(x,2),j=O[0],L=O[1],S=Object(n.useState)(""),N=Object(l.a)(S,2),T=N[0],C=N[1],_=Object(n.useState)({}),I=Object(l.a)(_,2),P=I[0],M=I[1],F=Object(n.useState)(!1),G=Object(l.a)(F,2),D=G[0],W=G[1],q=Object(n.useContext)(Je).user;Object(n.useEffect)((function(){void 0!==(null===i||void 0===i?void 0:i.id)&&(d([i]),L(i))}),[i]),Object(n.useEffect)((function(){if(r&&!(E.length<3)){g(!0);var e=setTimeout((function(){(function(){var e=Object(A.a)(qn().mark((function e(){var t,r;return qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ge.get("contacts",{params:{searchParam:E}});case 3:t=e.sent,r=t.data,d(r.contacts),g(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),g(!1),Ie(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),500);return function(){return clearTimeout(e)}}g(!1)}),[E,r]);var z=function(){o(),w(""),L(null)},Y=function(){var e=Object(A.a)(qn().mark((function e(t){var r,n,a;return qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if(""!==T||"admin"===q.profile){e.next=5;break}return f.b.error("Selecione uma fila"),e.abrupt("return");case 5:return g(!0),e.prev=6,r=""!==T?T:null,e.next=10,Ge.post("/tickets",{contactId:t,queueId:r,userId:q.id,status:"open"});case 10:n=e.sent,a=n.data,o(a),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(6),Ie(e.t0);case 18:g(!1);case 19:case"end":return e.stop()}}),e,null,[[6,15]])})));return function(t){return e.apply(this,arguments)}}(),B=function(e,t){var r=zn(e,t);return""!==t.inputValue&&!v&&E.length>=3&&r.push({name:"".concat(t.inputValue)}),r},H=function(e){return e.number?"".concat(e.name," - ").concat(e.number):"".concat(Ne.a.t("newTicketModal.add")," ").concat(e.name)},U=function(e){return e.number?"".concat(e.name," - ").concat(e.number):"".concat(e.name)};return a.a.createElement(a.a.Fragment,null,a.a.createElement(Wn,{open:D,initialValues:P,onClose:function(){W(!1)},onSave:function(e){Y(e.id)}}),a.a.createElement(Dt.a,{open:r,onClose:z},a.a.createElement(zt.a,{id:"form-dialog-title"},Ne.a.t("newTicketModal.title")),a.a.createElement(qt.a,{dividers:!0},a.a.createElement(Or.a,{style:{width:300},container:!0,spacing:2},void 0===i||void 0===i.id?a.a.createElement(Or.a,{xs:12,item:!0},a.a.createElement(Pn.a,{fullWidth:!0,options:s,loading:v,clearOnBlur:!0,autoHighlight:!0,freeSolo:!0,clearOnEscape:!0,getOptionLabel:U,renderOption:H,filterOptions:B,onChange:function(e,t){return function(e,t){(null===t||void 0===t?void 0:t.number)?L(t):(null===t||void 0===t?void 0:t.name)&&(M({name:t.name}),W(!0))}(0,t)},renderInput:function(e){return a.a.createElement(Rt.a,Object.assign({},e,{label:Ne.a.t("newTicketModal.fieldLabel"),variant:"outlined",autoFocus:!0,onChange:function(e){return w(e.target.value)},onKeyPress:function(e){!v&&j&&"Enter"===e.key&&Y(j.id)},InputProps:Object(h.a)(Object(h.a)({},e.InputProps),{},{endAdornment:a.a.createElement(a.a.Fragment,null,v?a.a.createElement(vt.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment)})}))}})):null,a.a.createElement(Or.a,{xs:12,item:!0},a.a.createElement(Yt.a,{fullWidth:!0,displayEmpty:!0,variant:"outlined",value:T,onChange:function(e){C(e.target.value)},MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null},renderValue:function(){return""===T?"Selecione uma fila":q.queues.find((function(e){return e.id===T})).name}},(null===(t=q.queues)||void 0===t?void 0:t.length)>0&&q.queues.map((function(e,t){return a.a.createElement(k.a,{dense:!0,key:t,value:e.id},a.a.createElement(R.a,{primary:e.name}))})))))),a.a.createElement(Wt.a,null,a.a.createElement(mt.a,{onClick:z,color:"secondary",disabled:v,variant:"outlined"},Ne.a.t("newTicketModal.buttons.cancel")),a.a.createElement(bt,{variant:"contained",type:"button",disabled:!j,onClick:function(){return Y(j.id)},color:"primary",loading:v},Ne.a.t("newTicketModal.buttons.ok")))))},Bn=r(1147),Hn=r(1178),Un=Object(n.createContext)(),Vn=function(e){var t=e.children,r=Object(n.useState)({id:null,code:null}),o=Object(l.a)(r,2),i=o[0],c=o[1],u=Object(s.g)();return Object(n.useEffect)((function(){null!==i.id&&u.push("/tickets/".concat(i.uuid))}),[i]),a.a.createElement(Un.Provider,{value:{currentTicket:i,setCurrentTicket:c}},t)},Qn=r(1181),Zn=r(434),Jn=r.n(Zn),Kn=r(433),Xn=r.n(Kn),$n=r(1141),ea=r(1142),ta=r(1143),ra=r(1144),na=r(1145),aa=r(1146),oa=r(669);function ia(){ia=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var f={};function h(){}function d(){}function p(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(m=g);var y=p.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var ca=Object(m.a)((function(e){return{messageMedia:{objectFit:"cover",width:250,height:200,borderTopLeftRadius:8,borderTopRightRadius:8,borderBottomLeftRadius:8,borderBottomRightRadius:8}}})),la=function(e){var t=e.imageUrl,r=ca(),o=Object(n.useState)(!0),i=Object(l.a)(o,2),c=i[0],u=i[1],s=Object(n.useState)(""),f=Object(l.a)(s,2),h=f[0],d=f[1];return Object(n.useEffect)((function(){t&&function(){var e=Object(A.a)(ia().mark((function e(){var r,n,a,o;return ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ge.get(t,{responseType:"blob"});case 2:r=e.sent,n=r.data,a=r.headers,o=window.URL.createObjectURL(new Blob([n],{type:a["content-type"]})),d(o),u(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[t]),a.a.createElement(oa.a,{className:r.messageMedia,smallSrcSet:c?t:h,medium:c?t:h,large:c?t:h,alt:"image"})},ua=function(e){var t=e.title,r=e.children,n=e.open,o=e.onClose,i=e.onConfirm;return a.a.createElement(Dt.a,{open:n,onClose:function(){return o(!1)},"aria-labelledby":"confirm-dialog"},a.a.createElement(zt.a,{id:"confirm-dialog"},t),a.a.createElement(qt.a,{dividers:!0},a.a.createElement(j.a,null,r)),a.a.createElement(Wt.a,null,a.a.createElement(mt.a,{variant:"contained",onClick:function(){return o(!1)},color:"default"},Ne.a.t("confirmationModal.buttons.cancel")),a.a.createElement(mt.a,{variant:"contained",onClick:function(){o(!1),i()},color:"secondary"},Ne.a.t("confirmationModal.buttons.confirm"))))},sa=Object(n.createContext)(),fa=function(e){var t=e.children,r=Object(n.useState)(null),o=Object(l.a)(r,2),i=o[0],c=o[1];return a.a.createElement(sa.Provider,{value:{replyingMessage:i,setReplyingMessage:c}},t)};function ha(){ha=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var f={};function h(){}function d(){}function p(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(m=g);var y=p.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var da=function(e){var t=e.message,r=e.menuOpen,o=e.handleClose,i=e.anchorEl,c=Object(n.useContext)(sa).setReplyingMessage,u=Object(n.useState)(!1),s=Object(l.a)(u,2),f=s[0],h=s[1],d=function(){var e=Object(A.a)(ha().mark((function e(){return ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ge.delete("/messages/".concat(t.id));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Ie(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(ua,{title:Ne.a.t("messageOptionsMenu.confirmationModal.title"),open:f,onClose:h,onConfirm:d},Ne.a.t("messageOptionsMenu.confirmationModal.message")),a.a.createElement(L.a,{anchorEl:i,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:r,onClose:o},t.fromMe&&a.a.createElement(k.a,{onClick:function(e){h(!0),o()}},Ne.a.t("messageOptionsMenu.delete")),a.a.createElement(k.a,{onClick:function(){c(t),o()}},Ne.a.t("messageOptionsMenu.reply"))))},pa=r(631),ma=r.n(pa);function va(){va=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var f={};function h(){}function d(){}function p(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(m=g);var y=p.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var ga=function(e){var t=e.image,r=e.link,o=e.description;Object(n.useEffect)((function(){}),[t,r,o]);var i=function(){var e=Object(A.a)(va().mark((function e(){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{window.open(r)}catch(t){Ie(t)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{style:{minWidth:"250px"}},a.a.createElement("div",null,a.a.createElement("div",{style:{float:"left"}},a.a.createElement("img",{src:t,alt:"loc",onClick:i,style:{width:"100px"}})),o&&a.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},a.a.createElement(j.a,{style:{marginTop:"12px",marginLeft:"15px",marginRight:"15px",float:"left"},variant:"subtitle1",color:"primary",gutterBottom:!0},a.a.createElement("div",{dangerouslySetInnerHTML:{__html:o.replace("\\n","<br />")}}))),a.a.createElement("div",{style:{display:"block",content:"",clear:"both"}}),a.a.createElement("div",null,a.a.createElement(E.a,null),a.a.createElement(mt.a,{fullWidth:!0,color:"primary",onClick:i,disabled:!r},"Visualizar")))))};function ya(){ya=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var f={};function h(){}function d(){}function p(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(m=g);var y=p.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var ba=Object(m.a)((function(e){return{messagesListWrapper:{overflow:"hidden",position:"relative",display:"flex",flexDirection:"column",flexGrow:1,width:"100%",minWidth:300,minHeight:200},messagesList:Object(h.a)({backgroundImage:"url(".concat(ma.a,")"),display:"flex",flexDirection:"column",flexGrow:1,padding:"20px 20px 20px 20px",overflowY:"scroll"},e.scrollbarStyles),circleLoading:{color:ft.a[500],position:"absolute",opacity:"70%",top:0,left:"50%",marginTop:12},messageLeft:{marginRight:20,marginTop:2,minWidth:100,maxWidth:600,height:"auto",display:"block",position:"relative","&:hover #messageActionsButton":{display:"flex",position:"absolute",top:0,right:0},whiteSpace:"pre-wrap",backgroundColor:"#ffffff",color:"#303030",alignSelf:"flex-start",borderTopLeftRadius:0,borderTopRightRadius:8,borderBottomLeftRadius:8,borderBottomRightRadius:8,paddingLeft:5,paddingRight:5,paddingTop:5,paddingBottom:0,boxShadow:"0 1px 1px #b3b3b3"},quotedContainerLeft:{margin:"-3px -80px 6px -6px",overflow:"hidden",backgroundColor:"#f0f0f0",borderRadius:"7.5px",display:"flex",position:"relative"},quotedMsg:{padding:10,maxWidth:300,height:"auto",display:"block",whiteSpace:"pre-wrap",overflow:"hidden"},quotedSideColorLeft:{flex:"none",width:"4px",backgroundColor:"#6bcbef"},messageRight:{marginLeft:20,marginTop:2,minWidth:100,maxWidth:600,height:"auto",display:"block",position:"relative","&:hover #messageActionsButton":{display:"flex",position:"absolute",top:0,right:0},whiteSpace:"pre-wrap",backgroundColor:"#dcf8c6",color:"#303030",alignSelf:"flex-end",borderTopLeftRadius:8,borderTopRightRadius:8,borderBottomLeftRadius:8,borderBottomRightRadius:0,paddingLeft:5,paddingRight:5,paddingTop:5,paddingBottom:0,boxShadow:"0 1px 1px #b3b3b3"},quotedContainerRight:{margin:"-3px -80px 6px -6px",overflowY:"hidden",backgroundColor:"#cfe9ba",borderRadius:"7.5px",display:"flex",position:"relative"},quotedMsgRight:{padding:10,maxWidth:300,height:"auto",whiteSpace:"pre-wrap"},quotedSideColorRight:{flex:"none",width:"4px",backgroundColor:"#35cd96"},messageActionsButton:{display:"none",position:"relative",color:"#999",zIndex:1,backgroundColor:"inherit",opacity:"90%","&:hover, &.Mui-focusVisible":{backgroundColor:"inherit"}},messageContactName:{display:"flex",color:"#6bcbef",fontWeight:500},textContentItem:{overflowWrap:"break-word",padding:"3px 80px 6px 6px"},textContentItemDeleted:{fontStyle:"italic",color:"rgba(0, 0, 0, 0.36)",overflowWrap:"break-word",padding:"3px 80px 6px 6px"},messageMedia:{objectFit:"cover",width:250,height:200,borderTopLeftRadius:8,borderTopRightRadius:8,borderBottomLeftRadius:8,borderBottomRightRadius:8},timestamp:{fontSize:11,position:"absolute",bottom:0,right:5,color:"#999"},dailyTimestamp:{alignItems:"center",textAlign:"center",alignSelf:"center",width:"110px",backgroundColor:"#e1f3fb",margin:"10px",borderRadius:"10px",boxShadow:"0 1px 1px #b3b3b3"},dailyTimestampText:{color:"#808888",padding:8,alignSelf:"center",marginLeft:"0px"},ackIcons:{fontSize:18,verticalAlign:"middle",marginLeft:4},deletedIcon:{fontSize:18,verticalAlign:"middle",marginRight:4},ackDoneAllIcon:{color:ft.a[500],fontSize:18,verticalAlign:"middle",marginLeft:4},downloadMedia:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"inherit",padding:10}}})),Ea=function(e,t){if("LOAD_MESSAGES"===t.type){var r=t.payload,n=[];return r.forEach((function(t){var r=e.findIndex((function(e){return e.id===t.id}));-1!==r?e[r]=t:n.push(t)})),[].concat(n,Object(M.a)(e))}if("ADD_MESSAGE"===t.type){var a=t.payload,o=e.findIndex((function(e){return e.id===a.id}));return-1!==o?e[o]=a:e.push(a),Object(M.a)(e)}if("UPDATE_MESSAGE"===t.type){var i=t.payload,c=e.findIndex((function(e){return e.id===i.id}));return-1!==c&&(e[c]=i),Object(M.a)(e)}if("RESET"===t.type)return[]},wa=function(e){var t=e.ticket,r=e.ticketId,o=e.isGroup,i=ba(),c=Object(n.useReducer)(Ea,[]),u=Object(l.a)(c,2),s=u[0],f=u[1],h=Object(n.useState)(1),m=Object(l.a)(h,2),v=m[0],g=m[1],y=Object(n.useState)(!1),w=Object(l.a)(y,2),x=w[0],O=w[1],j=Object(n.useState)(!1),L=Object(l.a)(j,2),k=L[0],S=L[1],N=Object(n.useRef)(),T=Object(n.useState)({}),C=Object(l.a)(T,2),_=C[0],I=C[1],P=Object(n.useState)(null),M=Object(l.a)(P,2),F=M[0],G=M[1],R=Boolean(F),D=Object(n.useRef)(r);Object(n.useEffect)((function(){f({type:"RESET"}),g(1),D.current=r}),[r]),Object(n.useEffect)((function(){S(!0);var e=setTimeout((function(){(function(){var e=Object(A.a)(ya().mark((function e(){var t,n;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==r){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,Ge.get("/messages/"+r,{params:{pageNumber:v}});case 5:t=e.sent,n=t.data,D.current===r&&(f({type:"LOAD_MESSAGES",payload:n.messages}),O(n.hasMore),S(!1)),1===v&&n.messages.length>1&&W(),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),S(!1),Ie(e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(){return e.apply(this,arguments)}})()()}),500);return function(){clearTimeout(e)}}),[v,r]),Object(n.useEffect)((function(){var e=localStorage.getItem("companyId"),r=We({companyId:e});return r.on("connect",(function(){return r.emit("joinChatBox","".concat(t.id))})),r.on("company-".concat(e,"-appMessage"),(function(e){"create"===e.action&&(f({type:"ADD_MESSAGE",payload:e.message}),W()),"update"===e.action&&f({type:"UPDATE_MESSAGE",payload:e.message})})),function(){r.disconnect()}}),[r,t]);var W=function(){N.current&&N.current.scrollIntoView({})},q=function(e,t){G(e.currentTarget),I(t)},z=function(e){if("locationMessage"===e.mediaType&&e.body.split("|").length>=2){var t=e.body.split("|"),r=t[0],n=t[1],o=null;return t.length>2&&(o=e.body.split("|")[2]),a.a.createElement(ga,{image:r,link:n,description:o})}return"image"===e.mediaType?a.a.createElement(la,{imageUrl:e.mediaUrl}):"audio"===e.mediaType?a.a.createElement("audio",{controls:!0},a.a.createElement("source",{src:e.mediaUrl,type:"audio/ogg"})):"video"===e.mediaType?a.a.createElement("video",{className:i.messageMedia,src:e.mediaUrl,controls:!0}):a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:i.downloadMedia},a.a.createElement(mt.a,{startIcon:a.a.createElement($n.a,null),color:"primary",variant:"outlined",target:"_blank",href:e.mediaUrl},"Download")),a.a.createElement(E.a,null))},Y=function(e,t){if(0===t)return a.a.createElement("span",{className:i.dailyTimestamp,key:"timestamp-".concat(e.id)},a.a.createElement("div",{className:i.dailyTimestampText},Object(at.a)(Object(st.a)(s[t].createdAt),"dd/MM/yyyy")));if(t<s.length-1){var r=Object(st.a)(s[t].createdAt),n=Object(st.a)(s[t-1].createdAt);if(!Object(ut.a)(r,n))return a.a.createElement("span",{className:i.dailyTimestamp,key:"timestamp-".concat(e.id)},a.a.createElement("div",{className:i.dailyTimestampText},Object(at.a)(Object(st.a)(s[t].createdAt),"dd/MM/yyyy")))}return t===s.length-1?a.a.createElement("div",{key:"ref-".concat(e.createdAt),ref:N,style:{float:"left",clear:"both"}}):void 0},B=function(e,t){if(t<s.length&&t>0&&e.ticketId!==s[t-1].ticketId)return a.a.createElement("center",null,a.a.createElement("div",{className:i.ticketNunberClosed},"Conversa encerrada: ",Object(at.a)(Object(st.a)(s[t-1].createdAt),"dd/MM/yyyy HH:mm:ss")),a.a.createElement("div",{className:i.ticketNunberOpen},"Conversa iniciada: ",Object(at.a)(Object(st.a)(e.createdAt),"dd/MM/yyyy HH:mm:ss")))},H=function(e,t){if(t<s.length&&t>0&&s[t].fromMe!==s[t-1].fromMe)return a.a.createElement("span",{style:{marginTop:16},key:"divider-".concat(e.id)})},U=function(e){var t,r,n,o,c;return a.a.createElement("div",{className:Object(p.a)(i.quotedContainerLeft,Object(d.a)({},i.quotedContainerRight,e.fromMe))},a.a.createElement("span",{className:Object(p.a)(i.quotedSideColorLeft,Object(d.a)({},i.quotedSideColorRight,null===(t=e.quotedMsg)||void 0===t?void 0:t.fromMe))}),a.a.createElement("div",{className:i.quotedMsg},!(null===(r=e.quotedMsg)||void 0===r?void 0:r.fromMe)&&a.a.createElement("span",{className:i.messageContactName},null===(n=e.quotedMsg)||void 0===n||null===(o=n.contact)||void 0===o?void 0:o.name),"audio"===e.quotedMsg.mediaType&&a.a.createElement("div",{className:i.downloadMedia},a.a.createElement("audio",{controls:!0},a.a.createElement("source",{src:e.quotedMsg.mediaUrl,type:"audio/ogg"}))),"video"===e.quotedMsg.mediaType&&a.a.createElement("video",{className:i.messageMedia,src:e.quotedMsg.mediaUrl,controls:!0}),"application"===e.quotedMsg.mediaType&&a.a.createElement("div",{className:i.downloadMedia},a.a.createElement(mt.a,{startIcon:a.a.createElement($n.a,null),color:"primary",variant:"outlined",target:"_blank",href:e.quotedMsg.mediaUrl},"Download")),"image"===e.quotedMsg.mediaType&&a.a.createElement(la,{imageUrl:e.quotedMsg.mediaUrl})||(null===(c=e.quotedMsg)||void 0===c?void 0:c.body)))};return a.a.createElement("div",{className:i.messagesListWrapper},a.a.createElement(da,{message:_,anchorEl:F,menuOpen:R,handleClose:function(e){G(null)}}),a.a.createElement("div",{id:"messagesList",className:i.messagesList,onScroll:function(e){if(x){var t=e.currentTarget.scrollTop;0===t&&(document.getElementById("messagesList").scrollTop=1),k||t<50&&g((function(e){return e+1}))}}},s.length>0?s.length>0?s.map((function(e,t){var r,n;return"call_log"===e.mediaType?a.a.createElement(a.a.Fragment,{key:e.id},Y(e,t),B(e,t),H(e,t),a.a.createElement("div",{className:i.messageCenter},a.a.createElement(b.a,{variant:"contained",size:"small",id:"messageActionsButton",disabled:e.isDeleted,className:i.messageActionsButton,onClick:function(t){return q(t,e)}},a.a.createElement(na.a,null)),o&&a.a.createElement("span",{className:i.messageContactName},null===(r=e.contact)||void 0===r?void 0:r.name),a.a.createElement("div",null,a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 17",width:"20",height:"17"},a.a.createElement("path",{fill:"#df3333",d:"M18.2 12.1c-1.5-1.8-5-2.7-8.2-2.7s-6.7 1-8.2 2.7c-.7.8-.3 2.3.2 2.8.2.2.3.3.5.3 1.4 0 3.6-.7 3.6-.7.5-.2.8-.5.8-1v-1.3c.7-1.2 5.4-1.2 6.4-.1l.1.1v1.3c0 .2.1.4.2.6.1.2.3.3.5.4 0 0 2.2.7 3.6.7.2 0 1.4-2 .5-3.1zM5.4 3.2l4.7 4.6 5.8-5.7-.9-.8L10.1 6 6.4 2.3h2.5V1H4.1v4.8h1.3V3.2z"}))," ",a.a.createElement("span",null,"Chamada de voz/v\xeddeo perdida \xe0s ",Object(at.a)(Object(st.a)(e.createdAt),"HH:mm"))))):e.fromMe?a.a.createElement(a.a.Fragment,{key:e.id},Y(e,t),B(e,t),H(e,t),a.a.createElement("div",{className:i.messageRight},a.a.createElement(b.a,{variant:"contained",size:"small",id:"messageActionsButton",disabled:e.isDeleted,className:i.messageActionsButton,onClick:function(t){return q(t,e)}},a.a.createElement(na.a,null)),(e.mediaUrl||"locationMessage"===e.mediaType||"vcard"===e.mediaType)&&z(e),a.a.createElement("div",{className:Object(p.a)(i.textContentItem,Object(d.a)({},i.textContentItemDeleted,e.isDeleted))},e.isDeleted&&a.a.createElement(aa.a,{color:"disabled",fontSize:"small",className:i.deletedIcon}),e.quotedMsg&&U(e),a.a.createElement(Lt,null,e.body),a.a.createElement("span",{className:i.timestamp},Object(at.a)(Object(st.a)(e.createdAt),"HH:mm"),function(e){return 1===e.ack?a.a.createElement(ea.a,{fontSize:"small",className:i.ackIcons}):2===e.ack?a.a.createElement(ta.a,{fontSize:"small",className:i.ackIcons}):3===e.ack?a.a.createElement(ra.a,{fontSize:"small",className:i.ackIcons}):4===e.ack||5===e.ack?a.a.createElement(ra.a,{fontSize:"small",className:i.ackDoneAllIcon}):void 0}(e))))):a.a.createElement(a.a.Fragment,{key:e.id},Y(e,t),B(e,t),H(e,t),a.a.createElement("div",{className:i.messageLeft},a.a.createElement(b.a,{variant:"contained",size:"small",id:"messageActionsButton",disabled:e.isDeleted,className:i.messageActionsButton,onClick:function(t){return q(t,e)}},a.a.createElement(na.a,null)),o&&a.a.createElement("span",{className:i.messageContactName},null===(n=e.contact)||void 0===n?void 0:n.name),e.isDeleted&&a.a.createElement("div",null,a.a.createElement("span",{className:"message-deleted"},"Essa mensagem foi apagada pelo contato \xa0",a.a.createElement(aa.a,{color:"error",fontSize:"small",className:i.deletedIcon}))),(e.mediaUrl||"locationMessage"===e.mediaType||"vcard"===e.mediaType)&&z(e),a.a.createElement("div",{className:i.textContentItem},e.quotedMsg&&U(e),a.a.createElement(Lt,null,"locationMessage"===e.mediaType?null:e.body),a.a.createElement("span",{className:i.timestamp},Object(at.a)(Object(st.a)(e.createdAt),"HH:mm")))))})):a.a.createElement("div",null,"Diga ol\xe1 para seu novo contato!"):[]),k&&a.a.createElement("div",null,a.a.createElement(vt.a,{className:i.circleLoading})))},xa=Object(m.a)((function(e){return{ticketHeader:{display:"flex",backgroundColor:"#eee",flex:"none",borderBottom:"1px solid rgba(0, 0, 0, 0.12)"}}})),Oa=function(){var e=xa();return a.a.createElement(Vr.a,{square:!0,className:e.ticketHeader},a.a.createElement(Qr.a,{titleTypographyProps:{noWrap:!0},subheaderTypographyProps:{noWrap:!0},avatar:a.a.createElement(Zr.a,{animation:"wave",variant:"circle"},a.a.createElement(dt.a,{alt:"contact_image"})),title:a.a.createElement(Zr.a,{animation:"wave",width:80}),subheader:a.a.createElement(Zr.a,{animation:"wave",width:140})}))},ja=Object(m.a)((function(e){return{ticketHeader:{display:"flex",backgroundColor:"#eee",flex:"none",borderBottom:"1px solid rgba(0, 0, 0, 0.12)"}}})),La=function(e){var t=e.loading,r=e.children,n=ja();return a.a.createElement(a.a.Fragment,null,t?a.a.createElement(Oa,null):a.a.createElement(Vr.a,{square:!0,className:n.ticketHeader},r))},ka=function(e){var t=e.contact,r=e.ticket,o=e.onClick,i=r.user,c=Object(n.useState)(""),u=Object(l.a)(c,2),s=u[0],f=u[1],h=Object(n.useState)(""),d=Object(l.a)(h,2),p=d[0],m=d[1];return Object(n.useEffect)((function(){if(t&&(m(t.name),document.body.offsetWidth<600&&t.name.length>10)){var e=t.name.substring(0,10)+"...";m(e)}i&&t&&(f("".concat(Ne.a.t("messagesList.header.assignedTo")," ").concat(i.name)),document.body.offsetWidth<600&&f("".concat(i.name)))}),[]),a.a.createElement(Qr.a,{onClick:o,style:{cursor:"pointer"},titleTypographyProps:{noWrap:!0},subheaderTypographyProps:{noWrap:!0},avatar:a.a.createElement(dt.a,{src:t.profilePicUrl,alt:"contact_image"}),title:"".concat(p," #").concat(r.id),subheader:r.user&&"".concat(s)})};function Sa(){Sa=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var f={};function h(){}function d(){}function p(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(m=g);var y=p.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Na=Object(m.a)((function(e){return{root:{display:"flex",height:"100%",position:"relative",overflow:"hidden"},mainWrapper:{flex:1,height:"100%",display:"flex",flexDirection:"column",overflow:"hidden",borderTopLeftRadius:0,borderBottomLeftRadius:0,borderLeft:"0",marginRight:-320,transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},mainWrapperShift:{borderTopRightRadius:0,borderBottomRightRadius:0,transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginRight:0}}}));function Ta(e){var t=e.open,r=e.handleClose,o=e.ticketId,i=Object(s.g)(),c=Na(),u=Object(n.useContext)(Je).user,d=Object(n.useState)(!1),p=Object(l.a)(d,2)[1],m=Object(n.useState)(!0),v=Object(l.a)(m,2),g=v[0],y=v[1],b=Object(n.useState)({}),E=Object(l.a)(b,2),w=E[0],x=E[1],O=Object(n.useState)({}),j=Object(l.a)(O,2),L=j[0],k=j[1];Object(n.useEffect)((function(){var e=null;return t&&(y(!0),e=setTimeout((function(){(function(){var e=Object(A.a)(Sa().mark((function e(){var t,r,n,a;return Sa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ge.get("/tickets/"+o);case 3:t=e.sent,r=t.data,n=r.queueId,a=u.queues,u.profile,a.find((function(e){return e.id===n})),x(r.contact),k(r),y(!1),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),y(!1),Ie(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}})()()}),500)),function(){null!==e&&clearTimeout(e)}}),[o,u,i,t]),Object(n.useEffect)((function(){var e=localStorage.getItem("companyId"),r=null;return t&&((r=We({companyId:e})).on("connect",(function(){return r.emit("joinChatBox","".concat(L.id))})),r.on("company-".concat(e,"-ticket"),(function(e){"update"===e.action&&k(e.ticket),"delete"===e.action&&(f.b.success("Ticket deleted sucessfully."),i.push("/tickets"))})),r.on("company-".concat(e,"-contact"),(function(e){"update"===e.action&&x((function(t){var r;return t.id===(null===(r=e.contact)||void 0===r?void 0:r.id)?Object(h.a)(Object(h.a)({},t),e.contact):t}))}))),function(){null!==r&&r.disconnect()}}),[o,L,i,t]);var S=function(){p(!0)};return a.a.createElement(Dt.a,{maxWidth:"md",onClose:r,open:t},a.a.createElement(La,{loading:g},function(){if(void 0!==L.user)return a.a.createElement(ka,{contact:w,ticket:L,onClick:S})}()),a.a.createElement(fa,null,a.a.createElement(Hn.a,{className:c.root},a.a.createElement(wa,{ticket:L,ticketId:L.id,isGroup:L.isGroup}))),a.a.createElement(Wt.a,null,a.a.createElement(mt.a,{onClick:r,color:"primary"},"Fechar")))}var Ca=r(262),_a=r.n(Ca),Ia=r(363),Aa=r.n(Ia);function Pa(){Pa=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var f={};function h(){}function d(){}function p(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(m=g);var y=p.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Ma=Object(m.a)((function(e){return{ticket:{position:"relative"},pendingTicket:{cursor:"unset"},noTicketsDiv:{display:"flex",height:"100px",margin:40,flexDirection:"column",alignItems:"center",justifyContent:"center"},noTicketsText:{textAlign:"center",color:"rgb(104, 121, 146)",fontSize:"14px",lineHeight:"1.4"},noTicketsTitle:{textAlign:"center",fontSize:"16px",fontWeight:"600",margin:"0px"},contactNameWrapper:{display:"flex",justifyContent:"space-between"},lastMessageTime:{justifySelf:"flex-end",textAlign:"right",position:"relative",top:-13},closedBadge:{alignSelf:"center",justifySelf:"flex-end",marginRight:32,marginLeft:"auto"},contactLastMessage:{paddingRight:"50%"},newMessagesCount:{alignSelf:"center",marginRight:0,marginLeft:"auto",top:-13},badgeStyle:{color:"white",backgroundColor:ft.a[500],right:20},acceptButton:{position:"absolute",right:"108px"},ticketQueueColor:{flex:"none",width:"8px",height:"100%",position:"absolute",top:"0%",left:"0%"},ticketInfo:{position:"relative",top:-13},ticketInfo1:{position:"relative",top:13,right:0},Radiusdot:{"& .MuiBadge-badge":{borderRadius:2,position:"inherit",height:16,margin:2,padding:3},"& .MuiBadge-anchorOriginTopRightRectangle":{transform:"scale(1) translate(0%, -40%)"}}}})),Fa=function(e){var t,r,o,i,c=e.ticket,u=Ma(),f=Object(s.g)(),h=Object(n.useState)(!1),m=Object(l.a)(h,2),v=(m[0],m[1]),g=Object(n.useState)(null),y=Object(l.a)(g,2),b=y[0],w=y[1],x=Object(n.useState)(null),O=Object(l.a)(x,2),L=O[0],k=O[1],S=Object(n.useState)(!1),N=Object(l.a)(S,2),T=N[0],C=N[1],_=Object(s.h)().ticketId,I=Object(n.useRef)(!0),P=Object(n.useContext)(Un).setCurrentTicket,M=Object(n.useContext)(Je).user,G=M.profile;Object(n.useEffect)((function(){return c.userId&&c.user&&w(c.user.name),c.whatsappId&&c.whatsapp&&k(c.whatsapp.name),function(){I.current=!1}}),[]);var D=function(){var e=Object(A.a)(Pa().mark((function e(t){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.prev=1,e.next=4,Ge.put("/tickets/".concat(t),{status:"closed",userId:null===M||void 0===M?void 0:M.id});case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),v(!1),Ie(e.t0);case 10:I.current&&v(!1),f.push("/tickets/");case 12:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(A.a)(Pa().mark((function e(t){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.prev=1,e.next=4,Ge.put("/tickets/".concat(t),{status:"open",userId:null===M||void 0===M?void 0:M.id});case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),v(!1),Ie(e.t0);case 10:I.current&&v(!1),f.push("/tickets/".concat(c.uuid));case 12:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,{key:c.id},a.a.createElement(Ta,{open:T,handleClose:function(){return C(!1)},ticketId:c.id}),a.a.createElement(F.a,{dense:!0,button:!0,onClick:function(e){"pending"!==c.status&&function(e){var t=Object(Qn.a)(),r=e.id,n=e.uuid;P({id:r,uuid:n,code:t})}(c)},selected:_&&+_===c.id,className:Object(p.a)(u.ticket,Object(d.a)({},u.pendingTicket,"pending"===c.status))},a.a.createElement(kt.a,{arrow:!0,placement:"right",title:(null===(t=c.queue)||void 0===t?void 0:t.name)||"Sem fila"},a.a.createElement("span",{style:{backgroundColor:(null===(r=c.queue)||void 0===r?void 0:r.color)||"#7C7C7C"},className:u.ticketQueueColor})),a.a.createElement(ht.a,null,a.a.createElement(dt.a,{src:null===c||void 0===c||null===(o=c.contact)||void 0===o?void 0:o.profilePicUrl})),a.a.createElement(R.a,{disableTypography:!0,primary:a.a.createElement("span",{className:u.contactNameWrapper},a.a.createElement(j.a,{noWrap:!0,component:"span",variant:"body2",color:"textPrimary"},c.contact.name),a.a.createElement(Bn.a,null,a.a.createElement(Hn.a,{className:u.ticketInfo1},function(){var e,t,r,n,o,i;return b?a.a.createElement(a.a.Fragment,null,a.a.createElement(W.a,{className:u.Radiusdot,badgeContent:"".concat(b),color:"primary"}),c.whatsappId&&a.a.createElement(W.a,{className:u.Radiusdot,badgeContent:"".concat(L),style:{backgroundColor:"#7d79f2",height:16,padding:4,marginRight:2,position:"inherit",borderRadius:2,color:"white",top:-6}}),null!==(null===(e=c.queue)||void 0===e?void 0:e.name)&&a.a.createElement(W.a,{className:u.Radiusdot,style:{backgroundColor:(null===(t=c.queue)||void 0===t?void 0:t.color)||"#7C7C7C",height:16,padding:4,position:"inherit",borderRadius:2,color:"white",top:-6},badgeContent:(null===(r=c.queue)||void 0===r?void 0:r.name)||"Sem fila"}),"open"===c.status&&a.a.createElement(kt.a,{title:"Fechar Conversa"},a.a.createElement(Aa.a,{onClick:function(){return D(c.id)},fontSize:"small",style:{color:an.a[700],cursor:"pointer",marginRight:5}})),"admin"===G&&a.a.createElement(kt.a,{title:"Espiar Conversa"},a.a.createElement(Xn.a,{onClick:function(){return C(!0)},fontSize:"small",style:{color:Fr.a[700],cursor:"pointer",marginRight:5}})),c.chatbot&&a.a.createElement(kt.a,{title:"Chatbot"},a.a.createElement(Jn.a,{fontSize:"small",style:{color:Mr.a[700],marginRight:5}}))):a.a.createElement(a.a.Fragment,null,null!==(null===(n=c.queue)||void 0===n?void 0:n.name)&&a.a.createElement(W.a,{className:u.Radiusdot,style:{backgroundColor:(null===(o=c.queue)||void 0===o?void 0:o.color)||"#7C7C7C",height:16,padding:4,position:"inherit",borderRadius:2,color:"white",top:-6},badgeContent:(null===(i=c.queue)||void 0===i?void 0:i.name)||"Sem fila"}),"pending"===c.status&&a.a.createElement(kt.a,{title:"Fechar Conversa"},a.a.createElement(Aa.a,{onClick:function(){return D(c.id)},fontSize:"small",style:{color:an.a[700],cursor:"pointer",marginRight:5}})),c.chatbot&&a.a.createElement(kt.a,{title:"Chatbot"},a.a.createElement(Jn.a,{fontSize:"small",style:{color:Mr.a[700],marginRight:5}})),"open"===c.status&&a.a.createElement(kt.a,{title:"Fechar Conversa"},a.a.createElement(Aa.a,{onClick:function(){return D(c.id)},fontSize:"small",style:{color:an.a[700],cursor:"pointer",marginRight:5}})),"admin"===G&&a.a.createElement(kt.a,{title:"Espiar Conversa"},a.a.createElement(Xn.a,{onClick:function(){return C(!0)},fontSize:"small",style:{color:Fr.a[700],cursor:"pointer",marginRight:5}})),"pending"===c.status&&a.a.createElement(kt.a,{title:"Aceitar Conversa"},a.a.createElement(_a.a,{onClick:function(){return q(c.id)},fontSize:"small",style:{color:ft.a[700],cursor:"pointer",marginRight:5}})))}()))),secondary:a.a.createElement("span",{className:u.contactNameWrapper},a.a.createElement(j.a,{className:u.contactLastMessage,noWrap:!0,component:"span",variant:"body2",color:"textSecondary"}," ",c.lastMessage.includes("data:image/png;base64")?a.a.createElement(Lt,null," Localiza\xe7\xe3o"):a.a.createElement(Lt,null,c.lastMessage)))}),a.a.createElement(Bn.a,null,"closed"===c.status&&a.a.createElement(W.a,{className:u.Radiusdot,badgeContent:"FECHADO",style:{marginRight:5,backgroundColor:(null===(i=c.queue)||void 0===i?void 0:i.color)||"#ff0000",height:16,padding:4,borderRadius:2,color:"white",top:-13}}),c.lastMessage&&a.a.createElement(a.a.Fragment,null,a.a.createElement(W.a,{className:u.newMessagesCount,badgeContent:c.unreadMessages?c.unreadMessages:null,classes:{badge:u.badgeStyle}}),a.a.createElement(j.a,{className:u.lastMessageTime,component:"span",variant:"body2",color:"textSecondary"},Object(ut.a)(Object(st.a)(c.updatedAt),new Date)?a.a.createElement(a.a.Fragment,null,Object(at.a)(Object(st.a)(c.updatedAt),"HH:mm")):a.a.createElement(a.a.Fragment,null,Object(at.a)(Object(st.a)(c.updatedAt),"dd/MM/yyyy"))),a.a.createElement("br",null)))),a.a.createElement(E.a,{variant:"inset",component:"li"}))},Ga=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(F.a,{dense:!0},a.a.createElement(ht.a,null,a.a.createElement(Zr.a,{animation:"wave",variant:"circle",width:40,height:40})),a.a.createElement(R.a,{primary:a.a.createElement(Zr.a,{animation:"wave",height:20,width:60}),secondary:a.a.createElement(Zr.a,{animation:"wave",height:20,width:90})})),a.a.createElement(E.a,{variant:"inset"}),a.a.createElement(F.a,{dense:!0},a.a.createElement(ht.a,null,a.a.createElement(Zr.a,{animation:"wave",variant:"circle",width:40,height:40})),a.a.createElement(R.a,{primary:a.a.createElement(Zr.a,{animation:"wave",height:20,width:70}),secondary:a.a.createElement(Zr.a,{animation:"wave",height:20,width:120})})),a.a.createElement(E.a,{variant:"inset"}),a.a.createElement(F.a,{dense:!0},a.a.createElement(ht.a,null,a.a.createElement(Zr.a,{animation:"wave",variant:"circle",width:40,height:40})),a.a.createElement(R.a,{primary:a.a.createElement(Zr.a,{animation:"wave",height:20,width:60}),secondary:a.a.createElement(Zr.a,{animation:"wave",height:20,width:90})})),a.a.createElement(E.a,{variant:"inset"}))},Ra=Object(m.a)((function(e){return{ticketsListWrapper:{position:"relative",display:"flex",height:"100%",flexDirection:"column",overflow:"hidden",borderTopRightRadius:0,borderBottomRightRadius:0},ticketsList:Object(h.a)(Object(h.a)({flex:1,maxHeight:"100%",overflowY:"scroll"},e.scrollbarStyles),{},{borderTop:"2px solid rgba(0, 0, 0, 0.12)"}),ticketsListHeader:{color:"rgb(67, 83, 105)",zIndex:2,backgroundColor:"white",borderBottom:"1px solid rgba(0, 0, 0, 0.12)",display:"flex",alignItems:"center",justifyContent:"space-between"},ticketsCount:{fontWeight:"normal",color:"rgb(104, 121, 146)",marginLeft:"8px",fontSize:"14px"},noTicketsText:{textAlign:"center",color:"rgb(104, 121, 146)",fontSize:"14px",lineHeight:"1.4"},noTicketsTitle:{textAlign:"center",fontSize:"16px",fontWeight:"600",margin:"0px"},noTicketsDiv:{display:"flex",height:"100px",margin:40,flexDirection:"column",alignItems:"center",justifyContent:"center"}}})),Da=function(e,t){if("LOAD_TICKETS"===t.type)return t.payload.forEach((function(t){var r=e.findIndex((function(e){return e.id===t.id}));-1!==r?(e[r]=t,t.unreadMessages>0&&e.unshift(e.splice(r,1)[0])):e.push(t)})),Object(M.a)(e);if("RESET_UNREAD"===t.type){var r=t.payload,n=e.findIndex((function(e){return e.id===r}));return-1!==n&&(e[n].unreadMessages=0),Object(M.a)(e)}if("UPDATE_TICKET"===t.type){var a=t.payload,o=e.findIndex((function(e){return e.id===a.id}));return-1!==o?e[o]=a:e.unshift(a),Object(M.a)(e)}if("UPDATE_TICKET_UNREAD_MESSAGES"===t.type){var i=t.payload,c=e.findIndex((function(e){return e.id===i.id}));return-1!==c?(e[c]=i,e.unshift(e.splice(c,1)[0])):e.unshift(i),Object(M.a)(e)}if("UPDATE_TICKET_CONTACT"===t.type){var l=t.payload,u=e.findIndex((function(e){return e.contactId===l.id}));return-1!==u&&(e[u].contact=l),Object(M.a)(e)}if("DELETE_TICKET"===t.type){var s=t.payload,f=e.findIndex((function(e){return e.id===s}));return-1!==f&&e.splice(f,1),Object(M.a)(e)}return"RESET"===t.type?[]:void 0},Wa=function(e){var t=e.status,r=e.searchParam,o=e.tags,i=e.users,c=e.showAll,u=e.selectedQueueIds,s=e.updateCount,f=e.style,h=Ra(),d=Object(n.useState)(1),p=Object(l.a)(d,2),m=p[0],v=p[1],g=Object(n.useReducer)(Da,[]),y=Object(l.a)(g,2),b=y[0],E=y[1],x=Object(n.useContext)(Je).user,O=x.profile,j=x.queues;Object(n.useEffect)((function(){E({type:"RESET"}),v(1)}),[t,r,E,c,o,i,u]);var L=_t({pageNumber:m,searchParam:r,status:t,showAll:c,tags:JSON.stringify(o),users:JSON.stringify(i),queueIds:JSON.stringify(u)}),k=L.tickets,S=L.hasMore,N=L.loading;Object(n.useEffect)((function(){var e=j.map((function(e){return e.id}));k.filter((function(t){return e.indexOf(t.queueId)>-1}));E({type:"LOAD_TICKETS",payload:k})}),[k,t,r,j,O]),Object(n.useEffect)((function(){var e=localStorage.getItem("companyId"),r=We({companyId:e}),n=function(e){return(!e.userId||e.userId===(null===x||void 0===x?void 0:x.id)||c)&&(!e.queueId||u.indexOf(e.queueId)>-1)};return r.on("connect",(function(){t?r.emit("joinTickets",t):r.emit("joinNotification")})),r.on("company-".concat(e,"-ticket"),(function(e){var t;"updateUnread"===e.action&&E({type:"RESET_UNREAD",payload:e.ticketId}),"update"===e.action&&n(e.ticket)&&E({type:"UPDATE_TICKET",payload:e.ticket}),"update"===e.action&&((t=e.ticket).queueId&&-1===u.indexOf(t.queueId))&&E({type:"DELETE_TICKET",payload:e.ticket.id}),"delete"===e.action&&E({type:"DELETE_TICKET",payload:e.ticketId})})),r.on("company-".concat(e,"-appMessage"),(function(e){"create"===e.action&&n(e.ticket)&&E({type:"UPDATE_TICKET_UNREAD_MESSAGES",payload:e.ticket})})),r.on("company-".concat(e,"-contact"),(function(e){"update"===e.action&&E({type:"UPDATE_TICKET_CONTACT",payload:e.contact})})),function(){r.disconnect()}}),[t,c,x,u,o,i,O,j]),Object(n.useEffect)((function(){"function"===typeof s&&s(b.length)}),[b]);return a.a.createElement(ar.a,{className:h.ticketsListWrapper,style:f},a.a.createElement(ar.a,{square:!0,name:"closed",elevation:0,className:h.ticketsList,onScroll:function(e){if(S&&!N){var t=e.currentTarget,r=t.scrollTop;t.scrollHeight-(r+100)<t.clientHeight&&v((function(e){return e+1}))}}},a.a.createElement(w.a,{style:{paddingTop:0}},0!==b.length||N?a.a.createElement(a.a.Fragment,null,b.map((function(e){return a.a.createElement(Fa,{ticket:e,key:e.id})}))):a.a.createElement("div",{className:h.noTicketsDiv},a.a.createElement("span",{className:h.noTicketsTitle},Ne.a.t("ticketsList.noTicketsTitle")),a.a.createElement("p",{className:h.noTicketsText},Ne.a.t("ticketsList.noTicketsMessage"))),N&&a.a.createElement(Ga,null))))},qa=["children","value","name"],za=function(e){var t=e.children,r=e.value,n=e.name,o=Object(pt.a)(e,qa);return r===n?a.a.createElement("div",Object.assign({role:"tabpanel",id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},o),a.a.createElement(a.a.Fragment,null,t)):null},Ya=r(1182),Ba=function(e){var t=e.userQueues,r=e.selectedQueueIds,n=void 0===r?[]:r,o=e.onChange;return a.a.createElement("div",{style:{width:120,marginTop:-4}},a.a.createElement(Ht.a,{fullWidth:!0,margin:"dense"},a.a.createElement(Yt.a,{multiple:!0,displayEmpty:!0,variant:"outlined",value:n,onChange:function(e){o(e.target.value)},MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null},renderValue:function(){return Ne.a.t("ticketsQueueSelect.placeholder")}},(null===t||void 0===t?void 0:t.length)>0&&t.map((function(e){return a.a.createElement(k.a,{dense:!0,key:e.id,value:e.id},a.a.createElement(Ya.a,{style:{color:e.color},size:"small",color:"primary",checked:n.indexOf(e.id)>-1}),a.a.createElement(R.a,{primary:e.name}))})))))};function Ha(){Ha=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var f={};function h(){}function d(){}function p(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(m=g);var y=p.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function Ua(e){var t=e.onFiltered,r=Object(n.useState)([]),o=Object(l.a)(r,2),i=o[0],c=o[1],u=Object(n.useState)([]),s=Object(l.a)(u,2),f=s[0],h=s[1];Object(n.useEffect)((function(){function e(){return(e=Object(A.a)(Ha().mark((function e(){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var d=function(){var e=Object(A.a)(Ha().mark((function e(){var t,r;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ge.get("/tags/list");case 3:t=e.sent,r=t.data,c(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),Ie(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(A.a)(Ha().mark((function e(r){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h(r),t(r);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(Hn.a,{style:{padding:10}},a.a.createElement(Pn.a,{multiple:!0,size:"small",options:i,value:f,onChange:function(e,t,r){return p(t)},getOptionLabel:function(e){return e.name},renderTags:function(e,t){return e.map((function(e,r){return a.a.createElement(Ut.a,Object.assign({variant:"outlined",style:{backgroundColor:e.color||"#eee",textShadow:"1px 1px 1px #000",color:"white"},label:e.name},t({index:r}),{size:"small"}))}))},renderInput:function(e){return a.a.createElement(Rt.a,Object.assign({},e,{variant:"outlined",placeholder:"Filtro por Tags"}))}}))}function Va(){Va=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var f={};function h(){}function d(){}function p(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(m=g);var y=p.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function Qa(e){var t=e.onFiltered,r=e.initialUsers,o=Object(n.useState)([]),i=Object(l.a)(o,2),c=i[0],u=i[1],s=Object(n.useState)([]),f=Object(l.a)(s,2),h=f[0],d=f[1];Object(n.useEffect)((function(){function e(){return(e=Object(A.a)(Va().mark((function e(){return Va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(n.useEffect)((function(){d([]),Array.isArray(r)&&Array.isArray(c)&&c.length>0&&m(r)}),[r,c]);var p=function(){var e=Object(A.a)(Va().mark((function e(){var t,r,n;return Va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ge.get("/users/list");case 3:t=e.sent,r=t.data,n=r.map((function(e){return{id:e.id,name:e.name}})),u(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),Ie(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(A.a)(Va().mark((function e(r){return Va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d(r),t(r);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(Hn.a,{style:{padding:"0px 10px 10px"}},a.a.createElement(Pn.a,{multiple:!0,size:"small",options:c,value:h,onChange:function(e,t,r){return m(t)},getOptionLabel:function(e){return e.name},getOptionSelected:function(e,t){return(null===e||void 0===e?void 0:e.id)===(null===t||void 0===t?void 0:t.id)||(null===e||void 0===e?void 0:e.name.toLowerCase())===(null===t||void 0===t?void 0:t.name.toLowerCase())},renderTags:function(e,t){return e.map((function(e,r){return a.a.createElement(Ut.a,Object.assign({variant:"outlined",style:{backgroundColor:"#bfbfbf",textShadow:"1px 1px 1px #000",color:"white"},label:e.name},t({index:r}),{size:"small"}))}))},renderInput:function(e){return a.a.createElement(Rt.a,Object.assign({},e,{variant:"outlined",placeholder:"Filtro por Users"}))}}))}var Za=Object(m.a)((function(e){return{ticketsWrapper:{position:"relative",display:"flex",height:"100%",flexDirection:"column",overflow:"hidden",borderTopRightRadius:0,borderBottomRightRadius:0},tabsHeader:{flex:"none",backgroundColor:"#eee"},settingsIcon:{alignSelf:"center",marginLeft:"auto",padding:8},tab:{minWidth:120,width:120},ticketOptionsBox:{display:"flex",justifyContent:"space-between",alignItems:"center",background:"#fafafa",padding:e.spacing(1)},serachInputWrapper:{flex:1,background:"#fff",display:"flex",borderRadius:40,padding:4,marginRight:e.spacing(1)},searchIcon:{color:"grey",marginLeft:6,marginRight:6,alignSelf:"center"},searchInput:{flex:1,border:"none",borderRadius:30},badge:{right:"-10px"},show:{display:"block"},hide:{display:"none !important"}}})),Ja=function(){var e,t=Za(),r=Object(s.g)(),o=Object(n.useState)(""),i=Object(l.a)(o,2),c=i[0],u=i[1],f=Object(n.useState)("open"),h=Object(l.a)(f,2),d=h[0],p=h[1],m=Object(n.useState)("open"),v=Object(l.a)(m,2),g=v[0],y=v[1],b=Object(n.useState)(!1),E=Object(l.a)(b,2),w=E[0],x=E[1],O=Object(n.useState)(!1),j=Object(l.a)(O,2),L=j[0],k=j[1],S=Object(n.useRef)(),N=Object(n.useContext)(Je).user,T=N.profile,C=Object(n.useState)(0),_=Object(l.a)(C,2),I=_[0],A=_[1],P=Object(n.useState)(0),M=Object(l.a)(P,2),F=M[0],G=M[1],R=N.queues.map((function(e){return e.id})),D=Object(n.useState)(R||[]),q=Object(l.a)(D,2),z=q[0],Y=q[1],B=Object(n.useState)([]),H=Object(l.a)(B,2),U=H[0],V=H[1],Q=Object(n.useState)([]),Z=Object(l.a)(Q,2),J=Z[0],K=Z[1];Object(n.useEffect)((function(){"ADMIN"===N.profile.toUpperCase()&&k(!0)}),[]),Object(n.useEffect)((function(){"search"===d&&S.current.focus()}),[d]);var X=function(e){if(g!==e)return{width:0,height:0}};return a.a.createElement(ar.a,{elevation:0,variant:"outlined",className:t.ticketsWrapper},a.a.createElement(Yn,{modalOpen:w,onClose:function(e){console.log("ticket",e),function(e){x(!1),void 0!==e&&void 0!==e.uuid&&r.push("/tickets/".concat(e.uuid))}(e)}}),a.a.createElement(ar.a,{elevation:0,square:!0,className:t.tabsHeader},a.a.createElement(Ln.a,{value:d,onChange:function(e,t){p(t)},variant:"fullWidth",indicatorColor:"primary",textColor:"primary","aria-label":"icon label tabs example"},a.a.createElement(kn.a,{value:"open",icon:a.a.createElement(Nn.a,null),label:Ne.a.t("tickets.tabs.open.title"),classes:{root:t.tab}}),a.a.createElement(kn.a,{value:"closed",icon:a.a.createElement(Cn.a,null),label:Ne.a.t("tickets.tabs.closed.title"),classes:{root:t.tab}}),a.a.createElement(kn.a,{value:"search",icon:a.a.createElement(On.a,null),label:Ne.a.t("tickets.tabs.search.title"),classes:{root:t.tab}}))),a.a.createElement(ar.a,{square:!0,elevation:0,className:t.ticketOptionsBox},"search"===d?a.a.createElement("div",{className:t.serachInputWrapper},a.a.createElement(On.a,{className:t.searchIcon}),a.a.createElement(jn.a,{className:t.searchInput,inputRef:S,placeholder:Ne.a.t("tickets.search.placeholder"),type:"search",onChange:function(t){var r=t.target.value.toLowerCase();if(clearTimeout(e),""===r)return u(r),void p("open");e=setTimeout((function(){u(r)}),500)}})):a.a.createElement(a.a.Fragment,null,a.a.createElement(mt.a,{variant:"outlined",color:"primary",onClick:function(){return x(!0)}},Ne.a.t("ticketsManager.buttons.newTicket")),a.a.createElement($e,{role:N.profile,perform:"tickets-manager:showall",yes:function(){return a.a.createElement(_n.a,{label:Ne.a.t("tickets.buttons.showAll"),labelPlacement:"start",control:a.a.createElement(In.a,{size:"small",checked:L,onChange:function(){return k((function(e){return!e}))},name:"showAllTickets",color:"primary"})})}})),a.a.createElement(Ba,{style:{marginLeft:6},selectedQueueIds:z,userQueues:null===N||void 0===N?void 0:N.queues,onChange:function(e){return Y(e)}})),a.a.createElement(za,{value:d,name:"open",className:t.ticketsWrapper},a.a.createElement(Ln.a,{value:g,onChange:function(e,t){y(t)},indicatorColor:"primary",textColor:"primary",variant:"fullWidth"},a.a.createElement(kn.a,{label:a.a.createElement(W.a,{className:t.badge,badgeContent:I,color:"primary"},Ne.a.t("ticketsList.assignedHeader")),value:"open"}),a.a.createElement(kn.a,{label:a.a.createElement(W.a,{className:t.badge,badgeContent:F,color:"secondary"},Ne.a.t("ticketsList.pendingHeader")),value:"pending"})),a.a.createElement(ar.a,{className:t.ticketsWrapper},a.a.createElement(Wa,{status:"open",showAll:L,selectedQueueIds:z,updateCount:function(e){return A(e)},style:X("open")}),a.a.createElement(Wa,{status:"pending",selectedQueueIds:z,updateCount:function(e){return G(e)},style:X("pending")}))),a.a.createElement(za,{value:d,name:"closed",className:t.ticketsWrapper},a.a.createElement(Wa,{status:"closed",showAll:!0,selectedQueueIds:z})),a.a.createElement(za,{value:d,name:"search",className:t.ticketsWrapper},a.a.createElement(Ua,{onFiltered:function(e){var t=e.map((function(e){return e.id}));V(t)}}),"admin"===T&&a.a.createElement(Qa,{onFiltered:function(e){var t=e.map((function(e){return e.id}));K(t)}}),a.a.createElement(Wa,{searchParam:c,showAll:!0,tags:U,users:J,selectedQueueIds:z})))},Ka=r(634),Xa=r.n(Ka),$a=r(1151),eo=r(635),to=r.n(eo),ro=function(e){var t=e.classes;return a.a.createElement("div",{className:t.content},a.a.createElement(ar.a,{square:!0,variant:"outlined",className:t.contactHeader},a.a.createElement(Or.a,{container:!0},a.a.createElement(Or.a,{item:!0},a.a.createElement(Zr.a,{animation:"wave",variant:"circle",width:60,height:60,className:t.contactAvatar})),a.a.createElement(Or.a,{item:!0},a.a.createElement(Zr.a,{animation:"wave",height:25,width:90}),a.a.createElement(Zr.a,{animation:"wave",height:25,width:80}),a.a.createElement(Zr.a,{animation:"wave",height:25,width:80})))),a.a.createElement(ar.a,{square:!0,className:t.contactDetails},a.a.createElement(j.a,{variant:"subtitle1"},Ne.a.t("contactDrawer.extraInfo")),a.a.createElement(ar.a,{square:!0,variant:"outlined",className:t.contactExtraInfo},a.a.createElement(Zr.a,{animation:"wave",height:20,width:60}),a.a.createElement(Zr.a,{animation:"wave",height:20,width:160})),a.a.createElement(ar.a,{square:!0,variant:"outlined",className:t.contactExtraInfo},a.a.createElement(Zr.a,{animation:"wave",height:20,width:60}),a.a.createElement(Zr.a,{animation:"wave",height:20,width:160})),a.a.createElement(ar.a,{square:!0,variant:"outlined",className:t.contactExtraInfo},a.a.createElement(Zr.a,{animation:"wave",height:20,width:60}),a.a.createElement(Zr.a,{animation:"wave",height:20,width:160}))))};function no(){no=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var f={};function h(){}function d(){}function p(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(m=g);var y=p.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var ao=Object(m.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:ft.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},textCenter:{backgroundColor:"red"}}})),oo=Ft.b().shape({name:Ft.c().min(2,"Too Short!").max(50,"Too Long!").required("Required"),number:Ft.c().min(8,"Too Short!").max(50,"Too Long!"),email:Ft.c().email("Invalid email")});function io(e){var t=e.initialContact,r=e.onSave,o=e.onCancel,i=ao(),c=Object(n.useState)(t),u=Object(l.a)(c,2),s=u[0],h=u[1];Object(n.useEffect)((function(){h(t)}),[t]);var d=function(){var e=Object(A.a)(no().mark((function e(t){var n,a;return no().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!s.id){e.next=6;break}return e.next=4,Ge.put("/contacts/".concat(s.id),t);case 4:e.next=11;break;case 6:return e.next=8,Ge.post("/contacts",t);case 8:n=e.sent,a=n.data,r&&r(a);case 11:f.b.success(Ne.a.t("contactModal.success")),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),Ie(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(Gt.e,{initialValues:s,enableReinitialize:!0,validationSchema:oo,onSubmit:function(e,t){setTimeout((function(){d(e),t.setSubmitting(!1)}),400)}},(function(e){e.values;var t=e.errors,r=e.touched,n=e.isSubmitting;return a.a.createElement(Gt.d,null,a.a.createElement(Or.a,{container:!0,spacing:1},a.a.createElement(Or.a,{item:!0,xs:12},a.a.createElement(Gt.b,{as:Rt.a,label:Ne.a.t("contactModal.form.name"),name:"name",autoFocus:!0,error:r.name&&Boolean(t.name),helperText:r.name&&t.name,variant:"outlined",margin:"dense",className:i.textField,fullWidth:!0})),a.a.createElement(Or.a,{item:!0,xs:12},a.a.createElement(Gt.b,{as:Rt.a,label:Ne.a.t("contactModal.form.number"),name:"number",error:r.number&&Boolean(t.number),helperText:r.number&&t.number,placeholder:"5513912344321",variant:"outlined",margin:"dense",fullWidth:!0})),a.a.createElement(Or.a,{item:!0,xs:12},a.a.createElement(Gt.b,{as:Rt.a,label:Ne.a.t("contactModal.form.email"),name:"email",error:r.email&&Boolean(t.email),helperText:r.email&&t.email,placeholder:"Email address",fullWidth:!0,margin:"dense",variant:"outlined"})),a.a.createElement(Or.a,{item:!0,xs:12,spacing:1},a.a.createElement(Or.a,{container:!0,spacing:1},a.a.createElement(Or.a,{xs:6,item:!0},a.a.createElement(mt.a,{onClick:o,color:"secondary",disabled:n,variant:"outlined",fullWidth:!0},Ne.a.t("contactModal.buttons.cancel"))),a.a.createElement(Or.a,{classes:i.textCenter,xs:6,item:!0},a.a.createElement(mt.a,{type:"submit",color:"primary",disabled:n,variant:"contained",className:i.btnWrapper,fullWidth:!0},s.id?"".concat(Ne.a.t("contactModal.buttons.okEdit")):"".concat(Ne.a.t("contactModal.buttons.okAdd")),n&&a.a.createElement(vt.a,{size:24,className:i.buttonProgress})))))))}))}var co=r(344),lo=r.n(co),uo=Object(m.a)((function(e){return{inline:{width:"100%"}}}));function so(e){var t=e.note,r=e.deleteItem,n=uo();return a.a.createElement(F.a,{alignItems:"flex-start"},a.a.createElement(ht.a,null,a.a.createElement(dt.a,{alt:t.user.name,src:"/static/images/avatar/1.jpg"})),a.a.createElement(R.a,{primary:a.a.createElement(a.a.Fragment,null,a.a.createElement(j.a,{component:"span",variant:"body2",className:n.inline,color:"textPrimary"},t.note)),secondary:a.a.createElement(a.a.Fragment,null,t.user.name,", ",Ve()(t.createdAt).format("DD/MM/YY HH:mm"))}),a.a.createElement(Bn.a,null,a.a.createElement(b.a,{onClick:function(){r(t)},edge:"end","aria-label":"delete"},a.a.createElement(lo.a,null))))}function fo(){fo=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var f={};function h(){}function d(){}function p(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(m=g);var y=p.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var ho=function(){return{saveNote:function(){var e=Object(A.a)(fo().mark((function e(t){var r,n;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ge.request({url:"/ticket-notes",method:"POST",data:t});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),deleteNote:function(){var e=Object(A.a)(fo().mark((function e(t){var r,n;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ge.request({url:"/ticket-notes/".concat(t),method:"DELETE"});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),listNotes:function(){var e=Object(A.a)(fo().mark((function e(t){var r,n;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ge.request({url:"/ticket-notes/list",method:"GET",params:t});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}};function po(){po=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var f={};function h(){}function d(){}function p(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(m=g);var y=p.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var mo=Object(m.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1),width:"350px"}},list:{width:"100%",maxWidth:"350px",maxHeight:"200px",backgroundColor:e.palette.background.paper,overflow:"auto"},inline:{width:"100%"}}})),vo=Ft.b().shape({note:Ft.c().min(2,"Too Short!").required("Required")});function go(e){var t=e.ticket,r=t.id,o=t.contactId,i=mo(),c=Object(n.useState)({note:""}),u=Object(l.a)(c,2),s=u[0],d=u[1],p=Object(n.useState)(!1),m=Object(l.a)(p,2),v=m[0],g=m[1],y=Object(n.useState)(!1),b=Object(l.a)(y,2),E=b[0],x=b[1],O=Object(n.useState)({}),j=Object(l.a)(O,2),L=j[0],k=j[1],S=Object(n.useState)([]),N=Object(l.a)(S,2),T=N[0],C=N[1],_=ho(),I=_.saveNote,P=_.deleteNote,M=_.listNotes;Object(n.useEffect)((function(){function e(){return(e=Object(A.a)(po().mark((function e(){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F(),e.next=3,q();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var F=function(){d({note:""}),g(!1)},G=function(e){d({note:e.target.value})},R=function(){var e=Object(A.a)(po().mark((function e(t){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.prev=1,e.next=4,I(Object(h.a)(Object(h.a)({},t),{},{ticketId:r,contactId:o}));case 4:return e.next=6,q();case 6:d({note:""}),f.b.success("Observa\xe7\xe3o adicionada com sucesso!"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),f.b.error(e.t0);case 13:g(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),D=function(e){k(e),x(!0)},W=function(){var e=Object(A.a)(po().mark((function e(){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.prev=1,e.next=4,P(L.id);case 4:return e.next=6,q();case 6:k({}),f.b.success("Observa\xe7\xe3o exclu\xedda com sucesso!"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),f.b.error(e.t0);case 13:g(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(A.a)(po().mark((function e(){var t;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.prev=1,e.next=4,M({ticketId:r,contactId:o});case 4:t=e.sent,C(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),f.b.error(e.t0);case 11:g(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(ua,{title:"Excluir Registro",open:E,onClose:x,onConfirm:W},"Deseja realmente excluir este registro?"),a.a.createElement(Gt.e,{initialValues:s,enableReinitialize:!0,validationSchema:vo,onSubmit:function(e,t){setTimeout((function(){R(e),t.setSubmitting(!1)}),400)}},(function(e){var t=e.touched,r=e.errors,n=e.setErrors;return a.a.createElement(Gt.d,null,a.a.createElement(Or.a,{container:!0,spacing:2},a.a.createElement(Or.a,{xs:12,item:!0},a.a.createElement(Gt.b,{as:Rt.a,name:"note",rows:3,label:Ne.a.t("ticketOptionsMenu.appointmentsModal.textarea"),placeholder:Ne.a.t("ticketOptionsMenu.appointmentsModal.placeholder"),multiline:!0,error:t.note&&Boolean(r.note),helperText:t.note&&r.note,variant:"outlined",onChange:G,fullWidth:!0})),T.length>0&&a.a.createElement(Or.a,{xs:12,item:!0},a.a.createElement(w.a,{className:i.list},T.map((function(e){return a.a.createElement(so,{note:e,key:e.id,deleteItem:D})})))),a.a.createElement(Or.a,{xs:12,item:!0},a.a.createElement(Or.a,{container:!0,spacing:2},a.a.createElement(Or.a,{xs:6,item:!0},a.a.createElement(mt.a,{onClick:function(){d(""),n({})},color:"primary",variant:"outlined",fullWidth:!0},"Cancelar")),a.a.createElement(Or.a,{xs:6,item:!0},a.a.createElement(bt,{loading:v,color:"primary",type:"submit",variant:"contained",autoFocus:!0,fullWidth:!0},"Salvar"))))))})))}var yo=Object(m.a)((function(e){return{drawer:{width:320,flexShrink:0},drawerPaper:{width:320,display:"flex",borderTop:"1px solid rgba(0, 0, 0, 0.12)",borderRight:"1px solid rgba(0, 0, 0, 0.12)",borderBottom:"1px solid rgba(0, 0, 0, 0.12)",borderTopRightRadius:4,borderBottomRightRadius:4},header:{display:"flex",borderBottom:"1px solid rgba(0, 0, 0, 0.12)",backgroundColor:"#eee",alignItems:"center",padding:e.spacing(0,1),minHeight:"73px",justifyContent:"flex-start"},content:Object(h.a)({display:"flex",backgroundColor:"#eee",flexDirection:"column",padding:"8px 0px 8px 8px",height:"100%",overflowY:"scroll"},e.scrollbarStyles),contactAvatar:{margin:15,width:100,height:100},contactHeader:{display:"flex",padding:8,flexDirection:"column",alignItems:"center",justifyContent:"center","& > *":{margin:4}},contactDetails:{marginTop:8,padding:8,display:"flex",flexDirection:"column"},contactExtraInfo:{marginTop:4,padding:6}}})),bo=function(e){var t,r=e.open,o=e.handleDrawerClose,i=e.contact,c=e.ticket,u=e.loading,s=yo(),f=Object(n.useState)(!1),h=Object(l.a)(f,2),d=h[0],p=h[1],m=Object(n.useState)(!1),v=Object(l.a)(m,2),g=v[0],E=v[1];return Object(n.useEffect)((function(){E(!1)}),[r,i]),a.a.createElement(a.a.Fragment,null,a.a.createElement(y.a,{className:s.drawer,variant:"persistent",anchor:"right",open:r,PaperProps:{style:{position:"absolute"}},BackdropProps:{style:{position:"absolute"}},ModalProps:{container:document.getElementById("drawer-container"),style:{position:"absolute"}},classes:{paper:s.drawerPaper}},a.a.createElement("div",{className:s.header},a.a.createElement(b.a,{onClick:o},a.a.createElement(Xa.a,null)),a.a.createElement(j.a,{style:{justifySelf:"center"}},Ne.a.t("contactDrawer.header"))),u?a.a.createElement(ro,{classes:s}):a.a.createElement("div",{className:s.content},a.a.createElement(ar.a,{square:!0,variant:"outlined",className:s.contactHeader},a.a.createElement(Qr.a,{onClick:function(){},style:{cursor:"pointer",width:"100%"},titleTypographyProps:{noWrap:!0},subheaderTypographyProps:{noWrap:!0},avatar:a.a.createElement(dt.a,{src:i.profilePicUrl,alt:"contact_image",style:{width:60,height:60}}),title:a.a.createElement(a.a.Fragment,null,a.a.createElement(j.a,{onClick:function(){return E(!0)}},i.name,a.a.createElement(to.a,{style:{fontSize:16,marginLeft:5}}))),subheader:a.a.createElement(a.a.Fragment,null,a.a.createElement(j.a,{style:{fontSize:12}},a.a.createElement($a.a,{href:"tel:".concat(i.number)},i.number)),a.a.createElement(j.a,{style:{fontSize:12}},a.a.createElement($a.a,{href:"mailto:".concat(i.email)},i.email)))}),a.a.createElement(mt.a,{variant:"outlined",color:"primary",onClick:function(){return p(!g)},style:{fontSize:12}},Ne.a.t("contactDrawer.buttons.edit")),i.id&&g&&a.a.createElement(io,{initialContact:i,onCancel:function(){return E(!1)}})),a.a.createElement(ar.a,{square:!0,variant:"outlined",className:s.contactDetails},a.a.createElement(j.a,{variant:"subtitle1",style:{marginBottom:10}},Ne.a.t("ticketOptionsMenu.appointmentsModal.title")),a.a.createElement(go,{ticket:c})),a.a.createElement(ar.a,{square:!0,variant:"outlined",className:s.contactDetails},a.a.createElement(Wn,{open:d,onClose:function(){return p(!1)},contactId:i.id}),a.a.createElement(j.a,{variant:"subtitle1"},Ne.a.t("contactDrawer.extraInfo")),null===i||void 0===i||null===(t=i.extraInfo)||void 0===t?void 0:t.map((function(e){return a.a.createElement(ar.a,{key:e.id,square:!0,variant:"outlined",className:s.contactExtraInfo},a.a.createElement(Bt.a,null,e.name),a.a.createElement(j.a,{component:"div",noWrap:!0,style:{paddingTop:2}},a.a.createElement(Lt,null,e.value)))}))))))},Eo=(r(987),r(667)),wo=r(636),xo=r.n(wo),Oo=r(235),jo=r.n(Oo),Lo=r(637),ko=r.n(Lo),So=r(270),No=r.n(So),To=r(642),Co=r.n(To),_o=r(641),Io=r.n(_o),Ao=r(640),Po=r.n(Ao),Mo=r(639),Fo=r.n(Mo),Go=r(638),Ro=r.n(Go),Do=Object(m.a)((function(e){return{timerBox:{display:"flex",marginLeft:10,marginRight:10,alignItems:"center"}}})),Wo=function(){var e=Do(),t=Object(n.useState)({minutes:0,seconds:0}),r=Object(l.a)(t,2),o=r[0],i=r[1];Object(n.useEffect)((function(){var e=setInterval((function(){return i((function(e){return 59===e.seconds?Object(h.a)(Object(h.a)({},e),{},{minutes:e.minutes+1,seconds:0}):Object(h.a)(Object(h.a)({},e),{},{seconds:e.seconds+1})}))}),1e3);return function(){clearInterval(e)}}),[]);var c=function(e){return e<10?"0"+e:e};return a.a.createElement("div",{className:e.timerBox},a.a.createElement("span",null,"".concat(c(o.minutes),":").concat(c(o.seconds))))};function qo(){qo=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var f={};function h(){}function d(){}function p(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(m=g);var y=p.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var zo=function(){return{save:function(){var e=Object(A.a)(qo().mark((function e(t){var r,n;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ge.request({url:"/quick-messages",method:"POST",data:t});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(A.a)(qo().mark((function e(t){var r,n;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ge.request({url:"/quick-messages/".concat(t.id),method:"PUT",data:t});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),deleteRecord:function(){var e=Object(A.a)(qo().mark((function e(t){var r,n;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ge.request({url:"/quick-messages/".concat(t),method:"DELETE"});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),list:function(){var e=Object(A.a)(qo().mark((function e(t){var r,n;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ge.request({url:"/quick-messages/list",method:"GET",params:t});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},Yo=["InputLabelProps","InputProps"];function Bo(){Bo=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var f={};function h(){}function d(){}function p(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(m=g);var y=p.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Ho=new xo.a({bitRate:128}),Uo=Object(m.a)((function(e){return{mainWrapper:{background:"#eee",display:"flex",flexDirection:"column",alignItems:"center",borderTop:"1px solid rgba(0, 0, 0, 0.12)"},newMessageBox:{background:"#eee",width:"100%",display:"flex",padding:"7px",alignItems:"center"},messageInputWrapper:{padding:6,marginRight:7,background:"#fff",display:"flex",borderRadius:20,flex:1},messageInput:{paddingLeft:10,flex:1,border:"none"},sendMessageIcons:{color:"grey"},uploadInput:{display:"none"},viewMediaInputWrapper:{display:"flex",padding:"10px 13px",position:"relative",justifyContent:"space-between",alignItems:"center",backgroundColor:"#eee",borderTop:"1px solid rgba(0, 0, 0, 0.12)"},emojiBox:{position:"absolute",bottom:63,width:40,borderTop:"1px solid #e8e8e8"},circleLoading:{color:ft.a[500],opacity:"70%",position:"absolute",top:"20%",left:"50%",marginLeft:-12},audioLoading:{color:ft.a[500],opacity:"70%"},recorderWrapper:{display:"flex",alignItems:"center",alignContent:"middle"},cancelAudioIcon:{color:"red"},sendAudioIcon:{color:"green"},replyginMsgWrapper:{display:"flex",width:"100%",alignItems:"center",justifyContent:"center",paddingTop:8,paddingLeft:73,paddingRight:7},replyginMsgContainer:{flex:1,marginRight:5,overflowY:"hidden",backgroundColor:"rgba(0, 0, 0, 0.05)",borderRadius:"7.5px",display:"flex",position:"relative"},replyginMsgBody:{padding:10,height:"auto",display:"block",whiteSpace:"pre-wrap",overflow:"hidden"},replyginContactMsgSideColor:{flex:"none",width:"4px",backgroundColor:"#35cd96"},replyginSelfMsgSideColor:{flex:"none",width:"4px",backgroundColor:"#6bcbef"},messageContactName:{display:"flex",color:"#6bcbef",fontWeight:500}}})),Vo=function(e){var t=e.disabled,r=e.showEmoji,n=e.setShowEmoji,o=e.handleAddEmoji,i=Uo();return a.a.createElement(a.a.Fragment,null,a.a.createElement(b.a,{"aria-label":"emojiPicker",component:"span",disabled:t,onClick:function(e){return n((function(e){return!e}))}},a.a.createElement(ko.a,{className:i.sendMessageIcons})),r?a.a.createElement("div",{className:i.emojiBox},a.a.createElement(Eo.a,{perLine:16,showPreview:!1,showSkinTones:!1,onSelect:o})):null)},Qo=function(e){var t=e.width,r=e.setSignMessage,n=e.signMessage;return Object(wn.b)("md",t)?a.a.createElement(_n.a,{style:{marginRight:7,color:"gray"},label:Ne.a.t("messagesInput.signMessage"),labelPlacement:"start",control:a.a.createElement(In.a,{size:"small",checked:n,onChange:function(e){r(e.target.checked)},name:"showAllTickets",color:"primary"})}):null},Zo=function(e){var t=e.handleChangeMedias,r=e.disableOption,n=Uo();return a.a.createElement(a.a.Fragment,null,a.a.createElement("input",{multiple:!0,type:"file",id:"upload-button",disabled:r(),className:n.uploadInput,onChange:t}),a.a.createElement("label",{htmlFor:"upload-button"},a.a.createElement(b.a,{"aria-label":"upload",component:"span",disabled:r()},a.a.createElement(jo.a,{className:n.sendMessageIcons}))))},Jo=function(e){var t=e.inputMessage,r=e.loading,n=e.recording,o=e.ticketStatus,i=e.handleSendMessage,c=e.handleCancelAudio,l=e.handleUploadAudio,u=e.handleStartRecording,s=Uo();return t?a.a.createElement(b.a,{"aria-label":"sendMessage",component:"span",onClick:i,disabled:r},a.a.createElement(No.a,{className:s.sendMessageIcons})):n?a.a.createElement("div",{className:s.recorderWrapper},a.a.createElement(b.a,{"aria-label":"cancelRecording",component:"span",fontSize:"large",disabled:r,onClick:c},a.a.createElement(Ro.a,{className:s.cancelAudioIcon})),r?a.a.createElement("div",null,a.a.createElement(vt.a,{className:s.audioLoading})):a.a.createElement(Wo,null),a.a.createElement(b.a,{"aria-label":"sendRecordedAudio",component:"span",onClick:l,disabled:r},a.a.createElement(Fo.a,{className:s.sendAudioIcon}))):a.a.createElement(b.a,{"aria-label":"showRecorder",component:"span",disabled:r||"open"!==o,onClick:u},a.a.createElement(Po.a,{className:s.sendMessageIcons}))},Ko=function(e){var t=e.loading,r=e.inputRef,o=e.ticketStatus,i=e.inputMessage,c=e.setInputMessage,u=e.handleSendMessage,s=e.handleInputPaste,f=e.disableOption,h=Uo(),d=Object(n.useState)([]),p=Object(l.a)(d,2),m=p[0],v=p[1],g=Object(n.useState)([]),y=Object(l.a)(g,2),b=y[0],E=y[1],w=Object(n.useState)(!1),x=Object(l.a)(w,2),O=x[0],j=x[1],L=Object(n.useContext)(Je).user,k=zo().list;Object(n.useEffect)((function(){function e(){return(e=Object(A.a)(Bo().mark((function e(){var t,r,n;return Bo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("companyId"),e.next=3,k({companyId:t,userId:L.id});case 3:r=e.sent,n=r.map((function(e){var t=e.message;return Object(_e.isString)(t)&&t.length>35&&(t=e.message.substring(0,35)+"..."),{value:e.message,label:"/".concat(e.shortcode," - ").concat(t)}})),v(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(n.useEffect)((function(){if(Object(_e.isString)(i)&&!Object(_e.isEmpty)(i)&&i.length>1){var e=i.charAt(0);j(e.indexOf("/")>-1);var t=m.filter((function(e){return e.label.indexOf(i)>-1}));E(t)}else j(!1)}),[i]);var S=function(e){e&&(e.focus(),r.current=e)};return a.a.createElement("div",{className:h.messageInputWrapper},a.a.createElement(Pn.a,{freeSolo:!0,open:O,id:"grouped-demo",value:i,options:b,closeIcon:null,getOptionLabel:function(e){return Object(_e.isObject)(e)?e.label:e},onChange:function(e,t){Object(_e.isObject)(t)&&Object(_e.has)(t,"value")&&(c(t.value),setTimeout((function(){r.current.scrollTop=r.current.scrollHeight}),200))},onInputChange:function(e,t,r){"input"===r&&c(e.target.value)},onPaste:function(e){"open"===o&&s(e)},onKeyPress:function(e){t||e.shiftKey||"Enter"===e.key&&u()},style:{width:"100%"},renderInput:function(e){e.InputLabelProps,e.InputProps;var t=Object(pt.a)(e,Yo);return a.a.createElement(jn.a,Object.assign({},e.InputProps,t,{disabled:f(),inputRef:S,placeholder:"open"===o?Ne.a.t("messagesInput.placeholderOpen"):Ne.a.t("messagesInput.placeholderClosed"),multiline:!0,className:h.messageInput,maxRows:5}))}}))},Xo=Object(wn.a)()((function(e){var t,r=e.ticketStatus,o=e.ticketId,i=Uo(),c=Object(n.useState)([]),u=Object(l.a)(c,2),s=u[0],f=u[1],h=Object(n.useState)(""),m=Object(l.a)(h,2),v=m[0],g=m[1],y=Object(n.useState)(!1),E=Object(l.a)(y,2),w=E[0],x=E[1],O=Object(n.useState)(!1),j=Object(l.a)(O,2),L=j[0],k=j[1],S=Object(n.useState)(!1),N=Object(l.a)(S,2),T=N[0],C=N[1],_=Object(n.useRef)(),I=Object(n.useContext)(sa),P=I.setReplyingMessage,M=I.replyingMessage,F=Object(n.useContext)(Je).user,G=function(e,t){var r=Object(n.useState)((function(){try{var r=localStorage.getItem(e);return r?JSON.parse(r):t}catch(n){return Ie(n),t}})),a=Object(l.a)(r,2),o=a[0],i=a[1];return[o,function(t){try{var r=t instanceof Function?t(o):t;i(r),localStorage.setItem(e,JSON.stringify(r))}catch(n){Ie(n)}}]}("signOption",!0),R=Object(l.a)(G,2),D=R[0],W=R[1];Object(n.useEffect)((function(){_.current.focus()}),[M]),Object(n.useEffect)((function(){return _.current.focus(),function(){g(""),x(!1),f([]),P(null)}}),[o,P]);var q=function(){var e=Object(A.a)(Bo().mark((function e(t){var r;return Bo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(!0),t.preventDefault(),(r=new FormData).append("fromMe",!0),s.forEach((function(e){r.append("medias",e),r.append("body",e.name)})),e.prev=5,e.next=8,Ge.post("/messages/".concat(o),r);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(5),Ie(e.t0);case 13:k(!1),f([]);case 15:case"end":return e.stop()}}),e,null,[[5,10]])})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(A.a)(Bo().mark((function e(){var t;return Bo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==v.trim()){e.next=2;break}return e.abrupt("return");case 2:return k(!0),t={read:1,fromMe:!0,mediaUrl:"",body:D?"*".concat(null===F||void 0===F?void 0:F.name,":*\n").concat(v.trim()):v.trim(),quotedMsg:M},e.prev=4,e.next=7,Ge.post("/messages/".concat(o),t);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(4),Ie(e.t0);case 12:g(""),x(!1),k(!1),P(null);case 16:case"end":return e.stop()}}),e,null,[[4,9]])})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(A.a)(Bo().mark((function e(){return Bo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(!0),e.prev=1,e.next=4,navigator.mediaDevices.getUserMedia({audio:!0});case 4:return e.next=6,Ho.start();case 6:C(!0),k(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),Ie(e.t0),k(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(A.a)(Bo().mark((function e(){var t,r,n,a,i;return Bo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(!0),e.prev=1,e.next=4,Ho.stop().getMp3();case 4:if(t=e.sent,r=Object(l.a)(t,2),!((n=r[1]).size<1e4)){e.next=11;break}return k(!1),C(!1),e.abrupt("return");case 11:return a=new FormData,i="audio-record-site-".concat((new Date).getTime(),".mp3"),a.append("medias",n,i),a.append("body",i),a.append("fromMe",!0),e.next=18,Ge.post("/messages/".concat(o),a);case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(1),Ie(e.t0);case 23:C(!1),k(!1);case 25:case"end":return e.stop()}}),e,null,[[1,20]])})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(A.a)(Bo().mark((function e(){return Bo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ho.stop().getMp3();case 3:C(!1),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),Ie(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),U=function(){return L||T||"open"!==r};return s.length>0?a.a.createElement(ar.a,{elevation:0,square:!0,className:i.viewMediaInputWrapper},a.a.createElement(b.a,{"aria-label":"cancel-upload",component:"span",onClick:function(e){return f([])}},a.a.createElement(Co.a,{className:i.sendMessageIcons})),L?a.a.createElement("div",null,a.a.createElement(vt.a,{className:i.circleLoading})):a.a.createElement("span",null,null===(t=s[0])||void 0===t?void 0:t.name),a.a.createElement(b.a,{"aria-label":"send-upload",component:"span",onClick:q,disabled:L},a.a.createElement(No.a,{className:i.sendMessageIcons}))):a.a.createElement(ar.a,{square:!0,elevation:0,className:i.mainWrapper},M&&function(e){var t;return a.a.createElement("div",{className:i.replyginMsgWrapper},a.a.createElement("div",{className:i.replyginMsgContainer},a.a.createElement("span",{className:Object(p.a)(i.replyginContactMsgSideColor,Object(d.a)({},i.replyginSelfMsgSideColor,!e.fromMe))}),a.a.createElement("div",{className:i.replyginMsgBody},!e.fromMe&&a.a.createElement("span",{className:i.messageContactName},null===(t=e.contact)||void 0===t?void 0:t.name),e.body)),a.a.createElement(b.a,{"aria-label":"showRecorder",component:"span",disabled:L||"open"!==r,onClick:function(){return P(null)}},a.a.createElement(Io.a,{className:i.sendMessageIcons})))}(M),a.a.createElement("div",{className:i.newMessageBox},a.a.createElement(Vo,{disabled:U(),handleAddEmoji:function(e){var t=e.native;g((function(e){return e+t}))},showEmoji:w,setShowEmoji:x}),a.a.createElement(Zo,{disableOption:U,handleChangeMedias:function(e){if(e.target.files){var t=Array.from(e.target.files);f(t)}}}),a.a.createElement(Qo,{width:e.width,setSignMessage:W,signMessage:D}),a.a.createElement(Ko,{loading:L,inputRef:_,ticketStatus:r,inputMessage:v,setInputMessage:g,handleSendMessage:z,handleInputPaste:function(e){e.clipboardData.files[0]&&f([e.clipboardData.files[0]])},disableOption:U}),a.a.createElement(Jo,{inputMessage:v,loading:L,recording:T,ticketStatus:r,handleSendMessage:z,handleCancelAudio:H,handleUploadAudio:B,handleStartRecording:Y})))})),$o=r(668),ei=r(1154),ti=r(1153),ri=r(1155);function ni(){ni=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var f={};function h(){}function d(){}function p(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(m=g);var y=p.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var ai=function(){return{findAll:function(){var e=Object(A.a)(ni().mark((function e(){var t,r;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ge.get("/queue");case 2:return t=e.sent,r=t.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}};function oi(){oi=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var f={};function h(){}function d(){}function p(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(m=g);var y=p.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var ii=Object(m.a)((function(e){return{maxWidth:{width:"100%"}}})),ci=Object(An.a)({trim:!0}),li=function(e){var t=e.modalOpen,r=e.onClose,o=e.ticketid,i=Object(s.g)(),c=Object(n.useState)([]),u=Object(l.a)(c,2),f=u[0],d=u[1],p=Object(n.useState)([]),m=Object(l.a)(p,2),v=m[0],g=m[1],y=Object(n.useState)([]),b=Object(l.a)(y,2),E=b[0],w=b[1],x=Object(n.useState)(!1),O=Object(l.a)(x,2),j=O[0],L=O[1],S=Object(n.useState)(""),N=Object(l.a)(S,2),T=N[0],C=N[1],_=Object(n.useState)(null),I=Object(l.a)(_,2),P=I[0],M=I[1],F=Object(n.useState)(""),G=Object(l.a)(F,2),R=G[0],D=G[1],W=ii(),q=ai().findAll,z=Object(n.useRef)(!0);Object(n.useEffect)((function(){return function(){z.current=!1}}),[]),Object(n.useEffect)((function(){z.current&&function(){var e=Object(A.a)(oi().mark((function e(){var t;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q();case 2:t=e.sent,w(t),g(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[]),Object(n.useEffect)((function(){if(t&&!(T.length<3)){var e=setTimeout((function(){L(!0),function(){var e=Object(A.a)(oi().mark((function e(){var t,r;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ge.get("/users/",{params:{searchParam:T}});case 3:t=e.sent,r=t.data,d(r.users),L(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),L(!1),Ie(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}()()}),500);return function(){return clearTimeout(e)}}L(!1)}),[T,t]);var Y=function(){r(),C(""),M(null)},B=function(){var e=Object(A.a)(oi().mark((function e(t){var r;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),o){e.next=3;break}return e.abrupt("return");case 3:return L(!0),e.prev=4,r={},P&&(r.userId=P.id),P||(r.status="pending",r.userId=null),e.next=10,Ge.put("/tickets/".concat(o),r);case 10:i.push("/tickets"),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(4),L(!1),Ie(e.t0);case 17:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(Dt.a,{open:t,onClose:Y,maxWidth:"lg",scroll:"paper"},a.a.createElement("form",{onSubmit:B},a.a.createElement(zt.a,{id:"form-dialog-title"},Ne.a.t("transferTicketModal.title")),a.a.createElement(qt.a,{dividers:!0},a.a.createElement(Pn.a,{style:{width:300,marginBottom:20},getOptionLabel:function(e){return"".concat(e.name)},onChange:function(e,t){M(t),null!=t&&Array.isArray(t.queues)?g(t.queues):(g(E),D(""))},options:f,filterOptions:ci,freeSolo:!0,autoHighlight:!0,noOptionsText:Ne.a.t("transferTicketModal.noOptions"),loading:j,renderInput:function(e){return a.a.createElement(Rt.a,Object.assign({},e,{label:Ne.a.t("transferTicketModal.fieldLabel"),variant:"outlined",autoFocus:!0,onChange:function(e){return C(e.target.value)},InputProps:Object(h.a)(Object(h.a)({},e.InputProps),{},{endAdornment:a.a.createElement(a.a.Fragment,null,j?a.a.createElement(vt.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment)})}))}}),a.a.createElement(Ht.a,{variant:"outlined",className:W.maxWidth},a.a.createElement(Bt.a,null,Ne.a.t("transferTicketModal.fieldQueueLabel")),a.a.createElement(Yt.a,{value:R,onChange:function(e){return D(e.target.value)},label:Ne.a.t("transferTicketModal.fieldQueuePlaceholder")},v.map((function(e){return a.a.createElement(k.a,{key:e.id,value:e.id},e.name)}))))),a.a.createElement(Wt.a,null,a.a.createElement(mt.a,{onClick:Y,color:"secondary",disabled:j,variant:"outlined"},Ne.a.t("transferTicketModal.buttons.cancel")),a.a.createElement(bt,{variant:"contained",type:"submit",color:"primary",loading:j},Ne.a.t("transferTicketModal.buttons.ok")))))};function ui(){ui=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var f={};function h(){}function d(){}function p(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(m=g);var y=p.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var si=Object(m.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},multFieldLine:{display:"flex","& > *:not(:last-child)":{marginRight:e.spacing(1)}},btnWrapper:{position:"relative"},buttonProgress:{color:ft.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},formControl:{margin:e.spacing(1),minWidth:120}}})),fi=Ft.b().shape({body:Ft.c().min(5,"Mensagem muito curta").required("Obrigat\xf3rio"),contactId:Ft.a().required("Obrigat\xf3rio"),sendAt:Ft.c().required("Obrigat\xf3rio")}),hi=function(e){var t=e.open,r=e.onClose,o=e.scheduleId,i=e.contactId,c=e.cleanContact,u=e.reload,d=si(),p=Object(s.g)(),m=Object(n.useContext)(Je).user,v={body:"",contactId:"",sendAt:Ve()().add(1,"hour").format("YYYY-MM-DDTHH:mm"),sentAt:""},g={id:"",name:""},y=Object(n.useState)(v),b=Object(l.a)(y,2),E=b[0],w=b[1],x=Object(n.useState)(g),O=Object(l.a)(x,2),j=O[0],L=O[1],k=Object(n.useState)([g]),S=Object(l.a)(k,2),N=S[0],T=S[1];Object(n.useEffect)((function(){if(i&&N.length){var e=N.find((function(e){return e.id===i}));e&&L(e)}}),[i,N]),Object(n.useEffect)((function(){var e=m.companyId;if(t)try{Object(A.a)(ui().mark((function t(){var r,n,a,c,l;return ui().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ge.get("/contacts/list",{params:{companyId:e}});case 2:if(r=t.sent,n=r.data,a=n.map((function(e){return{id:e.id,name:e.name}})),Object(_e.isArray)(a)&&T([{id:"",name:""}].concat(Object(M.a)(a))),i&&w((function(e){return Object(h.a)(Object(h.a)({},e),{},{contactId:i})})),o){t.next=9;break}return t.abrupt("return");case 9:return t.next=11,Ge.get("/schedules/".concat(o));case 11:c=t.sent,l=c.data,w((function(e){return Object(h.a)(Object(h.a)(Object(h.a)({},e),l),{},{sendAt:Ve()(l.sendAt).format("YYYY-MM-DDTHH:mm")})})),L(l.contact);case 15:case"end":return t.stop()}}),t)})))()}catch(r){Ie(r)}}),[o,i,t,m]);var C=function(){r(),w(v)},_=function(){var e=Object(A.a)(ui().mark((function e(t){var r;return ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Object(h.a)(Object(h.a)({},t),{},{userId:m.id}),e.prev=1,!o){e.next=7;break}return e.next=5,Ge.put("/schedules/".concat(o),r);case 5:e.next=9;break;case 7:return e.next=9,Ge.post("/schedules",r);case 9:f.b.success(Ne.a.t("scheduleModal.success")),"function"==typeof u&&u(),i&&"function"===typeof c&&(c(),p.push("/schedules")),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),Ie(e.t0);case 17:L(g),w(v),C();case 20:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("div",{className:d.root},a.a.createElement(Dt.a,{open:t,onClose:C,maxWidth:"xs",fullWidth:!0,scroll:"paper"},a.a.createElement(zt.a,{id:"form-dialog-title"},"ERRO"===E.status?"Erro de Envio":"Mensagem ".concat(Object(_e.capitalize)(E.status))),a.a.createElement(Gt.e,{initialValues:E,enableReinitialize:!0,validationSchema:fi,onSubmit:function(e,t){setTimeout((function(){_(e),t.setSubmitting(!1)}),400)}},(function(e){var t=e.touched,r=e.errors,n=e.isSubmitting;e.values;return a.a.createElement(Gt.d,null,a.a.createElement(qt.a,{dividers:!0},a.a.createElement("div",{className:d.multFieldLine},a.a.createElement(Ht.a,{variant:"outlined",fullWidth:!0},a.a.createElement(Pn.a,{fullWidth:!0,value:j,options:N,onChange:function(e,t){var r=t?t.id:"";w(Object(h.a)(Object(h.a)({},E),{},{contactId:r})),L(t||g)},getOptionLabel:function(e){return e.name},getOptionSelected:function(e,t){return t.id===e.id},renderInput:function(e){return a.a.createElement(Rt.a,Object.assign({},e,{variant:"outlined",placeholder:"Contato"}))}}))),a.a.createElement("br",null),a.a.createElement("div",{className:d.multFieldLine},a.a.createElement(Gt.b,{as:Rt.a,rows:9,multiline:!0,label:Ne.a.t("scheduleModal.form.body"),name:"body",error:t.body&&Boolean(r.body),helperText:t.body&&r.body,variant:"outlined",margin:"dense",fullWidth:!0})),a.a.createElement("br",null),a.a.createElement("div",{className:d.multFieldLine},a.a.createElement(Gt.b,{as:Rt.a,label:Ne.a.t("scheduleModal.form.sendAt"),type:"datetime-local",name:"sendAt",InputLabelProps:{shrink:!0},error:t.sendAt&&Boolean(r.sendAt),helperText:t.sendAt&&r.sendAt,variant:"outlined",fullWidth:!0}))),a.a.createElement(Wt.a,null,a.a.createElement(mt.a,{onClick:C,color:"secondary",disabled:n,variant:"outlined"},Ne.a.t("scheduleModal.buttons.cancel")),(null===E.sentAt||""===E.sentAt)&&a.a.createElement(mt.a,{type:"submit",color:"primary",disabled:n,variant:"contained",className:d.btnWrapper},"".concat(o?Ne.a.t("scheduleModal.buttons.okEdit"):Ne.a.t("scheduleModal.buttons.okAdd")),n&&a.a.createElement(vt.a,{size:24,className:d.buttonProgress}))))}))))};function di(){di=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var f={};function h(){}function d(){}function p(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(m=g);var y=p.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var pi=function(e){var t=e.ticket,r=e.menuOpen,o=e.handleClose,i=e.anchorEl,c=Object(n.useState)(!1),u=Object(l.a)(c,2),s=u[0],f=u[1],h=Object(n.useState)(!1),d=Object(l.a)(h,2),p=d[0],m=d[1],v=Object(n.useRef)(!0),g=Object(n.useContext)(Je).user,y=Object(n.useState)(!1),b=Object(l.a)(y,2),E=b[0],w=b[1],x=Object(n.useState)(null),O=Object(l.a)(x,2),j=O[0],S=O[1];Object(n.useEffect)((function(){return function(){v.current=!1}}),[]);var N=function(){var e=Object(A.a)(di().mark((function e(){return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ge.delete("/tickets/".concat(t.id));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Ie(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),T=function(e){f(!0),o()};return a.a.createElement(a.a.Fragment,null,a.a.createElement(L.a,{id:"menu-appbar",anchorEl:i,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:r,onClose:o},a.a.createElement(k.a,{onClick:function(){o(),S(t.contact.id),w(!0)}},Ne.a.t("ticketOptionsMenu.schedule")),a.a.createElement(k.a,{onClick:function(e){m(!0),o()}},Ne.a.t("ticketOptionsMenu.transfer")),a.a.createElement($e,{role:g.profile,perform:"ticket-options:deleteTicket",yes:function(){return a.a.createElement(k.a,{onClick:T},Ne.a.t("ticketOptionsMenu.delete"))}})),a.a.createElement(ua,{title:"".concat(Ne.a.t("ticketOptionsMenu.confirmationModal.title")).concat(t.id," ").concat(Ne.a.t("ticketOptionsMenu.confirmationModal.titleFrom")," ").concat(t.contact.name,"?"),open:s,onClose:f,onConfirm:N},Ne.a.t("ticketOptionsMenu.confirmationModal.message")),a.a.createElement(li,{modalOpen:p,onClose:function(){v.current&&m(!1)},ticketid:t.id}),a.a.createElement(hi,{open:E,onClose:function(){w(!1),S(null)},"aria-labelledby":"form-dialog-title",contactId:j}))},mi=r(643),vi=r.n(mi);function gi(){gi=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var f={};function h(){}function d(){}function p(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(m=g);var y=p.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var yi=Object(m.a)((function(e){return{actionButtons:{marginRight:6,flex:"none",alignSelf:"center",marginLeft:"auto","& > *":{margin:e.spacing(.5)}}}})),bi=function(e){var t=e.ticket,r=yi(),o=Object(s.g)(),i=Object(n.useState)(null),c=Object(l.a)(i,2),u=c[0],f=c[1],d=Object(n.useState)(!1),p=Object(l.a)(d,2),m=p[0],v=p[1],g=Boolean(u),y=Object(n.useContext)(Je).user,E=Object(n.useContext)(Un).setCurrentTicket,w=Object($o.a)({palette:{primary:ft.a}}),x=function(){var e=Object(A.a)(gi().mark((function e(r,n,a){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.prev=1,e.next=4,Ge.put("/tickets/".concat(t.id),{status:n,userId:a||null});case 4:v(!1),"open"===n?E(Object(h.a)(Object(h.a)({},t),{},{code:"#open"})):(E({id:null,code:null}),o.push("/tickets")),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),v(!1),Ie(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,r,n){return e.apply(this,arguments)}}();return a.a.createElement("div",{className:r.actionButtons},"closed"===t.status&&a.a.createElement(bt,{loading:m,startIcon:a.a.createElement(ti.a,null),size:"small",onClick:function(e){return x(e,"open",null===y||void 0===y?void 0:y.id)}},Ne.a.t("messagesList.header.buttons.reopen")),"open"===t.status&&a.a.createElement(a.a.Fragment,null,a.a.createElement(kt.a,{title:Ne.a.t("messagesList.header.buttons.return")},a.a.createElement(b.a,{onClick:function(e){return x(e,"pending",null)}},a.a.createElement(vi.a,null))),a.a.createElement(ei.a,{theme:w},a.a.createElement(kt.a,{title:Ne.a.t("messagesList.header.buttons.resolve")},a.a.createElement(b.a,{onClick:function(e){return x(e,"closed",null===y||void 0===y?void 0:y.id)},color:"primary"},a.a.createElement(cn.a,null)))),a.a.createElement(b.a,{onClick:function(e){f(e.currentTarget)}},a.a.createElement(ri.a,null)),a.a.createElement(pi,{ticket:t,anchorEl:u,menuOpen:g,handleClose:function(e){f(null)}})),"pending"===t.status&&a.a.createElement(bt,{loading:m,size:"small",variant:"contained",color:"primary",onClick:function(e){return x(e,"open",null===y||void 0===y?void 0:y.id)}},Ne.a.t("messagesList.header.buttons.accept")))};function Ei(){Ei=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var f={};function h(){}function d(){}function p(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(m=g);var y=p.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function wi(e){var t=e.ticket,r=Object(n.useState)([]),o=Object(l.a)(r,2),i=o[0],c=o[1],u=Object(n.useState)([]),s=Object(l.a)(u,2),f=s[0],h=s[1],d=Object(n.useRef)(!0);Object(n.useEffect)((function(){return function(){d.current=!1}}),[]),Object(n.useEffect)((function(){d.current&&m().then((function(){Array.isArray(t.tags)?h(t.tags):h([])}))}),[t]);var p=function(){var e=Object(A.a)(Ei().mark((function e(t){var r,n;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ge.post("/tags",t);case 3:return r=e.sent,n=r.data,e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(0),Ie(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(A.a)(Ei().mark((function e(){var t,r;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ge.get("/tags/list");case 3:t=e.sent,r=t.data,c(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),Ie(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(A.a)(Ei().mark((function e(t){var r,n;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ge.post("/tags/sync",t);case 3:return r=e.sent,n=r.data,e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(0),Ie(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(A.a)(Ei().mark((function e(r,n){var a,o,i,c,l;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=[],"create-option"!==n){e.next=30;break}if(!Object(_e.isArray)(r)){e.next=26;break}o=Object(P.a)(r),e.prev=4,o.s();case 6:if((i=o.n()).done){e.next=18;break}if(c=i.value,!Object(_e.isString)(c)){e.next=15;break}return e.next=11,p({name:c});case 11:l=e.sent,a.push(l),e.next=16;break;case 15:a.push(c);case 16:e.next=6;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(4),o.e(e.t0);case 23:return e.prev=23,o.f(),e.finish(23);case 26:return e.next=28,m();case 28:e.next=31;break;case 30:a=r;case 31:return h(a),e.next=34,v({ticketId:t.id,tags:a});case 34:case"end":return e.stop()}}),e,null,[[4,20,23,26]])})));return function(t,r){return e.apply(this,arguments)}}();return a.a.createElement(ar.a,{style:{padding:12}},a.a.createElement(Pn.a,{multiple:!0,size:"small",options:i,value:f,freeSolo:!0,onChange:function(e,t,r){return g(t,r)},getOptionLabel:function(e){return e.name},renderTags:function(e,t){return e.map((function(e,r){return a.a.createElement(Ut.a,Object.assign({variant:"outlined",style:{backgroundColor:e.color||"#eee",textShadow:"1px 1px 1px #000",color:"white"},label:e.name},t({index:r}),{size:"small"}))}))},renderInput:function(e){return a.a.createElement(Rt.a,Object.assign({},e,{variant:"outlined",placeholder:"Tags"}))},PaperComponent:function(e){var t=e.children;return a.a.createElement(ar.a,{style:{width:400,marginLeft:12}},t)}}))}function xi(){xi=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var f={};function h(){}function d(){}function p(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(m=g);var y=p.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Oi=Object(m.a)((function(e){return{root:{display:"flex",height:"100%",position:"relative",overflow:"hidden"},mainWrapper:{flex:1,height:"100%",display:"flex",flexDirection:"column",overflow:"hidden",borderTopLeftRadius:0,borderBottomLeftRadius:0,borderLeft:"0",marginRight:-320,transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},mainWrapperShift:{borderTopRightRadius:0,borderBottomRightRadius:0,transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginRight:0}}})),ji=function(){var e=Object(s.h)().ticketId,t=Object(s.g)(),r=Oi(),o=Object(n.useContext)(Je).user,i=Object(n.useState)(!1),c=Object(l.a)(i,2),u=c[0],m=c[1],v=Object(n.useState)(!0),g=Object(l.a)(v,2),y=g[0],b=g[1],E=Object(n.useState)({}),w=Object(l.a)(E,2),x=w[0],O=w[1],j=Object(n.useState)({}),L=Object(l.a)(j,2),k=L[0],S=L[1];Object(n.useEffect)((function(){b(!0);var t=setTimeout((function(){(function(){var t=Object(A.a)(xi().mark((function t(){var r,n,a,i;return xi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ge.get("/tickets/u/"+e);case 3:r=t.sent,n=r.data,a=n.queueId,i=o.queues,o.profile,i.find((function(e){return e.id===a})),O(n.contact),S(n),b(!1),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(0),b(!1),Ie(t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(){return t.apply(this,arguments)}})()()}),500);return function(){return clearTimeout(t)}}),[e,o,t]),Object(n.useEffect)((function(){var e=localStorage.getItem("companyId"),r=We({companyId:e});return r.on("connect",(function(){return r.emit("joinChatBox","".concat(k.id))})),r.on("company-".concat(e,"-ticket"),(function(e){"update"===e.action&&S(e.ticket),"delete"===e.action&&(f.b.success("Ticket deleted sucessfully."),t.push("/tickets"))})),r.on("company-".concat(e,"-contact"),(function(e){"update"===e.action&&O((function(t){var r;return t.id===(null===(r=e.contact)||void 0===r?void 0:r.id)?Object(h.a)(Object(h.a)({},t),e.contact):t}))})),function(){r.disconnect()}}),[e,k,t]);var N=function(){m(!0)};return a.a.createElement("div",{className:r.root,id:"drawer-container"},a.a.createElement(ar.a,{variant:"outlined",elevation:0,className:Object(p.a)(r.mainWrapper,Object(d.a)({},r.mainWrapperShift,u))},a.a.createElement(La,{loading:y},function(){if(void 0!==k.user)return a.a.createElement(ka,{contact:x,ticket:k,onClick:N})}(),a.a.createElement(bi,{ticket:k})),a.a.createElement(ar.a,null,a.a.createElement(wi,{ticket:k})),a.a.createElement(fa,null,a.a.createElement(a.a.Fragment,null,a.a.createElement(wa,{ticket:k,ticketId:k.id,isGroup:k.isGroup}),a.a.createElement(Xo,{ticketId:k.id,ticketStatus:k.status})))),a.a.createElement(bo,{open:u,handleDrawerClose:function(){m(!1)},contact:x,loading:y,ticket:k}))},Li=Object(m.a)((function(e){return{chatContainer:{flex:1,padding:e.spacing(4),height:"calc(100% - 48px)",overflowY:"hidden"},chatPapper:{display:"flex",height:"100%"},contactsWrapper:{display:"flex",height:"100%",flexDirection:"column",overflowY:"hidden"},messagesWrapper:{display:"flex",height:"100%",flexDirection:"column"},welcomeMsg:{backgroundColor:"#eee",display:"flex",justifyContent:"space-evenly",alignItems:"center",height:"100%",textAlign:"center"}}})),ki=function(){var e=Li(),t=Object(s.h)().ticketId;return a.a.createElement("div",{className:e.chatContainer},a.a.createElement("div",{className:e.chatPapper},a.a.createElement(Or.a,{container:!0,spacing:0},a.a.createElement(Or.a,{item:!0,xs:4,className:e.contactsWrapper},a.a.createElement(Ja,null)),a.a.createElement(Or.a,{item:!0,xs:8,className:e.messagesWrapper},t?a.a.createElement(a.a.Fragment,null,a.a.createElement(ji,null)):a.a.createElement(ar.a,{square:!0,variant:"outlined",className:e.welcomeMsg},a.a.createElement("span",null,Ne.a.t("chat.noTicketMessage")))))))},Si=r(1156),Ni=r(1157),Ti=r(644),Ci=r.n(Ti),_i=r(672),Ii=Object(_i.a)(ar.a)({height:"calc(100% - 48px)",display:"grid",gridTemplateRows:"56px 1fr"}),Ai=Object(m.a)((function(e){return{header:{},content:{overflow:"auto"},placeholderContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",backgroundColor:"#eee"},placeholderItem:{}}})),Pi=function(e){var t=Ai(),r=Object(s.h)().ticketId,o=Object(n.useState)(0),i=Object(l.a)(o,2),c=i[0],u=i[1],f=Object(n.useContext)(Un),h=f.currentTicket,d=f.setCurrentTicket;Object(n.useEffect)((function(){return null!==h.id&&d({id:h.id,code:"#open"}),r||u(1),function(){d({id:null,code:null})}}),[]),Object(n.useEffect)((function(){null!==h.id&&u(0)}),[h]);return a.a.createElement(Ii,null,a.a.createElement(Hn.a,{className:t.header},a.a.createElement(Si.a,{value:c,onChange:function(e,t){u(t)},showLabels:!0,className:t.root},a.a.createElement(Ni.a,{label:"Ticket",icon:a.a.createElement(lt.a,null)}),a.a.createElement(Ni.a,{label:"Atendimentos",icon:a.a.createElement(Ci.a,null)}))),a.a.createElement(Hn.a,{className:t.content},0===c?r?a.a.createElement(ji,null):a.a.createElement(Hn.a,{className:t.placeholderContainer},a.a.createElement("div",{className:t.placeholderItem},Ne.a.t("chat.noTicketMessage")),a.a.createElement("br",null),a.a.createElement(mt.a,{onClick:function(){return u(1)},variant:"contained",color:"primary"},"Selecionar Ticket")):a.a.createElement(Ja,null)))};var Mi=Object(wn.a)()((function(e){return Object(wn.b)("md",e.width)?a.a.createElement(ki,null):a.a.createElement(Pi,null)})),Fi=r(645),Gi=r.n(Fi);function Ri(){Ri=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var f={};function h(){}function d(){}function p(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(m=g);var y=p.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Di=function(){var e=function(){var e=Object(A.a)(Ri().mark((function e(t){var r,n;return Ri().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe.request({url:"/plans/list",method:"GET",params:t});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t=function(){var e=Object(A.a)(Ri().mark((function e(t){var r,n;return Ri().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ge.request({url:"/plans/all",method:"GET",params:t});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r=function(){var e=Object(A.a)(Ri().mark((function e(t){var r,n;return Ri().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ge.request({url:"/plans/".concat(t),method:"GET"});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{getPlanList:e,list:t,save:function(){var e=Object(A.a)(Ri().mark((function e(t){var r,n;return Ri().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ge.request({url:"/plans",method:"POST",data:t});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(A.a)(Ri().mark((function e(t){var r,n;return Ri().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ge.request({url:"/plans/".concat(t.id),method:"PUT",data:t});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),finder:r,remove:function(){var e=Object(A.a)(Ri().mark((function e(t){var r,n;return Ri().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ge.request({url:"/plans/".concat(t),method:"DELETE"});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},Wi=r(345),qi=r.n(Wi);function zi(){zi=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var f={};function h(){}function d(){}function p(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(m=g);var y=p.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Yi=function(){return a.a.createElement(j.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright ",a.a.createElement($a.a,{color:"inherit",href:"https://"+br.systemVars.controllerDomain},br.systemVars.appName,",")," ",(new Date).getFullYear(),". v",br.systemVars.version)},Bi=Object(m.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},img:{margin:e.spacing(1),marginBottom:"30px",paddingBottom:"30px",width:"250px",borderBottom:"1px solid #cecece"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}})),Hi=Ft.b().shape({name:Ft.c().min(2,"Too Short!").max(50,"Too Long!").required("Required"),password:Ft.c().min(5,"Too Short!").max(50,"Too Long!"),email:Ft.c().email("Invalid email").required("Required")}),Ui=function(){var e=Bi(),t=Object(s.g)(),r=Gi.a.parse(window.location.search);void 0!==r.companyId&&r.companyId;var o={cnpj:"",razaosocial:"",name:"",telefone:"",cep:"",estado:"",cidade:"",bairro:"",logradouro:"",numero:"",email:"",password:"",diaVencimento:"",planId:""},i=Object(n.useState)(!1),p=Object(l.a)(i,2),m=p[0],v=p[1];function g(){v(0==m)}var y=Object(n.useState)(o),b=Object(l.a)(y,1)[0],E=Ve()().add(3,"day").format(),w=function(){var e=Object(A.a)(zi().mark((function e(r){return zi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object.assign(r,{recurrence:"MENSAL"}),Object.assign(r,{dueDate:E}),Object.assign(r,{status:"t"}),Object.assign(r,{campaignsEnabled:!0}),e.prev=4,e.next=7,Fe.post("/companies/cadastro",r);case 7:f.b.success(Ne.a.t("signup.toasts.success")),t.push("/login"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),console.log(e.t0),Ie(e.t0);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}(),x=Object(n.useState)([]),O=Object(l.a)(x,2),L=O[0],S=O[1],N=Di().list;Object(n.useEffect)((function(){function e(){return(e=Object(A.a)(zi().mark((function e(){var t;return zi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N();case 2:t=e.sent,S(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var T=Object(n.useState)({cnpj:"".concat(o.cnpj),razaosocial:"".concat(o.razaosocial),nomeEmpresa:"".concat(o.name),telefone:"".concat(o.telefone),cep:"".concat(o.cep),estado:"".concat(o.estado),cidade:"".concat(o.cidade),bairro:"".concat(o.bairro),logradouro:"".concat(o.logradouro),numero:"".concat(o.numero),email:"".concat(o.email),diasVencimento:[1,5,10,15,20,25],diaVencimento:"".concat(o.diaVencimento),planId:"".concat(o.planId)}),C=Object(l.a)(T,2),_=C[0],I=C[1],P=function(){var e=Object(A.a)(zi().mark((function e(t){var r;return zi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="https://viacep.com.br/ws/".concat(t,"/json/"),e.abrupt("return",fetch(r).then((function(e){return e.json()})).then((function(e){return e.erro?null:e})).catch((function(e){return console.error(e)})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(A.a)(zi().mark((function e(t){var r,n;return zi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=R(t),r="https://www.receitaws.com.br/v1/cnpj/".concat(t,"/days/15"),(n=new XMLHttpRequest).open("GET",r),n.setRequestHeader("Content-Type","application/json"),n.setRequestHeader("Authorization","Bearer d8f84800c2b14af485ecdd46aa354a46a8c75dddbfed1759eaa2cd544705b749"),n.onload=function(){if(200===n.status)return JSON.parse(n.responseText);console.log("Erro ao fazer requisi\xe7\xe3o:",n.statusText)},n.send();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var F=function(e){var t=e.target,r=t.name,n=t.value;I(Object(h.a)(Object(h.a)({},_),{},Object(d.a)({},r,n))),"cep"===r&&9===n.length&&P(n).then((function(e){e&&function(e){I(Object(h.a)(Object(h.a)({},_),{},{cep:e.cep,estado:e.uf,cidade:e.localidade,bairro:e.bairro,logradouro:e.logradouro}))}(e)})),"cnpj"===r&&18===n.length&&M(n).then((function(e){console.log(e),e&&function(e){I(Object(h.a)(Object(h.a)({},_),{},{razaosocial:e.nome,nomeEmpresa:e.fantasia}))}(e)})),console.log(_)},G=function(e){var t=e.target.value;I(Object(h.a)(Object(h.a)({},_),{},{email:t}))},R=function(e){return e.replace(".","").replace(".","").replace("/","").replace("-","")};return a.a.createElement(xr.a,{component:"main",maxWidth:"xs"},a.a.createElement(c.a,null),a.a.createElement("div",{className:e.paper},a.a.createElement("div",null,a.a.createElement("img",{className:e.img,src:qi.a,alt:"Whats"})),a.a.createElement(j.a,{component:"h1",variant:"h5"},Ne.a.t("signup.title")),a.a.createElement(Gt.e,{initialValues:b,enableReinitialize:!0,validationSchema:Hi,onSubmit:function(e,t){setTimeout((function(){w(e),t.setSubmitting(!1)}),400)}},(function(t){var r,n,o,i,c=t.touched,l=t.errors;t.isSubmitting;return a.a.createElement(Gt.d,{className:e.form},a.a.createElement(Or.a,{container:!0,spacing:2},a.a.createElement(Or.a,{item:!0,xs:12},a.a.createElement(Gt.b,{as:Rt.a,autoComplete:"cnpj",name:"cnpj",error:c.cnpj&&Boolean(l.cnpj),helperText:c.cnpj&&l.cnpj,variant:"outlined",fullWidth:!0,required:!0,id:"cnpj",label:"CNPJ da Empresa",onChange:F,value:(i=_.cnpj,i.replace(/\D/g,"").substring(0,14).replace(/^(\d{2})(\d)/,"$1.$2").replace(/^(\d{2})\.(\d{3})(\d)/,"$1.$2.$3").replace(/\.(\d{3})(\d)/,".$1/$2").replace(/(\d{4})(\d)/,"$1-$2"))})),a.a.createElement(Or.a,{item:!0,xs:12},a.a.createElement(Gt.b,{as:Rt.a,autoComplete:"razaosocial",name:"razaosocial",error:c.razaosocial&&Boolean(l.razaosocial),helperText:c.razaosocial&&l.razaosocial,variant:"outlined",fullWidth:!0,id:"razaosocial",label:"Raz\xe3o Social",value:_.razaosocial,onChange:F})),a.a.createElement(Or.a,{item:!0,xs:12},a.a.createElement(Gt.b,{as:Rt.a,autoComplete:"nomeEmpresa",name:"nomeEmpresa",error:c.name&&Boolean(l.name),helperText:c.name&&l.name,variant:"outlined",fullWidth:!0,id:"nomeEmpresa",label:"Nome da Empresa",value:_.nomeEmpresa,onChange:F})),a.a.createElement(Or.a,{item:!0,xs:12},a.a.createElement(Gt.b,{as:Rt.a,autoComplete:"telefone",name:"telefone",error:c.telefone&&Boolean(l.telefone),helperText:c.telefone&&l.telefone,variant:"outlined",fullWidth:!0,id:"telefone",label:"Telefone",onChange:F,value:(o=_.telefone,o.replace(/\D/g,"").substring(0,11).replace(/^(\d{2})(\d)/,"($1) $2").replace(/(\d)(\d{4})$/,"$1-$2"))})),a.a.createElement(Or.a,{item:!0,xs:12},a.a.createElement(Gt.b,{as:Rt.a,autoComplete:"cep",name:"cep",error:c.cep&&Boolean(l.cep),helperText:c.cep&&l.cep,variant:"outlined",fullWidth:!0,id:"cep",label:"CEP",onChange:F,value:(n=_.cep,n.replace(/\D/g,"").substring(0,8).replace(/^(\d{5})(\d)/,"$1-$2"))})),a.a.createElement(Or.a,{item:!0,xs:12},a.a.createElement(Gt.b,{as:Rt.a,autoComplete:"estado",name:"estado",error:c.estado&&Boolean(l.estado),helperText:c.estado&&l.estado,variant:"outlined",fullWidth:!0,id:"estado",label:"Estado",onChange:F,value:_.estado})),a.a.createElement(Or.a,{item:!0,xs:12},a.a.createElement(Gt.b,{as:Rt.a,autoComplete:"cidade",name:"cidade",error:c.cidade&&Boolean(l.cidade),helperText:c.cidade&&l.cidade,variant:"outlined",fullWidth:!0,id:"cidade",label:"Cidade",onChange:F,value:_.cidade})),a.a.createElement(Or.a,{item:!0,xs:12},a.a.createElement(Gt.b,{as:Rt.a,autoComplete:"bairro",name:"bairro",error:c.bairro&&Boolean(l.bairro),helperText:c.bairro&&l.bairro,variant:"outlined",fullWidth:!0,id:"bairro",label:"Bairro",onChange:F,value:_.bairro})),a.a.createElement(Or.a,{item:!0,xs:12},a.a.createElement(Gt.b,{as:Rt.a,autoComplete:"logradouro",name:"logradouro",error:c.logradouro&&Boolean(l.logradouro),helperText:c.logradouro&&l.logradouro,variant:"outlined",fullWidth:!0,id:"logradouro",label:"Logradouro",onChange:F,value:_.logradouro})),a.a.createElement(Or.a,{item:!0,xs:12},a.a.createElement(Gt.b,{as:Rt.a,autoComplete:"numero",name:"numero",error:c.numero&&Boolean(l.numero),helperText:c.numero&&l.numero,variant:"outlined",fullWidth:!0,id:"numero",label:"N\xfamero",onChange:F,value:0==m?(r=_.numero,(r=r.replace(/\D/g,"")).length>5&&(r=r.substring(0,5)),r):"S/N"}),a.a.createElement("label",null,a.a.createElement("span",null,"Sem n\xfamero"),a.a.createElement("input",{type:"checkbox",onClick:g}))),a.a.createElement(Or.a,{item:!0,xs:12},a.a.createElement(Gt.b,{as:Rt.a,variant:"outlined",fullWidth:!0,id:"email",label:Ne.a.t("signup.form.email"),name:"email",error:c.email&&Boolean(l.email),helperText:c.email&&l.email,autoComplete:"current-email",value:_.email,onChange:G,required:!0})),a.a.createElement(Or.a,{item:!0,xs:12},a.a.createElement(Gt.b,{as:Rt.a,variant:"outlined",fullWidth:!0,name:"password",error:c.password&&Boolean(l.password),helperText:c.password&&l.password,label:Ne.a.t("signup.form.password"),type:"password",id:"password",autoComplete:"current-password",required:!0})),a.a.createElement(Or.a,{item:!0,xs:12},a.a.createElement(Bt.a,{htmlFor:"diaVencimento-selection"},"Dia do Vencimento"),a.a.createElement(Gt.b,{as:Yt.a,variant:"outlined",fullWidth:!0,id:"diaVencimento-selection",label:"diaVencimento",name:"diaVencimento",value:_.diaVencimento,onChange:F,required:!0},_.diasVencimento.map((function(e,t){return e<10?a.a.createElement(k.a,{name:"diaVencimento",key:t,value:e},"0",e):a.a.createElement(k.a,{name:"diaVencimento",key:t,value:e,onClick:F},e)})))),a.a.createElement(Or.a,{item:!0,xs:12},a.a.createElement(Bt.a,{htmlFor:"planId"},"Plano"),a.a.createElement(Gt.b,{as:Yt.a,variant:"outlined",fullWidth:!0,id:"planId",label:"Plano",name:"planId",value:_.planId,onChange:F,required:!0},L.map((function(e,t){return a.a.createElement(k.a,{key:t,value:e.id,name:"planId"},e.name," - Atendentes: ",e.users," - WhatsApp: ",e.connections," - Filas: ",e.queues," - R$ ",e.value)}))))),a.a.createElement(mt.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},Ne.a.t("signup.buttons.submit")),a.a.createElement(Or.a,{container:!0,justify:"flex-end"},a.a.createElement(Or.a,{item:!0},a.a.createElement($a.a,{href:"#",variant:"body2",component:u.b,to:"/login"},Ne.a.t("signup.buttons.login")))))}))),a.a.createElement(Hn.a,{mt:5},a.a.createElement(Yi,null)))},Vi=r(1159),Qi=r(1160),Zi=r(1161),Ji=function(){return a.a.createElement(j.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright ",a.a.createElement($a.a,{color:"inherit",href:"https://"+br.systemVars.controllerDomain},br.systemVars.appName,",")," ",(new Date).getFullYear(),". v",br.systemVars.version)},Ki=Object(m.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},img:{margin:e.spacing(1),marginBottom:"30px",paddingBottom:"30px",width:"250px",borderBottom:"1px solid #cecece"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),Xi=function(){var e=Ki(),t=Object(n.useState)({email:"",password:""}),r=Object(l.a)(t,2),o=r[0],i=r[1],s=Object(n.useState)(!1),f=Object(l.a)(s,2),p=f[0],m=f[1],v=Object(n.useContext)(Je).handleLogin,g=function(e){i(Object(h.a)(Object(h.a)({},o),{},Object(d.a)({},e.target.name,e.target.value)))};return a.a.createElement(xr.a,{component:"main",maxWidth:"xs"},a.a.createElement(c.a,null),a.a.createElement("div",{className:e.paper},a.a.createElement("div",null,a.a.createElement("img",{className:e.img,src:qi.a,alt:"Whats"})),a.a.createElement(j.a,{component:"h1",variant:"h5"},Ne.a.t("login.title")),a.a.createElement("form",{className:e.form,noValidate:!0,onSubmit:function(e){e.preventDefault(),v(o)}},a.a.createElement(Rt.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:Ne.a.t("login.form.email"),name:"email",value:o.email,onChange:g,autoComplete:"email",autoFocus:!0}),a.a.createElement(Rt.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:Ne.a.t("login.form.password"),id:"password",value:o.password,onChange:g,autoComplete:"current-password",type:p?"text":"password",InputProps:{endAdornment:a.a.createElement(Vi.a,{position:"end"},a.a.createElement(b.a,{"aria-label":"toggle password visibility",onClick:function(){return m((function(e){return!e}))}},p?a.a.createElement(Qi.a,null):a.a.createElement(Zi.a,null)))}}),a.a.createElement(mt.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},Ne.a.t("login.buttons.submit")),a.a.createElement(Or.a,{container:!0},a.a.createElement(Or.a,{item:!0},a.a.createElement($a.a,{href:"#",variant:"body2",component:u.b,to:"/signup"},Ne.a.t("login.buttons.register")))))),a.a.createElement(Hn.a,{mt:8},a.a.createElement(Ji,null)))},$i=r(1162),ec=r(1163),tc=r(1164),rc=r(1165),nc=r(1166),ac=r(1167),oc=r(1168),ic=Object(m.a)((function(e){return{mainContainer:{flex:1,padding:e.spacing(2),height:"calc(100% - 48px)"},contentWrapper:{height:"100%",overflowY:"hidden",display:"flex",flexDirection:"column"}}})),cc=function(e){var t=e.children,r=ic();return a.a.createElement(xr.a,{className:r.mainContainer},a.a.createElement("div",{className:r.contentWrapper},t))},lc=Object(m.a)((function(e){return{contactsHeader:{display:"flex",alignItems:"center",padding:"0px 6px 6px 6px"}}})),uc=function(e){var t=e.children,r=lc();return a.a.createElement("div",{className:r.contactsHeader},t)},sc=Object(m.a)((function(e){return{MainHeaderButtonsWrapper:{flex:"none",marginLeft:"auto","& > *":{margin:e.spacing(1)}}}})),fc=function(e){var t=e.children,r=sc();return a.a.createElement("div",{className:r.MainHeaderButtonsWrapper},t)};function hc(e){return a.a.createElement(j.a,{variant:"h5",color:"primary",gutterBottom:!0},e.children)}var dc=Object(m.a)((function(e){return{customTableCell:{display:"flex",alignItems:"center",justifyContent:"center"}}})),pc=function(e){var t=e.avatar,r=e.columns,n=dc();return a.a.createElement(a.a.Fragment,null,a.a.createElement(nn.a,null,t&&a.a.createElement(a.a.Fragment,null,a.a.createElement(en.a,{style:{paddingRight:0}},a.a.createElement(Zr.a,{animation:"wave",variant:"circle",width:40,height:40})),a.a.createElement(en.a,null,a.a.createElement(Zr.a,{animation:"wave",height:30,width:80}))),Array.from({length:r},(function(e,t){return a.a.createElement(en.a,{align:"center",key:t},a.a.createElement("div",{className:n.customTableCell},a.a.createElement(Zr.a,{align:"center",animation:"wave",height:30,width:80})))}))))};function mc(){mc=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var f={};function h(){}function d(){}function p(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(m=g);var y=p.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var vc=Object(m.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},multFieldLine:{display:"flex","& > *:not(:last-child)":{marginRight:e.spacing(1)}},btnWrapper:{position:"relative"},buttonProgress:{color:ft.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}})),gc=Ft.b().shape({name:Ft.c().min(2,"Too Short!").max(50,"Too Long!").required("Required")}),yc=a.a.memo((function(e){var t=e.open,r=e.onClose,o=e.whatsAppId,i=vc(),c={name:"",greetingMessage:"",complationMessage:"",outOfHoursMessage:"",ratingMessage:"",isDefault:!1,token:"",provider:"beta"},u=Object(n.useState)(c),s=Object(l.a)(u,2),d=s[0],p=s[1],m=Object(n.useState)([]),v=Object(l.a)(m,2),g=v[0],y=v[1];Object(n.useEffect)((function(){(function(){var e=Object(A.a)(mc().mark((function e(){var t,r,n,a;return mc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,Ge.get("whatsapp/".concat(o,"?session=0"));case 5:r=e.sent,n=r.data,p(n),a=null===(t=n.queues)||void 0===t?void 0:t.map((function(e){return e.id})),y(a),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),Ie(e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(){return e.apply(this,arguments)}})()()}),[o]);var b=function(){var e=Object(A.a)(mc().mark((function e(t){var r;return mc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(delete(r=Object(h.a)(Object(h.a)({},t),{},{queueIds:g})).queues,delete r.session,e.prev=3,!o){e.next=9;break}return e.next=7,Ge.put("/whatsapp/".concat(o),r);case 7:e.next=11;break;case 9:return e.next=11,Ge.post("/whatsapp",r);case 11:f.b.success(Ne.a.t("whatsappModal.success")),E(),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),Ie(e.t0);case 18:case"end":return e.stop()}}),e,null,[[3,15]])})));return function(t){return e.apply(this,arguments)}}(),E=function(){r(),p(c)};return a.a.createElement("div",{className:i.root},a.a.createElement(Dt.a,{open:t,onClose:E,maxWidth:"sm",fullWidth:!0,scroll:"paper"},a.a.createElement(zt.a,null,o?Ne.a.t("whatsappModal.title.edit"):Ne.a.t("whatsappModal.title.add")),a.a.createElement(Gt.e,{initialValues:d,enableReinitialize:!0,validationSchema:gc,onSubmit:function(e,t){setTimeout((function(){b(e),t.setSubmitting(!1)}),400)}},(function(e){var t=e.values,r=e.touched,n=e.errors,c=e.isSubmitting;return a.a.createElement(Gt.d,null,a.a.createElement(qt.a,{dividers:!0},a.a.createElement("div",{className:i.multFieldLine},a.a.createElement(Or.a,{spacing:2,container:!0},a.a.createElement(Or.a,{item:!0},a.a.createElement(Gt.b,{as:Rt.a,label:Ne.a.t("whatsappModal.form.name"),autoFocus:!0,name:"name",error:r.name&&Boolean(n.name),helperText:r.name&&n.name,variant:"outlined",margin:"dense",className:i.textField})),a.a.createElement(Or.a,{style:{paddingTop:15},item:!0},a.a.createElement(_n.a,{control:a.a.createElement(Gt.b,{as:In.a,color:"primary",name:"isDefault",checked:t.isDefault}),label:Ne.a.t("whatsappModal.form.default")})))),a.a.createElement("div",null,a.a.createElement(Gt.b,{as:Rt.a,label:Ne.a.t("queueModal.form.greetingMessage"),type:"greetingMessage",multiline:!0,rows:4,fullWidth:!0,name:"greetingMessage",error:r.greetingMessage&&Boolean(n.greetingMessage),helperText:r.greetingMessage&&n.greetingMessage,variant:"outlined",margin:"dense"})),a.a.createElement("div",null,a.a.createElement(Gt.b,{as:Rt.a,label:Ne.a.t("queueModal.form.complationMessage"),type:"complationMessage",multiline:!0,rows:4,fullWidth:!0,name:"complationMessage",error:r.complationMessage&&Boolean(n.complationMessage),helperText:r.complationMessage&&n.complationMessage,variant:"outlined",margin:"dense"})),a.a.createElement("div",null,a.a.createElement(Gt.b,{as:Rt.a,label:Ne.a.t("queueModal.form.outOfHoursMessage"),type:"outOfHoursMessage",multiline:!0,rows:4,fullWidth:!0,name:"outOfHoursMessage",error:r.outOfHoursMessage&&Boolean(n.outOfHoursMessage),helperText:r.outOfHoursMessage&&n.outOfHoursMessage,variant:"outlined",margin:"dense"})),a.a.createElement("div",null,a.a.createElement(Gt.b,{as:Rt.a,label:Ne.a.t("queueModal.form.ratingMessage"),type:"ratingMessage",multiline:!0,rows:4,fullWidth:!0,name:"ratingMessage",error:r.ratingMessage&&Boolean(n.ratingMessage),helperText:r.ratingMessage&&n.ratingMessage,variant:"outlined",margin:"dense"})),a.a.createElement("div",null,a.a.createElement(Gt.b,{as:Rt.a,label:Ne.a.t("queueModal.form.token"),type:"token",fullWidth:!0,name:"token",variant:"outlined",margin:"dense"})),a.a.createElement(Zt,{selectedQueueIds:g,onChange:function(e){return y(e)}})),a.a.createElement(Wt.a,null,a.a.createElement(mt.a,{onClick:E,color:"secondary",disabled:c,variant:"outlined"},Ne.a.t("whatsappModal.buttons.cancel")),a.a.createElement(mt.a,{type:"submit",color:"primary",disabled:c,variant:"contained",className:i.btnWrapper},o?Ne.a.t("whatsappModal.buttons.okEdit"):Ne.a.t("whatsappModal.buttons.okAdd"),c&&a.a.createElement(vt.a,{size:24,className:i.buttonProgress}))))}))))})),bc=r(646),Ec=r.n(bc);function wc(){wc=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var f={};function h(){}function d(){}function p(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(m=g);var y=p.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var xc=a.a.memo((function(e){var t=e.open,r=e.onClose,o=e.whatsAppId,i=Object(n.useState)(""),c=Object(l.a)(i,2),u=c[0],s=c[1];return Object(n.useEffect)((function(){(function(){var e=Object(A.a)(wc().mark((function e(){var t,r;return wc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,Ge.get("/whatsapp/".concat(o));case 5:t=e.sent,r=t.data,s(r.qrcode),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),Ie(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}})()()}),[o]),Object(n.useEffect)((function(){if(o){var e=localStorage.getItem("companyId"),t=We({companyId:e});return t.on("company-".concat(e,"-whatsappSession"),(function(e){"update"===e.action&&e.session.id===o&&s(e.session.qrcode),"update"===e.action&&""===e.session.qrcode&&r()})),function(){t.disconnect()}}}),[o,r]),a.a.createElement(Dt.a,{open:t,onClose:r,maxWidth:"lg",scroll:"paper"},a.a.createElement(qt.a,null,a.a.createElement(ar.a,{elevation:0},a.a.createElement(j.a,{color:"primary",gutterBottom:!0},Ne.a.t("qrCode.message")),u?a.a.createElement(Ec.a,{value:u,size:256}):a.a.createElement("span",null,"Waiting for QR Code"))))}));function Oc(){Oc=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var f={};function h(){}function d(){}function p(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(m=g);var y=p.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var jc=Object(m.a)((function(e){return{mainPaper:Object(h.a)({flex:1,padding:e.spacing(1),overflowY:"scroll"},e.scrollbarStyles),customTableCell:{display:"flex",alignItems:"center",justifyContent:"center"},tooltip:{backgroundColor:"#f5f5f9",color:"rgba(0, 0, 0, 0.87)",fontSize:e.typography.pxToRem(14),border:"1px solid #dadde9",maxWidth:450},tooltipPopper:{textAlign:"center"},buttonProgress:{color:ft.a[500]}}})),Lc=function(e){var t=e.title,r=e.content,n=e.children,o=jc();return a.a.createElement(kt.a,{arrow:!0,classes:{tooltip:o.tooltip,popper:o.tooltipPopper},title:a.a.createElement(a.a.Fragment,null,a.a.createElement(j.a,{gutterBottom:!0,color:"inherit"},t),r&&a.a.createElement(j.a,null,r))},n)},kc=function(){var e=jc(),t=Object(n.useContext)(Be),r=t.whatsApps,o=t.loading,i=Object(n.useState)(!1),c=Object(l.a)(i,2),u=c[0],s=c[1],h=Object(n.useState)(!1),d=Object(l.a)(h,2),p=d[0],m=d[1],v=Object(n.useState)(null),g=Object(l.a)(v,2),y=g[0],E=g[1],w=Object(n.useState)(!1),x=Object(l.a)(w,2),O=x[0],j=x[1],L={action:"",title:"",message:"",whatsAppId:"",open:!1},k=Object(n.useState)(L),S=Object(l.a)(k,2),N=S[0],T=S[1],C=function(){var e=Object(A.a)(Oc().mark((function e(t){return Oc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ge.post("/whatsappsession/".concat(t));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Ie(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(A.a)(Oc().mark((function e(t){return Oc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ge.put("/whatsappsession/".concat(t));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Ie(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),I=Object(n.useCallback)((function(){s(!1),E(null)}),[E,s]),P=Object(n.useCallback)((function(){E(null),m(!1)}),[m,E]),M=function(e,t){"disconnect"===e&&T({action:e,title:Ne.a.t("connections.confirmationModal.disconnectTitle"),message:Ne.a.t("connections.confirmationModal.disconnectMessage"),whatsAppId:t}),"delete"===e&&T({action:e,title:Ne.a.t("connections.confirmationModal.deleteTitle"),message:Ne.a.t("connections.confirmationModal.deleteMessage"),whatsAppId:t}),j(!0)},F=function(){var e=Object(A.a)(Oc().mark((function e(){return Oc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("disconnect"!==N.action){e.next=9;break}return e.prev=1,e.next=4,Ge.delete("/whatsappsession/".concat(N.whatsAppId));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),Ie(e.t0);case 9:if("delete"!==N.action){e.next=19;break}return e.prev=10,e.next=13,Ge.delete("/whatsapp/".concat(N.whatsAppId));case 13:f.b.success(Ne.a.t("connections.toasts.deleted")),e.next=19;break;case 16:e.prev=16,e.t1=e.catch(10),Ie(e.t1);case 19:T(L);case 20:case"end":return e.stop()}}),e,null,[[1,6],[10,16]])})));return function(){return e.apply(this,arguments)}}(),G=function(e){return a.a.createElement(a.a.Fragment,null,"qrcode"===e.status&&a.a.createElement(mt.a,{size:"small",variant:"contained",color:"primary",onClick:function(){return function(e){E(e),m(!0)}(e)}},Ne.a.t("connections.buttons.qrcode")),"DISCONNECTED"===e.status&&a.a.createElement(a.a.Fragment,null,a.a.createElement(mt.a,{size:"small",variant:"outlined",color:"primary",onClick:function(){return C(e.id)}},Ne.a.t("connections.buttons.tryAgain"))," ",a.a.createElement(mt.a,{size:"small",variant:"outlined",color:"secondary",onClick:function(){return _(e.id)}},Ne.a.t("connections.buttons.newQr"))),("CONNECTED"===e.status||"PAIRING"===e.status||"TIMEOUT"===e.status)&&a.a.createElement(mt.a,{size:"small",variant:"outlined",color:"secondary",onClick:function(){M("disconnect",e.id)}},Ne.a.t("connections.buttons.disconnect")),"OPENING"===e.status&&a.a.createElement(mt.a,{size:"small",variant:"outlined",disabled:!0,color:"default"},Ne.a.t("connections.buttons.connecting")))};return a.a.createElement(cc,null,a.a.createElement(ua,{title:N.title,open:O,onClose:j,onConfirm:F},N.message),a.a.createElement(xc,{open:p,onClose:P,whatsAppId:!u&&(null===y||void 0===y?void 0:y.id)}),a.a.createElement(yc,{open:u,onClose:I,whatsAppId:!p&&(null===y||void 0===y?void 0:y.id)}),a.a.createElement(uc,null,a.a.createElement(hc,null,Ne.a.t("connections.title")),a.a.createElement(fc,null,a.a.createElement(mt.a,{variant:"contained",color:"primary",onClick:function(){E(null),s(!0)}},Ne.a.t("connections.buttons.add")))),a.a.createElement(ar.a,{className:e.mainPaper,variant:"outlined"},a.a.createElement(Xr.a,{size:"small"},a.a.createElement(rn.a,null,a.a.createElement(nn.a,null,a.a.createElement(en.a,{align:"center"},Ne.a.t("connections.table.name")),a.a.createElement(en.a,{align:"center"},Ne.a.t("connections.table.status")),a.a.createElement(en.a,{align:"center"},Ne.a.t("connections.table.session")),a.a.createElement(en.a,{align:"center"},Ne.a.t("connections.table.lastUpdate")),a.a.createElement(en.a,{align:"center"},Ne.a.t("connections.table.default")),a.a.createElement(en.a,{align:"center"},Ne.a.t("connections.table.actions")))),a.a.createElement($r.a,null,o?a.a.createElement(pc,null):a.a.createElement(a.a.Fragment,null,(null===r||void 0===r?void 0:r.length)>0&&r.map((function(t){return a.a.createElement(nn.a,{key:t.id},a.a.createElement(en.a,{align:"center"},t.name),a.a.createElement(en.a,{align:"center"},function(t){return a.a.createElement("div",{className:e.customTableCell},"DISCONNECTED"===t.status&&a.a.createElement(Lc,{title:Ne.a.t("connections.toolTips.disconnected.title"),content:Ne.a.t("connections.toolTips.disconnected.content")},a.a.createElement($i.a,{color:"secondary"})),"OPENING"===t.status&&a.a.createElement(vt.a,{size:24,className:e.buttonProgress}),"qrcode"===t.status&&a.a.createElement(Lc,{title:Ne.a.t("connections.toolTips.qrcode.title"),content:Ne.a.t("connections.toolTips.qrcode.content")},a.a.createElement(ec.a,null)),"CONNECTED"===t.status&&a.a.createElement(Lc,{title:Ne.a.t("connections.toolTips.connected.title")},a.a.createElement(tc.a,{style:{color:ft.a[500]}})),("TIMEOUT"===t.status||"PAIRING"===t.status)&&a.a.createElement(Lc,{title:Ne.a.t("connections.toolTips.timeout.title"),content:Ne.a.t("connections.toolTips.timeout.content")},a.a.createElement(rc.a,{color:"secondary"})))}(t)),a.a.createElement(en.a,{align:"center"},G(t)),a.a.createElement(en.a,{align:"center"},Object(at.a)(Object(st.a)(t.updatedAt),"dd/MM/yy HH:mm")),a.a.createElement(en.a,{align:"center"},t.isDefault&&a.a.createElement("div",{className:e.customTableCell},a.a.createElement(nc.a,{style:{color:ft.a[500]}}))),a.a.createElement(en.a,{align:"center"},a.a.createElement(b.a,{size:"small",onClick:function(){return function(e){E(e),s(!0)}(t)}},a.a.createElement(ac.a,null)),a.a.createElement(b.a,{size:"small",onClick:function(e){M("delete",t.id)}},a.a.createElement(oc.a,null))))})))))))},Sc=r(435),Nc=Object(m.a)((function(e){return{root:{width:"100%"},fullWidth:{width:"100%"},textfield:{width:"100%"},row:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},control:{paddingRight:e.spacing(1),paddingLeft:e.spacing(1)},buttonContainer:{textAlign:"right",padding:e.spacing(1)}}}));var Tc=function(e){var t=e.initialValues,r=e.onSubmit,o=e.loading,i=e.labelSaveButton,c=Nc(),u=Object(n.useState)([{weekday:"Segunda-feira",weekdayEn:"monday",startTime:"",endTime:""},{weekday:"Ter\xe7a-feira",weekdayEn:"tuesday",startTime:"",endTime:""},{weekday:"Quarta-feira",weekdayEn:"wednesday",startTime:"",endTime:""},{weekday:"Quinta-feira",weekdayEn:"thursday",startTime:"",endTime:""},{weekday:"Sexta-feira",weekdayEn:"friday",startTime:"",endTime:""},{weekday:"S\xe1bado",weekdayEn:"saturday",startTime:"",endTime:""},{weekday:"Domingo",weekdayEn:"sunday",startTime:"",endTime:""}]),s=Object(l.a)(u,2),f=s[0],h=s[1];Object(n.useEffect)((function(){Object(_e.isArray)(t)&&t.length>0&&h(t)}),[t]);var d=function(e){r(e)};return a.a.createElement(Gt.e,{enableReinitialize:!0,className:c.fullWidth,initialValues:{schedules:f},onSubmit:function(e){var t=e.schedules;return setTimeout((function(){d(t)}),500)}},(function(e){var t=e.values;return a.a.createElement(Gt.d,{className:c.fullWidth},a.a.createElement(Gt.c,{name:"schedules",render:function(e){return a.a.createElement(Or.a,{spacing:4,container:!0},t.schedules.map((function(e,t){return a.a.createElement(xr.a,null,a.a.createElement(Gt.a,{as:Rt.a,label:"Dia da Semana",name:"schedules[".concat(t,"].weekday"),disabled:!0,variant:"outlined",style:{marginRight:"3.2%",width:"30%"},margin:"dense"}),a.a.createElement(Gt.a,{name:"schedules[".concat(t,"].startTime")},(function(e){var t=e.field;return a.a.createElement(Sc.a,Object.assign({label:"Hora de Inicial"},t,{variant:"outlined",margin:"dense",customInput:Rt.a,format:"##:##",style:{marginRight:"3.2%",width:"30%"}}))})),a.a.createElement(Gt.a,{name:"schedules[".concat(t,"].endTime")},(function(e){var t=e.field;return a.a.createElement(Sc.a,Object.assign({label:"Hora de Final"},t,{variant:"outlined",margin:"dense",customInput:Rt.a,format:"##:##",style:{marginRight:"3.2%",width:"30%"}}))})))})))}}),a.a.createElement("div",{style:{textAlign:"center",marginTop:"2%"},className:c.buttonContainer},a.a.createElement(bt,{loading:o,type:"submit",color:"primary",variant:"contained"},null!==i&&void 0!==i?i:"Salvar")))}))};function Cc(){Cc=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var f={};function h(){}function d(){}function p(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(m=g);var y=p.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var _c=Object(m.a)((function(e){return{chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2}}})),Ic=function(e){var t=e.selectedQueueIds,r=e.companyId,o=e.onChange,i=_c(),c=Object(n.useState)([]),u=Object(l.a)(c,2),s=u[0],f=u[1];Object(n.useEffect)((function(){Object(A.a)(Cc().mark((function e(){var t,n;return Cc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ge.get("/queue",{params:{companyId:r}});case 3:t=e.sent,n=t.data,f(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),Ie(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()}),[r]);return a.a.createElement("div",{style:{marginTop:6}},a.a.createElement(Ht.a,{fullWidth:!0,margin:"dense",variant:"outlined"},a.a.createElement(Bt.a,null,Ne.a.t("queueSelect.inputLabel")),a.a.createElement(Yt.a,{multiple:!0,labelWidth:60,value:t,onChange:function(e){o(e.target.value)},MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null},renderValue:function(e){return a.a.createElement("div",{className:i.chips},(null===e||void 0===e?void 0:e.length)>0&&e.map((function(e){var t=s.find((function(t){return t.id===e}));return t?a.a.createElement(Ut.a,{key:e,style:{backgroundColor:t.color},variant:"outlined",label:t.name,className:i.chip}):null})))}},s.map((function(e){return a.a.createElement(k.a,{key:e.id,value:e.id},e.name)})))))};function Ac(){Ac=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var f={};function h(){}function d(){}function p(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(m=g);var y=p.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Pc=Object(m.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},multFieldLine:{display:"flex","& > *:not(:last-child)":{marginRight:e.spacing(1)}},btnWrapper:{position:"relative"},buttonProgress:{color:ft.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},formControl:{margin:e.spacing(1),minWidth:120}}})),Mc=Ft.b().shape({name:Ft.c().min(2,"Too Short!").max(50,"Too Long!").required("Required"),password:Ft.c().min(5,"Too Short!").max(50,"Too Long!"),email:Ft.c().email("Invalid email").required("Required")}),Fc=function(e){var t=e.open,r=e.onClose,o=e.userId,i=e.companyId,c=Pc(),u={name:"",email:"",password:"",profile:"user"},s=Object(n.useContext)(Je).user,d=Object(n.useState)(u),p=Object(l.a)(d,2),m=p[0],v=p[1],g=Object(n.useState)([]),y=Object(l.a)(g,2),b=y[0],E=y[1];Object(n.useEffect)((function(){(function(){var e=Object(A.a)(Ac().mark((function e(){var r,n,a,i;return Ac().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=2;break}return e.abrupt("return");case 2:if(!t){e.next=16;break}return e.prev=3,e.next=6,Ge.get("/users/".concat(o));case 6:n=e.sent,a=n.data,v((function(e){return Object(h.a)(Object(h.a)({},e),a)})),i=null===(r=a.queues)||void 0===r?void 0:r.map((function(e){return e.id})),E(i),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),Ie(e.t0);case 16:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(){return e.apply(this,arguments)}})()()}),[o,t]);var w=function(){r(),v(u)},x=function(){var e=Object(A.a)(Ac().mark((function e(t){var r;return Ac().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Object(h.a)(Object(h.a)({},t),{},{companyId:i,queueIds:b}),e.prev=1,!o){e.next=7;break}return e.next=5,Ge.put("/users/".concat(o),r);case 5:e.next=9;break;case 7:return e.next=9,Ge.post("/users",r);case 9:f.b.success(Ne.a.t("userModal.success")),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),Ie(e.t0);case 15:w();case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("div",{className:c.root},a.a.createElement(Dt.a,{open:t,onClose:w,maxWidth:"xs",fullWidth:!0,scroll:"paper"},a.a.createElement(zt.a,{id:"form-dialog-title"},"".concat(o?Ne.a.t("userModal.title.edit"):Ne.a.t("userModal.title.add"))),a.a.createElement(Gt.e,{initialValues:m,enableReinitialize:!0,validationSchema:Mc,onSubmit:function(e,t){setTimeout((function(){x(e),t.setSubmitting(!1)}),400)}},(function(e){var t=e.touched,r=e.errors,n=e.isSubmitting;return a.a.createElement(Gt.d,null,a.a.createElement(qt.a,{dividers:!0},a.a.createElement("div",{className:c.multFieldLine},a.a.createElement(Gt.b,{as:Rt.a,label:Ne.a.t("userModal.form.name"),autoFocus:!0,name:"name",error:t.name&&Boolean(r.name),helperText:t.name&&r.name,variant:"outlined",margin:"dense",fullWidth:!0}),a.a.createElement(Gt.b,{as:Rt.a,label:Ne.a.t("userModal.form.password"),type:"password",name:"password",error:t.password&&Boolean(r.password),helperText:t.password&&r.password,variant:"outlined",margin:"dense",fullWidth:!0})),a.a.createElement("div",{className:c.multFieldLine},a.a.createElement(Gt.b,{as:Rt.a,label:Ne.a.t("userModal.form.email"),name:"email",error:t.email&&Boolean(r.email),helperText:t.email&&r.email,variant:"outlined",margin:"dense",fullWidth:!0}),a.a.createElement(Ht.a,{variant:"outlined",className:c.formControl,margin:"dense"},a.a.createElement($e,{role:s.profile,perform:"user-modal:editProfile",yes:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(Bt.a,{id:"profile-selection-input-label"},Ne.a.t("userModal.form.profile")),a.a.createElement(Gt.b,{as:Yt.a,label:Ne.a.t("userModal.form.profile"),name:"profile",labelId:"profile-selection-label",id:"profile-selection",required:!0},a.a.createElement(k.a,{value:"admin"},"Admin"),a.a.createElement(k.a,{value:"user"},"User")))}}))),a.a.createElement($e,{role:s.profile,perform:"user-modal:editQueues",yes:function(){return a.a.createElement(Ic,{companyId:i,selectedQueueIds:b,onChange:function(e){return E(e)}})}})),a.a.createElement(Wt.a,null,a.a.createElement(mt.a,{onClick:w,color:"secondary",disabled:n,variant:"outlined"},Ne.a.t("userModal.buttons.cancel")),a.a.createElement(mt.a,{type:"submit",color:"primary",disabled:n,variant:"contained",className:c.btnWrapper},"".concat(o?Ne.a.t("userModal.buttons.okEdit"):Ne.a.t("userModal.buttons.okAdd")),n&&a.a.createElement(vt.a,{size:24,className:c.buttonProgress}))))}))))};function Gc(){Gc=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var f={};function h(){}function d(){}function p(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(m=g);var y=p.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Rc=Object(m.a)((function(e){return{root:{width:"100%"},mainPaper:{width:"100%",flex:1,padding:e.spacing(2)},fullWidth:{width:"100%"},tableContainer:Object(h.a)({width:"100%",overflowX:"scroll"},e.scrollbarStyles),textfield:{width:"100%"},textRight:{textAlign:"right"},row:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},control:{paddingRight:e.spacing(1),paddingLeft:e.spacing(1)},buttonContainer:{textAlign:"right",padding:e.spacing(1)}}}));function Dc(e){var t=e.onSubmit,r=e.onDelete,o=e.onCancel,i=e.initialValue,c=e.loading,u=Rc(),s=Object(n.useState)([]),d=Object(l.a)(s,2),p=d[0],m=d[1],v=Object(n.useState)(!1),g=Object(l.a)(v,2),y=g[0],b=g[1],E=Object(n.useState)({}),w=Object(l.a)(E,2),x=w[0],O=w[1],j=Object(n.useState)(Object(h.a)({name:"",email:"",phone:"",planId:"",status:!0,campaignsEnabled:!1,dueDate:"",recurrence:""},i)),L=Object(l.a)(j,2),S=L[0],N=L[1],T=Di().list;Object(n.useEffect)((function(){function e(){return(e=Object(A.a)(Gc().mark((function e(){var t;return Gc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:t=e.sent,m(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(n.useEffect)((function(){N((function(e){return Ve()(i).isValid()&&(i.dueDate=Ve()(i.dueDate).format("YYYY-MM-DD")),Object(h.a)(Object(h.a)({},e),i)}))}),[i]);var C=function(){var e=Object(A.a)(Gc().mark((function e(r){return Gc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:""!==r.dueDate&&!1!==Ve()(r.dueDate).isValid()||(r.dueDate=null),t(r),N(Object(h.a)(Object(h.a)({},i),{},{dueDate:""}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(A.a)(Gc().mark((function e(){var t,r;return Gc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ge.get("/users/list",{params:{companyId:i.id}});case 3:t=e.sent,r=t.data,Object(_e.isArray)(r)&&r.length&&O(Object(_e.head)(r)),b(!0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),f.b.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Fc,{userId:x.id,companyId:i.id,open:y,onClose:function(){O({}),b(!1)}}),a.a.createElement(Gt.e,{enableReinitialize:!0,className:u.fullWidth,initialValues:S,onSubmit:function(e,t){var r=t.resetForm;return setTimeout((function(){C(e),r()}),500)}},(function(e,t){return a.a.createElement(Gt.d,{className:u.fullWidth},a.a.createElement(Or.a,{spacing:2,justifyContent:"flex-end",container:!0},a.a.createElement(Or.a,{xs:12,sm:6,md:4,item:!0},a.a.createElement(Gt.b,{as:Rt.a,label:"Nome",name:"name",variant:"outlined",className:u.fullWidth,margin:"dense"})),a.a.createElement(Or.a,{xs:12,sm:6,md:2,item:!0},a.a.createElement(Gt.b,{as:Rt.a,label:"E-mail",name:"email",variant:"outlined",className:u.fullWidth,margin:"dense",required:!0})),a.a.createElement(Or.a,{xs:12,sm:6,md:2,item:!0},a.a.createElement(Gt.b,{as:Rt.a,label:"Telefone",name:"phone",variant:"outlined",className:u.fullWidth,margin:"dense"})),a.a.createElement(Or.a,{xs:12,sm:6,md:2,item:!0},a.a.createElement(Ht.a,{margin:"dense",variant:"outlined",fullWidth:!0},a.a.createElement(Bt.a,{htmlFor:"plan-selection"},"Plano"),a.a.createElement(Gt.b,{as:Yt.a,id:"plan-selection",label:"Plano",labelId:"plan-selection-label",name:"planId",margin:"dense",required:!0},p.map((function(e,t){return a.a.createElement(k.a,{key:t,value:e.id},e.name)}))))),a.a.createElement(Or.a,{xs:12,sm:6,md:2,item:!0},a.a.createElement(Ht.a,{margin:"dense",variant:"outlined",fullWidth:!0},a.a.createElement(Bt.a,{htmlFor:"status-selection"},"Status"),a.a.createElement(Gt.b,{as:Yt.a,id:"status-selection",label:"Status",labelId:"status-selection-label",name:"status",margin:"dense"},a.a.createElement(k.a,{value:!0},"Sim"),a.a.createElement(k.a,{value:!1},"N\xe3o")))),a.a.createElement(Or.a,{xs:12,sm:6,md:2,item:!0},a.a.createElement(Ht.a,{margin:"dense",variant:"outlined",fullWidth:!0},a.a.createElement(Bt.a,{htmlFor:"status-selection"},"Campanhas"),a.a.createElement(Gt.b,{as:Yt.a,id:"campaigns-selection",label:"Campanhas",labelId:"campaigns-selection-label",name:"campaignsEnabled",margin:"dense"},a.a.createElement(k.a,{value:!0},"Habilitadas"),a.a.createElement(k.a,{value:!1},"Desabilitadas")))),a.a.createElement(Or.a,{xs:12,sm:6,md:2,item:!0},a.a.createElement(Ht.a,{variant:"outlined",fullWidth:!0},a.a.createElement(Gt.b,{as:Rt.a,label:"Data de Vencimento",type:"date",name:"dueDate",InputLabelProps:{shrink:!0},variant:"outlined",fullWidth:!0,margin:"dense"}))),a.a.createElement(Or.a,{xs:12,sm:6,md:2,item:!0},a.a.createElement(Ht.a,{margin:"dense",variant:"outlined",fullWidth:!0},a.a.createElement(Bt.a,{htmlFor:"recorrencia-selection"},"Recorr\xeancia"),a.a.createElement(Gt.b,{as:Yt.a,label:"Recorr\xeancia",labelId:"recorrencia-selection-label",id:"recurrence",name:"recurrence",margin:"dense"},a.a.createElement(k.a,{value:"MENSAL"},"Mensal"),a.a.createElement(k.a,{value:"BIMESTRAL"},"Bimestral"),a.a.createElement(k.a,{value:"TRIMESTRAL"},"Trimestral"),a.a.createElement(k.a,{value:"SEMESTRAL"},"Semestral"),a.a.createElement(k.a,{value:"ANUAL"},"Anual")))),a.a.createElement(Or.a,{xs:12,item:!0},a.a.createElement(Or.a,{justifyContent:"flex-end",spacing:1,container:!0},a.a.createElement(Or.a,{xs:4,md:1,item:!0},a.a.createElement(bt,{className:u.fullWidth,style:{marginTop:7},loading:c,onClick:function(){return o()},variant:"contained"},"Limpar")),void 0!==S.id?a.a.createElement(a.a.Fragment,null,a.a.createElement(Or.a,{xs:6,md:1,item:!0},a.a.createElement(bt,{style:{marginTop:7},className:u.fullWidth,loading:c,onClick:function(){return r(S)},variant:"contained",color:"secondary"},"Excluir")),a.a.createElement(Or.a,{xs:6,md:2,item:!0},a.a.createElement(bt,{style:{marginTop:7},className:u.fullWidth,loading:c,onClick:function(){return function(){var e=Object(h.a)({},S);if(""!==e.dueDate&&null!==e.dueDate)switch(e.recurrence){case"MENSAL":e.dueDate=Ve()(e.dueDate).add(1,"month").format("YYYY-MM-DD");break;case"BIMESTRAL":e.dueDate=Ve()(e.dueDate).add(2,"month").format("YYYY-MM-DD");break;case"TRIMESTRAL":e.dueDate=Ve()(e.dueDate).add(3,"month").format("YYYY-MM-DD");break;case"SEMESTRAL":e.dueDate=Ve()(e.dueDate).add(6,"month").format("YYYY-MM-DD");break;case"ANUAL":e.dueDate=Ve()(e.dueDate).add(12,"month").format("YYYY-MM-DD")}N(e)}()},variant:"contained",color:"primary"},"+ Vencimento")),a.a.createElement(Or.a,{xs:6,md:1,item:!0},a.a.createElement(bt,{style:{marginTop:7},className:u.fullWidth,loading:c,onClick:function(){return _()},variant:"contained",color:"primary"},"Usu\xe1rio"))):null,a.a.createElement(Or.a,{xs:6,md:1,item:!0},a.a.createElement(bt,{className:u.fullWidth,style:{marginTop:7},loading:c,type:"submit",variant:"contained",color:"primary"},"Salvar"))))))})))}function Wc(e){var t=e.records,r=e.onSelect,n=Rc(),o=hr().dateToClient,i=function(e){if(Ve()(e.dueDate).isValid()){var t=Ve()(),r=Ve()(e.dueDate).diff(t,"days");if(5===r)return{backgroundColor:"#fffead"};if(r>=-3&&r<=4)return{backgroundColor:"#f7cc8f"};if(-4===r)return{backgroundColor:"#fa8c8c"}}return{}};return a.a.createElement(ar.a,{className:n.tableContainer},a.a.createElement(Xr.a,{className:n.fullWidth,size:"small","aria-label":"a dense table"},a.a.createElement(rn.a,null,a.a.createElement(nn.a,null,a.a.createElement(en.a,{align:"center",style:{width:"1%"}},"#"),a.a.createElement(en.a,{align:"left"},"Nome"),a.a.createElement(en.a,{align:"left"},"E-mail"),a.a.createElement(en.a,{align:"left"},"Telefone"),a.a.createElement(en.a,{align:"left"},"Plano"),a.a.createElement(en.a,{align:"left"},"Campanhas"),a.a.createElement(en.a,{align:"left"},"Status"),a.a.createElement(en.a,{align:"left"},"Criada Em"),a.a.createElement(en.a,{align:"left"},"Vencimento"))),a.a.createElement($r.a,null,t.map((function(e,t){return a.a.createElement(nn.a,{style:i(e),key:t},a.a.createElement(en.a,{align:"center",style:{width:"1%"}},a.a.createElement(b.a,{onClick:function(){return r(e)},"aria-label":"delete"},a.a.createElement(ac.a,null))),a.a.createElement(en.a,{align:"left"},e.name||"-"),a.a.createElement(en.a,{align:"left"},e.email||"-"),a.a.createElement(en.a,{align:"left"},e.phone||"-"),a.a.createElement(en.a,{align:"left"},function(e){return null!==e.planId?e.plan.name:"-"}(e)),a.a.createElement(en.a,{align:"left"},function(e){if(Object(_e.has)(e,"settings")&&Object(_e.isArray)(e.settings)&&e.settings.length>0){var t=e.settings.find((function(e){return"campaignsEnabled"===e.key}));if(t)return"true"===t.value?"Habilitadas":"Desabilitadas"}return"Desabilitadas"}(e)),a.a.createElement(en.a,{align:"left"},function(e){return!1===e.status?"N\xe3o":"Sim"}(e)),a.a.createElement(en.a,{align:"left"},o(e.createdAt)),a.a.createElement(en.a,{align:"left"},o(e.dueDate),a.a.createElement("br",null),a.a.createElement("span",null,e.recurrence)))})))))}function qc(){var e=Rc(),t=gn(),r=t.list,o=t.save,i=t.update,c=t.remove,u=Object(n.useState)(!1),s=Object(l.a)(u,2),d=s[0],p=s[1],m=Object(n.useState)(!1),v=Object(l.a)(m,2),g=v[0],y=v[1],b=Object(n.useState)([]),E=Object(l.a)(b,2),w=E[0],x=E[1],O=Object(n.useState)({name:"",email:"",phone:"",planId:"",status:!0,campaignsEnabled:!1,dueDate:"",recurrence:""}),j=Object(l.a)(O,2),L=j[0],k=j[1];Object(n.useEffect)((function(){S()}),[]);var S=function(){var e=Object(A.a)(Gc().mark((function e(){var t;return Gc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),e.prev=1,e.next=4,r();case 4:t=e.sent,x(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),f.b.error("N\xe3o foi poss\xedvel carregar a lista de registros");case 11:y(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(A.a)(Gc().mark((function e(t){return Gc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y(!0),e.prev=1,void 0===t.id){e.next=7;break}return e.next=5,i(t);case 5:e.next=9;break;case 7:return e.next=9,o(t);case 9:return e.next=11,S();case 11:C(),f.b.success("Opera\xe7\xe3o realizada com sucesso!"),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),f.b.error("N\xe3o foi poss\xedvel realizar a opera\xe7\xe3o. Verifique se j\xe1 existe uma empresa com o mesmo nome ou se os campos foram preenchidos corretamente");case 18:y(!1);case 19:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(A.a)(Gc().mark((function e(){return Gc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),e.prev=1,e.next=4,c(L.id);case 4:return e.next=6,S();case 6:C(),f.b.success("Opera\xe7\xe3o realizada com sucesso!"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),f.b.error("N\xe3o foi poss\xedvel realizar a opera\xe7\xe3o");case 13:y(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),C=function(){k((function(e){return Object(h.a)(Object(h.a)({},e),{},{name:"",email:"",phone:"",planId:"",status:!0,campaignsEnabled:!1,dueDate:"",recurrence:""})}))};return a.a.createElement(ar.a,{className:e.mainPaper,elevation:0},a.a.createElement(Or.a,{spacing:2,container:!0},a.a.createElement(Or.a,{xs:12,item:!0},a.a.createElement(Dc,{initialValue:L,onDelete:function(){p(!0)},onSubmit:N,onCancel:C,loading:g})),a.a.createElement(Or.a,{xs:12,item:!0},a.a.createElement(Wc,{records:w,onSelect:function(e){var t=!1,r=e.settings.find((function(e){return e.key.indexOf("campaignsEnabled")>-1}));r&&(t="true"===r.value||"enabled"===r.value),k((function(r){return Object(h.a)(Object(h.a)({},r),{},{id:e.id,name:e.name||"",phone:e.phone||"",email:e.email||"",planId:e.planId||"",status:!1!==e.status,campaignsEnabled:t,dueDate:e.dueDate||"",recurrence:e.recurrence||""})}))}}))),a.a.createElement(ua,{title:"Exclus\xe3o de Registro",open:d,onClose:function(){return p(!1)},onConfirm:function(){return T()}},"Deseja realmente excluir esse registro?"))}var zc=r(424),Yc=r.n(zc),Bc=r(647),Hc=r.n(Bc),Uc=["maskOptions"],Vc={prefix:"R$",suffix:"",includeThousandsSeparator:!0,thousandsSeparatorSymbol:".",allowDecimal:!0,decimalSymbol:",",decimalLimit:2,integerLimit:7,allowNegative:!1,allowLeadingZeroes:!1},Qc=function(e){var t=e.maskOptions,r=Object(pt.a)(e,Uc),n=Hc()(Object(h.a)(Object(h.a)({},Vc),t));return a.a.createElement(Yc.a,Object.assign({mask:n},r))};Qc.defaultProps={inputMode:"numeric",maskOptions:{}};r(999),r(1001);function Zc(){Zc=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var f={};function h(){}function d(){}function p(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(m=g);var y=p.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Jc=Object(m.a)((function(e){return{root:{width:"100%"},mainPaper:{width:"100%",flex:1,padding:e.spacing(2)},fullWidth:{width:"100%"},tableContainer:Object(h.a)({width:"100%",overflowX:"scroll"},e.scrollbarStyles),textfield:{width:"100%"},textRight:{textAlign:"right"},row:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},control:{paddingRight:e.spacing(1),paddingLeft:e.spacing(1)},buttonContainer:{textAlign:"right",padding:e.spacing(1)}}}));function Kc(e){var t=e.onSubmit,r=e.onDelete,o=e.onCancel,i=e.initialValue,c=e.loading,u=Jc(),s=Object(n.useState)({name:"",users:0,connections:0,queues:0,value:0}),f=Object(l.a)(s,2),h=f[0],d=f[1];Object(n.useEffect)((function(){d(i)}),[i]);var p=function(){var e=Object(A.a)(Zc().mark((function e(r){return Zc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(r);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(Gt.e,{enableReinitialize:!0,className:u.fullWidth,initialValues:h,onSubmit:function(e,t){var r=t.resetForm;return setTimeout((function(){p(e),r()}),500)}},(function(e){return a.a.createElement(Gt.d,{className:u.fullWidth},a.a.createElement(Or.a,{spacing:2,justifyContent:"flex-end",container:!0},a.a.createElement(Or.a,{xs:12,sm:6,md:4,item:!0},a.a.createElement(Gt.b,{as:Rt.a,label:"Nome",name:"name",variant:"outlined",className:u.fullWidth,margin:"dense"})),a.a.createElement(Or.a,{xs:12,sm:6,md:4,item:!0},a.a.createElement(Gt.b,{as:Rt.a,label:"Valor",name:"value",variant:"outlined",className:u.fullWidth,margin:"dense",type:"text"})),a.a.createElement(Or.a,{xs:12,sm:6,md:4,item:!0},a.a.createElement(Gt.b,{as:Rt.a,label:"Usu\xe1rios",name:"users",variant:"outlined",className:u.fullWidth,margin:"dense",type:"number"})),a.a.createElement(Or.a,{xs:12,sm:6,md:4,item:!0},a.a.createElement(Gt.b,{as:Rt.a,label:"Conex\xf5es",name:"connections",variant:"outlined",className:u.fullWidth,margin:"dense",type:"number"})),a.a.createElement(Or.a,{xs:12,sm:6,md:4,item:!0},a.a.createElement(Gt.b,{as:Rt.a,label:"Filas",name:"queues",variant:"outlined",className:u.fullWidth,margin:"dense",type:"number"})),a.a.createElement(Or.a,{xs:12,item:!0},a.a.createElement(Or.a,{justifyContent:"flex-end",spacing:1,container:!0},a.a.createElement(Or.a,{xs:4,md:1,item:!0},a.a.createElement(bt,{className:u.fullWidth,loading:c,onClick:function(){return o()},variant:"contained"},"Limpar")),void 0!==h.id?a.a.createElement(Or.a,{xs:4,md:1,item:!0},a.a.createElement(bt,{className:u.fullWidth,loading:c,onClick:function(){return r(h)},variant:"contained",color:"secondary"},"Excluir")):null,a.a.createElement(Or.a,{xs:4,md:1,item:!0},a.a.createElement(bt,{className:u.fullWidth,loading:c,type:"submit",variant:"contained",color:"primary"},"Salvar"))))))}))}function Xc(e){var t=e.records,r=e.onSelect,n=Jc();return a.a.createElement(ar.a,{className:n.tableContainer},a.a.createElement(Xr.a,{className:n.fullWidth,size:"small","aria-label":"a dense table"},a.a.createElement(rn.a,null,a.a.createElement(nn.a,null,a.a.createElement(en.a,{align:"center",style:{width:"1%"}},"#"),a.a.createElement(en.a,{align:"left"},"Nome"),a.a.createElement(en.a,{align:"center"},"Usu\xe1rios"),a.a.createElement(en.a,{align:"center"},"Conex\xf5es"),a.a.createElement(en.a,{align:"center"},"Filas"),a.a.createElement(en.a,{align:"center"},"Valor"))),a.a.createElement($r.a,null,t.map((function(e){return a.a.createElement(nn.a,{key:e.id},a.a.createElement(en.a,{align:"center",style:{width:"1%"}},a.a.createElement(b.a,{onClick:function(){return r(e)},"aria-label":"delete"},a.a.createElement(ac.a,null))),a.a.createElement(en.a,{align:"left"},e.name||"-"),a.a.createElement(en.a,{align:"center"},e.users||"-"),a.a.createElement(en.a,{align:"center"},e.connections||"-"),a.a.createElement(en.a,{align:"center"},e.queues||"-"),a.a.createElement(en.a,{align:"center"},e.value.toLocaleString("pt-br",{style:"currency",currency:"BRL"})||"-"))})))))}function $c(){var e=Jc(),t=Di(),r=t.list,o=t.save,i=t.update,c=t.remove,u=Object(n.useState)(!1),s=Object(l.a)(u,2),h=s[0],d=s[1],p=Object(n.useState)(!1),m=Object(l.a)(p,2),v=m[0],g=m[1],y=Object(n.useState)([]),b=Object(l.a)(y,2),E=b[0],w=b[1],x=Object(n.useState)({name:"",users:0,connections:0,queues:0,value:0}),O=Object(l.a)(x,2),j=O[0],L=O[1];Object(n.useEffect)((function(){function e(){return(e=Object(A.a)(Zc().mark((function e(){return Zc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var k=function(){var e=Object(A.a)(Zc().mark((function e(){var t;return Zc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.prev=1,e.next=4,r();case 4:t=e.sent,w(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),f.b.error("N\xe3o foi poss\xedvel carregar a lista de registros");case 11:g(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(A.a)(Zc().mark((function e(t){var r;return Zc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r={id:t.id,connections:t.connections,name:t.name,queues:t.queues,users:t.users,value:t.value.replace(",",".")},g(!0),e.prev=2,void 0===t.id){e.next=8;break}return e.next=6,i(r);case 6:e.next=10;break;case 8:return e.next=10,o(r);case 10:return e.next=12,k();case 12:T(),f.b.success("Opera\xe7\xe3o realizada com sucesso!"),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),f.b.error("N\xe3o foi poss\xedvel realizar a opera\xe7\xe3o. Verifique se j\xe1 existe uma plano com o mesmo nome ou se os campos foram preenchidos corretamente");case 19:g(!1);case 20:case"end":return e.stop()}}),e,null,[[2,16]])})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(A.a)(Zc().mark((function e(){return Zc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.prev=1,e.next=4,c(j.id);case 4:return e.next=6,k();case 6:T(),f.b.success("Opera\xe7\xe3o realizada com sucesso!"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),f.b.error("N\xe3o foi poss\xedvel realizar a opera\xe7\xe3o");case 13:g(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),T=function(){L({name:"",users:0,connections:0,queues:0,value:0})};return a.a.createElement(ar.a,{className:e.mainPaper,elevation:0},a.a.createElement(Or.a,{spacing:2,container:!0},a.a.createElement(Or.a,{xs:12,item:!0},a.a.createElement(Kc,{initialValue:j,onDelete:function(){d(!0)},onSubmit:S,onCancel:T,loading:v})),a.a.createElement(Or.a,{xs:12,item:!0},a.a.createElement(Xc,{records:E,onSelect:function(e){L({id:e.id,name:e.name||"",users:e.users||0,connections:e.connections||0,queues:e.queues||0,value:e.value.toLocaleString("pt-br",{minimumFractionDigits:2})||0})}}))),a.a.createElement(ua,{title:"Exclus\xe3o de Registro",open:h,onClose:function(){return d(!1)},onConfirm:function(){return N()}},"Deseja realmente excluir esse registro?"))}function el(){el=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var f={};function h(){}function d(){}function p(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(m=g);var y=p.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var tl=function(){return{findAll:function(){var e=Object(A.a)(el().mark((function e(t){var r,n;return el().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ge.request({url:"/helps",method:"GET",params:t});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),list:function(){var e=Object(A.a)(el().mark((function e(t){var r,n;return el().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ge.request({url:"/helps/list",method:"GET",params:t});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),save:function(){var e=Object(A.a)(el().mark((function e(t){var r,n;return el().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ge.request({url:"/helps",method:"POST",data:t});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(A.a)(el().mark((function e(t){var r,n;return el().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ge.request({url:"/helps/".concat(t.id),method:"PUT",data:t});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),remove:function(){var e=Object(A.a)(el().mark((function e(t){var r,n;return el().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ge.request({url:"/helps/".concat(t),method:"DELETE"});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}};function rl(){rl=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var f={};function h(){}function d(){}function p(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(m=g);var y=p.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var nl=Object(m.a)((function(e){return{root:{width:"100%"},mainPaper:{width:"100%",flex:1,padding:e.spacing(2)},fullWidth:{width:"100%"},tableContainer:Object(h.a)({width:"100%",overflowX:"scroll"},e.scrollbarStyles),textfield:{width:"100%"},textRight:{textAlign:"right"},row:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},control:{paddingRight:e.spacing(1),paddingLeft:e.spacing(1)},buttonContainer:{textAlign:"right",padding:e.spacing(1)}}}));function al(e){var t=e.onSubmit,r=e.onDelete,o=e.onCancel,i=e.initialValue,c=e.loading,u=nl(),s=Object(n.useState)(i),f=Object(l.a)(s,2),h=f[0],d=f[1];Object(n.useEffect)((function(){d(i)}),[i]);var p=function(){var e=Object(A.a)(rl().mark((function e(r){return rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(r);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(Gt.e,{enableReinitialize:!0,className:u.fullWidth,initialValues:h,onSubmit:function(e,t){var r=t.resetForm;return setTimeout((function(){p(e),r()}),500)}},(function(e){return a.a.createElement(Gt.d,{className:u.fullWidth},a.a.createElement(Or.a,{spacing:2,justifyContent:"flex-end",container:!0},a.a.createElement(Or.a,{xs:12,sm:6,md:3,item:!0},a.a.createElement(Gt.b,{as:Rt.a,label:"T\xedtulo",name:"title",variant:"outlined",className:u.fullWidth,margin:"dense"})),a.a.createElement(Or.a,{xs:12,sm:6,md:3,item:!0},a.a.createElement(Gt.b,{as:Rt.a,label:"C\xf3digo do V\xeddeo",name:"video",variant:"outlined",className:u.fullWidth,margin:"dense"})),a.a.createElement(Or.a,{xs:12,sm:12,md:6,item:!0},a.a.createElement(Gt.b,{as:Rt.a,label:"Descri\xe7\xe3o",name:"description",variant:"outlined",className:u.fullWidth,margin:"dense"})),a.a.createElement(Or.a,{sm:3,md:1,item:!0},a.a.createElement(bt,{className:u.fullWidth,loading:c,onClick:function(){return o()},variant:"contained"},"Limpar")),void 0!==h.id?a.a.createElement(Or.a,{sm:3,md:1,item:!0},a.a.createElement(bt,{className:u.fullWidth,loading:c,onClick:function(){return r(h)},variant:"contained",color:"secondary"},"Excluir")):null,a.a.createElement(Or.a,{sm:3,md:1,item:!0},a.a.createElement(bt,{className:u.fullWidth,loading:c,type:"submit",variant:"contained",color:"primary"},"Salvar"))))}))}function ol(e){var t=e.records,r=e.onSelect,n=nl();return a.a.createElement(ar.a,{className:n.tableContainer},a.a.createElement(Xr.a,{className:n.fullWidth,size:"small","aria-label":"a dense table"},a.a.createElement(rn.a,null,a.a.createElement(nn.a,null,a.a.createElement(en.a,{align:"center",style:{width:"1%"}},"#"),a.a.createElement(en.a,{align:"left"},"T\xedtulo"),a.a.createElement(en.a,{align:"left"},"Descri\xe7\xe3o"),a.a.createElement(en.a,{align:"left"},"V\xeddeo"))),a.a.createElement($r.a,null,t.map((function(e){return a.a.createElement(nn.a,{key:e.id},a.a.createElement(en.a,{align:"center",style:{width:"1%"}},a.a.createElement(b.a,{onClick:function(){return r(e)},"aria-label":"delete"},a.a.createElement(ac.a,null))),a.a.createElement(en.a,{align:"left"},e.title||"-"),a.a.createElement(en.a,{align:"left"},e.description||"-"),a.a.createElement(en.a,{align:"left"},e.video||"-"))})))))}function il(){var e=nl(),t=tl(),r=t.list,o=t.save,i=t.update,c=t.remove,u=Object(n.useState)(!1),s=Object(l.a)(u,2),h=s[0],d=s[1],p=Object(n.useState)(!1),m=Object(l.a)(p,2),v=m[0],g=m[1],y=Object(n.useState)([]),b=Object(l.a)(y,2),E=b[0],w=b[1],x=Object(n.useState)({title:"",description:"",video:""}),O=Object(l.a)(x,2),j=O[0],L=O[1];Object(n.useEffect)((function(){function e(){return(e=Object(A.a)(rl().mark((function e(){return rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var k=function(){var e=Object(A.a)(rl().mark((function e(){var t;return rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.prev=1,e.next=4,r();case 4:t=e.sent,w(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),f.b.error("N\xe3o foi poss\xedvel carregar a lista de registros");case 11:g(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(A.a)(rl().mark((function e(t){return rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g(!0),e.prev=1,void 0===t.id){e.next=7;break}return e.next=5,i(t);case 5:e.next=9;break;case 7:return e.next=9,o(t);case 9:return e.next=11,k();case 11:T(),f.b.success("Opera\xe7\xe3o realizada com sucesso!"),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),f.b.error("N\xe3o foi poss\xedvel realizar a opera\xe7\xe3o. Verifique se j\xe1 existe uma helpo com o mesmo nome ou se os campos foram preenchidos corretamente");case 18:g(!1);case 19:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(A.a)(rl().mark((function e(){return rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.prev=1,e.next=4,c(j.id);case 4:return e.next=6,k();case 6:T(),f.b.success("Opera\xe7\xe3o realizada com sucesso!"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),f.b.error("N\xe3o foi poss\xedvel realizar a opera\xe7\xe3o");case 13:g(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),T=function(){L({title:"",description:"",video:""})};return a.a.createElement(ar.a,{className:e.mainPaper,elevation:0},a.a.createElement(Or.a,{spacing:2,container:!0},a.a.createElement(Or.a,{xs:12,item:!0},a.a.createElement(al,{initialValue:j,onDelete:function(){d(!0)},onSubmit:S,onCancel:T,loading:v})),a.a.createElement(Or.a,{xs:12,item:!0},a.a.createElement(ol,{records:E,onSelect:function(e){L({id:e.id,title:e.title||"",description:e.description||"",video:e.video||""})}}))),a.a.createElement(ua,{title:"Exclus\xe3o de Registro",open:h,onClose:function(){return d(!1)},onConfirm:function(){return N()}},"Deseja realmente excluir esse registro?"))}function cl(){cl=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var f={};function h(){}function d(){}function p(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(m=g);var y=p.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var ll=function(){return{getAll:function(){var e=Object(A.a)(cl().mark((function e(t){var r,n;return cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ge.request({url:"/settings",method:"GET",params:t});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(A.a)(cl().mark((function e(t){var r,n;return cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ge.request({url:"/settings/".concat(t.key),method:"PUT",data:t});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}};function ul(){ul=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var f={};function h(){}function d(){}function p(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(m=g);var y=p.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var sl=Object(m.a)((function(e){return{container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},fixedHeightPaper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",height:240},tab:{background:"#f2f5f3",borderRadius:4,width:"100%","& .MuiTab-wrapper":{color:"#128c7e"},"& .MuiTabs-flexContainer":{justifyContent:"center"}},paper:{padding:e.spacing(2),display:"flex",alignItems:"center",marginBottom:12,width:"100%"},cardAvatar:{fontSize:"55px",color:Mr.a[500],backgroundColor:"#ffffff",width:e.spacing(7),height:e.spacing(7)},cardTitle:{fontSize:"18px",color:Fr.a[700]},cardSubtitle:{color:Mr.a[600],fontSize:"14px"},alignRight:{textAlign:"right"},fullWidth:{width:"100%"},selectContainer:{width:"100%",textAlign:"left"}}}));function fl(e){var t=e.settings,r=e.scheduleTypeChanged,o=sl(),i=Object(n.useState)("disabled"),c=Object(l.a)(i,2),u=c[0],s=c[1],h=Object(n.useState)("disabled"),d=Object(l.a)(h,2),p=d[0],m=d[1],v=Object(n.useState)("enabled"),g=Object(l.a)(v,2),y=g[0],b=g[1],E=Object(n.useState)(""),w=Object(l.a)(E,2),x=w[0],O=w[1],j=Object(n.useState)("enabled"),L=Object(l.a)(j,2),S=L[0],N=L[1],T=Object(n.useState)(!1),C=Object(l.a)(T,2),_=C[0],I=C[1],P=Object(n.useState)(!1),M=Object(l.a)(P,2),F=M[0],G=M[1],R=Object(n.useState)(!1),D=Object(l.a)(R,2),W=D[0],q=D[1],z=Object(n.useState)(!1),Y=Object(l.a)(z,2),B=Y[0],H=Y[1],U=Object(n.useState)(!1),V=Object(l.a)(U,2),Q=(V[0],V[1]),Z=Object(n.useState)(""),J=Object(l.a)(Z,2),K=J[0],X=J[1],$=Object(n.useState)(!1),ee=Object(l.a)($,2),te=ee[0],re=ee[1],ne=Object(n.useState)(""),ae=Object(l.a)(ne,2),oe=ae[0],ie=ae[1],ce=Object(n.useState)(!1),le=Object(l.a)(ce,2),ue=le[0],se=le[1],fe=Object(n.useState)(""),he=Object(l.a)(fe,2),de=he[0],pe=he[1],me=Object(n.useState)(!1),ve=Object(l.a)(me,2),ge=ve[0],ye=ve[1],be=Object(n.useState)(""),Ee=Object(l.a)(be,2),we=Ee[0],xe=Ee[1],Oe=Object(n.useState)(!1),je=Object(l.a)(Oe,2),Le=je[0],ke=je[1],Se=Object(n.useState)(""),Ne=Object(l.a)(Se,2),Te=Ne[0],Ce=Ne[1],_e=Object(n.useState)(!1),Ie=Object(l.a)(_e,2),Ae=Ie[0],Pe=Ie[1],Me=Object(n.useState)(""),Fe=Object(l.a)(Me,2),Ge=Fe[0],Re=Fe[1],De=Object(n.useState)(!1),We=Object(l.a)(De,2),qe=We[0],ze=We[1],Ye=ll().update;function Be(e){return He.apply(this,arguments)}function He(){return(He=Object(A.a)(ul().mark((function e(t){return ul().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(t),I(!0),e.next=4,Ye({key:"userRating",value:t});case 4:f.b.success("Opera\xe7\xe3o atualizada com sucesso."),I(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ue(e){return Ve.apply(this,arguments)}function Ve(){return(Ve=Object(A.a)(ul().mark((function e(t){return ul().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(t),G(!0),e.next=4,Ye({key:"scheduleType",value:t});case 4:f.b.success("Opera\xe7\xe3o atualizada com sucesso.",{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,theme:"light"}),G(!1),"function"===typeof r&&r(t);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qe(e){return Ze.apply(this,arguments)}function Ze(){return(Ze=Object(A.a)(ul().mark((function e(t){return ul().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(t),q(!0),e.next=4,Ye({key:"call",value:t});case 4:f.b.success("Opera\xe7\xe3o atualizada com sucesso."),q(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Je(e){return Ke.apply(this,arguments)}function Ke(){return(Ke=Object(A.a)(ul().mark((function e(t){return ul().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(t),H(!0),e.next=4,Ye({key:"chatBotType",value:t});case 4:f.b.success("Opera\xe7\xe3o atualizada com sucesso."),H(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xe(e){return $e.apply(this,arguments)}function $e(){return($e=Object(A.a)(ul().mark((function e(t){return ul().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(t),Q(!0),e.next=4,Ye({key:"CheckMsgIsGroup",value:t});case 4:f.b.success("Opera\xe7\xe3o atualizada com sucesso."),Q(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function et(e){return tt.apply(this,arguments)}function tt(){return(tt=Object(A.a)(ul().mark((function e(t){return ul().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return X(t),re(!0),e.next=4,Ye({key:"ipixc",value:t});case 4:f.b.success("Opera\xe7\xe3o atualizada com sucesso."),re(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rt(e){return nt.apply(this,arguments)}function nt(){return(nt=Object(A.a)(ul().mark((function e(t){return ul().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ie(t),se(!0),e.next=4,Ye({key:"tokenixc",value:t});case 4:f.b.success("Opera\xe7\xe3o atualizada com sucesso."),se(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function at(e){return ot.apply(this,arguments)}function ot(){return(ot=Object(A.a)(ul().mark((function e(t){return ul().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pe(t),ye(!0),e.next=4,Ye({key:"ipmkauth",value:t});case 4:f.b.success("Opera\xe7\xe3o atualizada com sucesso."),ye(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function it(e){return ct.apply(this,arguments)}function ct(){return(ct=Object(A.a)(ul().mark((function e(t){return ul().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xe(t),ke(!0),e.next=4,Ye({key:"clientidmkauth",value:t});case 4:f.b.success("Opera\xe7\xe3o atualizada com sucesso."),ke(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lt(e){return ut.apply(this,arguments)}function ut(){return(ut=Object(A.a)(ul().mark((function e(t){return ul().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ce(t),Pe(!0),e.next=4,Ye({key:"clientsecretmkauth",value:t});case 4:f.b.success("Opera\xe7\xe3o atualizada com sucesso."),Pe(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function st(e){return ft.apply(this,arguments)}function ft(){return(ft=Object(A.a)(ul().mark((function e(t){return ul().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Re(t),ze(!0),e.next=4,Ye({key:"asaas",value:t});case 4:f.b.success("Opera\xe7\xe3o atualizada com sucesso."),ze(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){if(Array.isArray(t)&&t.length){var e=t.find((function(e){return"userRating"===e.key}));e&&s(e.value);var r=t.find((function(e){return"scheduleType"===e.key}));r&&m(r.value);var n=t.find((function(e){return"call"===e.key}));n&&b(n.value);var a=t.find((function(e){return"CheckMsgIsGroup"===e.key}));a&&N(a.value);var o=t.find((function(e){return"chatBotType"===e.key}));o&&O(o.value);var i=t.find((function(e){return"ipixc"===e.key}));i&&X(i.value);var c=t.find((function(e){return"tokenixc"===e.key}));c&&ie(c.value);var l=t.find((function(e){return"ipmkauth"===e.key}));l&&pe(l.value);var u=t.find((function(e){return"clientidmkauth"===e.key}));u&&xe(u.value);var f=t.find((function(e){return"clientsecretmkauth"===e.key}));f&&Ce(f.value);var h=t.find((function(e){return"asaas"===e.key}));h&&Re(h.value)}}),[t]),a.a.createElement(a.a.Fragment,null,a.a.createElement(Or.a,{spacing:3,container:!0},a.a.createElement(Or.a,{xs:12,sm:6,md:4,item:!0},a.a.createElement(Ht.a,{className:o.selectContainer},a.a.createElement(Bt.a,{id:"ratings-label"},"Avalia\xe7\xf5es"),a.a.createElement(Yt.a,{labelId:"ratings-label",value:u,onChange:function(){var e=Object(A.a)(ul().mark((function e(t){return ul().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Be(t.target.value);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},a.a.createElement(k.a,{value:"disabled"},"Desabilitadas"),a.a.createElement(k.a,{value:"enabled"},"Habilitadas")),a.a.createElement(jr.a,null,_&&"Atualizando..."))),a.a.createElement(Or.a,{xs:12,sm:6,md:4,item:!0},a.a.createElement(Ht.a,{className:o.selectContainer},a.a.createElement(Bt.a,{id:"schedule-type-label"},"Gerenciamento de Expediente"),a.a.createElement(Yt.a,{labelId:"schedule-type-label",value:p,onChange:function(){var e=Object(A.a)(ul().mark((function e(t){return ul().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ue(t.target.value);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},a.a.createElement(k.a,{value:"disabled"},"Desabilitado"),a.a.createElement(k.a,{value:"queue"},"Gerenciamento Por Fila"),a.a.createElement(k.a,{value:"company"},"Gerenciamento Por Empresa")),a.a.createElement(jr.a,null,F&&"Atualizando..."))),a.a.createElement(Or.a,{xs:12,sm:6,md:4,item:!0},a.a.createElement(Ht.a,{className:o.selectContainer},a.a.createElement(Bt.a,{id:"group-type-label"},"Ignorar Mensagens de Grupos"),a.a.createElement(Yt.a,{labelId:"group-type-label",value:S,onChange:function(){var e=Object(A.a)(ul().mark((function e(t){return ul().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Xe(t.target.value);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},a.a.createElement(k.a,{value:"disabled"},"Desativado"),a.a.createElement(k.a,{value:"enabled"},"Ativado")),a.a.createElement(jr.a,null,F&&"Atualizando..."))),a.a.createElement(Or.a,{xs:12,sm:6,md:4,item:!0},a.a.createElement(Ht.a,{className:o.selectContainer},a.a.createElement(Bt.a,{id:"call-type-label"},"Aceitar Chamada"),a.a.createElement(Yt.a,{labelId:"call-type-label",value:y,onChange:function(){var e=Object(A.a)(ul().mark((function e(t){return ul().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Qe(t.target.value);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},a.a.createElement(k.a,{value:"disabled"},"N\xe3o Aceitar"),a.a.createElement(k.a,{value:"enabled"},"Aceitar")),a.a.createElement(jr.a,null,W&&"Atualizando..."))),a.a.createElement(Or.a,{xs:12,sm:6,md:4,item:!0},a.a.createElement(Ht.a,{className:o.selectContainer},a.a.createElement(Bt.a,{id:"chatbot-type-label"},"Tipo Chatbot"),a.a.createElement(Yt.a,{labelId:"chatbot-type-label",value:x,onChange:function(){var e=Object(A.a)(ul().mark((function e(t){return ul().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Je(t.target.value);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},a.a.createElement(k.a,{value:"text"},"Texto"),a.a.createElement(k.a,{value:"button"},"Bot\xe3o"),a.a.createElement(k.a,{value:"list"},"Lista")),a.a.createElement(jr.a,null,B&&"Atualizando...")))),a.a.createElement(Or.a,{spacing:3,container:!0},a.a.createElement(Ln.a,{indicatorColor:"primary",textColor:"primary",scrollButtons:"on",variant:"scrollable",className:o.tab,style:{marginBottom:20,marginTop:20}},a.a.createElement(kn.a,{label:"INTEGRA\xc7\xd5ES"}))),a.a.createElement(Or.a,{spacing:3,container:!0,style:{marginBottom:10}},a.a.createElement(Ln.a,{indicatorColor:"primary",textColor:"primary",scrollButtons:"on",variant:"scrollable",className:o.tab},a.a.createElement(kn.a,{label:"IXC"})),a.a.createElement(Or.a,{xs:12,sm:6,md:6,item:!0},a.a.createElement(Ht.a,{className:o.selectContainer},a.a.createElement(Rt.a,{id:"ipixc",name:"ipixc",margin:"dense",label:"IP do IXC",variant:"outlined",value:K,onChange:function(){var e=Object(A.a)(ul().mark((function e(t){return ul().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:et(t.target.value);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),a.a.createElement(jr.a,null,te&&"Atualizando..."))),a.a.createElement(Or.a,{xs:12,sm:6,md:6,item:!0},a.a.createElement(Ht.a,{className:o.selectContainer},a.a.createElement(Rt.a,{id:"tokenixc",name:"tokenixc",margin:"dense",label:"Token do IXC",variant:"outlined",value:oe,onChange:function(){var e=Object(A.a)(ul().mark((function e(t){return ul().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:rt(t.target.value);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),a.a.createElement(jr.a,null,ue&&"Atualizando...")))),a.a.createElement(Or.a,{spacing:3,container:!0,style:{marginBottom:10}},a.a.createElement(Ln.a,{indicatorColor:"primary",textColor:"primary",scrollButtons:"on",variant:"scrollable",className:o.tab},a.a.createElement(kn.a,{label:"MK-AUTH"})),a.a.createElement(Or.a,{xs:12,sm:12,md:4,item:!0},a.a.createElement(Ht.a,{className:o.selectContainer},a.a.createElement(Rt.a,{id:"ipmkauth",name:"ipmkauth",margin:"dense",label:"Ip Mk-Auth",variant:"outlined",value:de,onChange:function(){var e=Object(A.a)(ul().mark((function e(t){return ul().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:at(t.target.value);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),a.a.createElement(jr.a,null,ge&&"Atualizando..."))),a.a.createElement(Or.a,{xs:12,sm:12,md:4,item:!0},a.a.createElement(Ht.a,{className:o.selectContainer},a.a.createElement(Rt.a,{id:"clientidmkauth",name:"clientidmkauth",margin:"dense",label:"Client Id",variant:"outlined",value:we,onChange:function(){var e=Object(A.a)(ul().mark((function e(t){return ul().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:it(t.target.value);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),a.a.createElement(jr.a,null,Le&&"Atualizando..."))),a.a.createElement(Or.a,{xs:12,sm:12,md:4,item:!0},a.a.createElement(Ht.a,{className:o.selectContainer},a.a.createElement(Rt.a,{id:"clientsecretmkauth",name:"clientsecretmkauth",margin:"dense",label:"Client Secret",variant:"outlined",value:Te,onChange:function(){var e=Object(A.a)(ul().mark((function e(t){return ul().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:lt(t.target.value);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),a.a.createElement(jr.a,null,Ae&&"Atualizando...")))),a.a.createElement(Or.a,{spacing:3,container:!0,style:{marginBottom:10}},a.a.createElement(Ln.a,{indicatorColor:"primary",textColor:"primary",scrollButtons:"on",variant:"scrollable",className:o.tab},a.a.createElement(kn.a,{label:"ASAAS"})),a.a.createElement(Or.a,{xs:12,sm:12,md:12,item:!0},a.a.createElement(Ht.a,{className:o.selectContainer},a.a.createElement(Rt.a,{id:"asaas",name:"asaas",margin:"dense",label:"Token Asaas",variant:"outlined",value:Ge,onChange:function(){var e=Object(A.a)(ul().mark((function e(t){return ul().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:st(t.target.value);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),a.a.createElement(jr.a,null,qe&&"Atualizando...")))))}var hl=function(e){var t=e.user,r=e.yes,n=e.no;return t.super?r():n()};hl.defaultProps={user:{},yes:function(){return null},no:function(){return null}};var dl=hl;function pl(){pl=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var f={};function h(){}function d(){}function p(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(m=g);var y=p.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var ml=Object(m.a)((function(e){return{root:{flex:1,backgroundColor:e.palette.background.paper},mainPaper:Object(h.a)(Object(h.a)({},e.scrollbarStyles),{},{overflowY:"scroll",flex:1}),tab:{background:"#f2f5f3",borderRadius:4},paper:Object(h.a)(Object(h.a)({},e.scrollbarStyles),{},{overflowY:"scroll",padding:e.spacing(2),display:"flex",alignItems:"center",width:"100%"}),container:{width:"100%",maxHeight:"100%"},control:{padding:e.spacing(1)},textfield:{width:"100%"}}})),vl=function(){var e=ml(),t=Object(n.useState)("options"),r=Object(l.a)(t,2),o=r[0],i=r[1],c=Object(n.useState)([]),u=Object(l.a)(c,2),s=u[0],h=u[1],d=Object(n.useState)({}),p=Object(l.a)(d,2),m=p[0],v=p[1],g=Object(n.useState)(!1),y=Object(l.a)(g,2),b=y[0],E=y[1],w=Object(n.useState)({}),x=Object(l.a)(w,2),O=x[0],j=x[1],L=Object(n.useState)({}),k=Object(l.a)(L,2),S=k[0],N=k[1],T=Object(n.useState)(!1),C=Object(l.a)(T,2),_=C[0],I=C[1],P=Ze().getCurrentUserInfo,M=gn(),F=M.find,G=M.updateSchedules,R=ll().getAll;Object(n.useEffect)((function(){function e(){return(e=Object(A.a)(pl().mark((function e(){var t,r,n,a,o;return pl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(!0),e.prev=1,t=localStorage.getItem("companyId"),e.next=5,F(t);case 5:return r=e.sent,e.next=8,R();case 8:return n=e.sent,v(r),h(r.schedules),N(n),Array.isArray(n)&&(a=n.find((function(e){return"scheduleType"===e.key})))&&I("company"===a.value),e.next=15,P();case 15:o=e.sent,j(o),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(1),f.b.error(e.t0);case 22:E(!1);case 23:case"end":return e.stop()}}),e,null,[[1,19]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var D=function(){var e=Object(A.a)(pl().mark((function e(t){return pl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(!0),e.prev=1,h(t),e.next=5,G({id:m.id,schedules:t});case 5:f.b.success("Hor\xe1rios atualizados com sucesso."),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),f.b.error(e.t0);case 11:E(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),W=function(){return O.super};return a.a.createElement(cc,{className:e.root},a.a.createElement(uc,null,a.a.createElement(hc,null,Ne.a.t("settings.title"))),a.a.createElement(ar.a,{className:e.mainPaper,elevation:1},a.a.createElement(Ln.a,{value:o,indicatorColor:"primary",textColor:"primary",scrollButtons:"on",variant:"scrollable",onChange:function(e,t){function r(){return(r=Object(A.a)(pl().mark((function e(){var t,r,n,a,o;return pl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(!0),e.prev=1,t=localStorage.getItem("companyId"),e.next=5,F(t);case 5:return r=e.sent,e.next=8,R();case 8:return n=e.sent,v(r),h(r.schedules),N(n),Array.isArray(n)&&(a=n.find((function(e){return"scheduleType"===e.key})))&&I("company"===a.value),e.next=15,P();case 15:o=e.sent,j(o),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(1),f.b.error(e.t0);case 22:E(!1);case 23:case"end":return e.stop()}}),e,null,[[1,19]])})))).apply(this,arguments)}!function(){r.apply(this,arguments)}(),i(t)},className:e.tab},a.a.createElement(kn.a,{label:"Op\xe7\xf5es",value:"options"}),_&&a.a.createElement(kn.a,{label:"Hor\xe1rios",value:"schedules"}),W()?a.a.createElement(kn.a,{label:"Empresas",value:"companies"}):null,W()?a.a.createElement(kn.a,{label:"Planos",value:"plans"}):null,W()?a.a.createElement(kn.a,{label:"Ajuda",value:"helps"}):null),a.a.createElement(ar.a,{className:e.paper,elevation:0},a.a.createElement(za,{className:e.container,value:o,name:"schedules"},a.a.createElement(Tc,{loading:b,onSubmit:D,initialValues:s})),a.a.createElement(dl,{user:O,yes:function(){return a.a.createElement(za,{className:e.container,value:o,name:"companies"},a.a.createElement(qc,null))}}),a.a.createElement(dl,{user:O,yes:function(){return a.a.createElement(za,{className:e.container,value:o,name:"plans"},a.a.createElement($c,null))}}),a.a.createElement(dl,{user:O,yes:function(){return a.a.createElement(za,{className:e.container,value:o,name:"helps"},a.a.createElement(il,null))}}),a.a.createElement(za,{className:e.container,value:o,name:"options"},a.a.createElement(fl,{settings:S,scheduleTypeChanged:function(e){return I("company"===e)}})))))},gl=r(1191),yl=r(1171),bl=r(1183),El=["errorText"];function wl(e){e.errorText;var t=Object(pt.a)(e,El),r=Object(Gt.f)(e),n=Object(l.a)(r,2),o=n[0],i=n[1];return a.a.createElement(Rt.a,Object.assign({type:"text",error:i.touched&&i.error&&!0,helperText:function(){var e=Object(_e.at)(i,"touched","error"),t=Object(l.a)(e,2),r=t[0],n=t[1];if(r&&n)return n}()},o,t))}var xl=["label","data"];function Ol(e){var t=e.label,r=e.data,n=Object(pt.a)(e,xl),o=Object(Gt.f)(e),i=Object(l.a)(o,2),c=i[0],u=i[1],s=c.value,f=Object(_e.at)(u,"touched","error"),h=Object(l.a)(f,2),d=h[0],p=h[1],m=d&&p&&!0;return a.a.createElement(Ht.a,Object.assign({},n,{error:m}),a.a.createElement(Bt.a,null,t),a.a.createElement(Yt.a,Object.assign({},c,{value:s||""}),r.map((function(e,t){return a.a.createElement(k.a,{key:t,value:e.value},e.label)}))),function(){if(m)return a.a.createElement(jr.a,null,p)}())}Ol.defaultProps={data:[]};var jl=Ol;r(87),r(1177),r(666);var Ll=[{value:"BR",label:"Brasil"},{value:"usa",label:"United States"}];function kl(e){var t=Object(n.useContext)(Je).user,r=Object(n.useState)(t.company.billingName),o=Object(l.a)(r,2),i=o[0],c=o[1],u=Object(n.useState)(t.company.addressZipCode),s=Object(l.a)(u,2),f=s[0],h=s[1],d=Object(n.useState)(t.company.addressStreet),p=Object(l.a)(d,2),m=p[0],v=p[1],g=Object(n.useState)(t.company.addressState),y=Object(l.a)(g,2),b=y[0],E=y[1],w=Object(n.useState)(t.company.addressCity),x=Object(l.a)(w,2),O=x[0],L=x[1],k=Object(n.useState)(t.company.addressDistrict),S=Object(l.a)(k,2),N=S[0],T=S[1],C=e.formField,_=C.firstName,I=C.address1,A=C.city,P=C.state,M=C.zipcode,F=C.country,G=e.setFieldValue;return Object(n.useEffect)((function(){G("firstName",i),G("zipcode",f),G("address2",m),G("state",b),G("city",O),G("country",N)}),[]),a.a.createElement(a.a.Fragment,null,a.a.createElement(j.a,{variant:"h6",gutterBottom:!0},"Vamos precisar de algumas informa\xe7\xf5es"),a.a.createElement(Or.a,{container:!0,spacing:3},a.a.createElement(Or.a,{item:!0,xs:6,sm:6},a.a.createElement(wl,{name:_.name,label:_.label,fullWidth:!0,value:i,onChange:function(e){c(e.target.value),G("firstName",e.target.value)}})),a.a.createElement(Or.a,{item:!0,xs:6,sm:6},a.a.createElement(jl,{name:F.name,label:F.label,data:Ll,fullWidth:!0,value:N,onChange:function(e){T(e.target.value),G("country",e.target.value)}})),a.a.createElement(Or.a,{item:!0,xs:4},a.a.createElement(wl,{name:M.name,label:M.label,fullWidth:!0,value:f,onChange:function(e){h(e.target.value),G("zipcode",e.target.value)}})),a.a.createElement(Or.a,{item:!0,xs:8},a.a.createElement(wl,{name:I.name,label:I.label,fullWidth:!0,value:m,onChange:function(e){v(e.target.value),G("address2",e.target.value)}})),a.a.createElement(Or.a,{item:!0,xs:4},a.a.createElement(wl,{name:P.name,label:P.label,fullWidth:!0,value:b,onChange:function(e){E(e.target.value),G("state",e.target.value)}})),a.a.createElement(Or.a,{item:!0,xs:8},a.a.createElement(wl,{name:A.name,label:A.label,fullWidth:!0,value:O,onChange:function(e){L(e.target.value),G("city",e.target.value)}}))))}var Sl=r(1170),Nl=r(1169),Tl=r(649),Cl=r.n(Tl);function _l(){_l=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var f={};function h(){}function d(){}function p(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(m=g);var y=p.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Il=Object(m.a)((function(e){return{"@global":{ul:{margin:0,padding:0,listStyle:"none"}},margin:{margin:e.spacing(1)},cardHeader:{backgroundColor:"light"===e.palette.type?e.palette.grey[200]:e.palette.grey[700]},cardPricing:{display:"flex",justifyContent:"center",alignItems:"baseline",marginBottom:e.spacing(2)},footer:Object(d.a)({borderTop:"1px solid ".concat(e.palette.divider),marginTop:e.spacing(8),paddingTop:e.spacing(3),paddingBottom:e.spacing(3)},e.breakpoints.up("sm"),{paddingTop:e.spacing(6),paddingBottom:e.spacing(6)}),customCard:{display:"flex",marginTop:"16px",alignItems:"center",flexDirection:"column"},custom:{display:"flex",alignItems:"center",justifyContent:"space-between"}}}));function Al(e){var t=e.setFieldValue,r=e.setActiveStep,o=e.activeStep,i=Di(),c=(i.list,i.finder),u=gn().find,s=Il(),f=a.a.useState(3),h=Object(l.a)(f,2),d=h[0],p=(h[1],Object(n.useState)(0)),m=Object(l.a)(p,2),v=(m[0],m[1]),g=a.a.useState(3),y=Object(l.a)(g,2),b=y[0],E=(y[1],a.a.useState([])),w=Object(l.a)(E,2),x=w[0],O=w[1],L=a.a.useState(49),k=Object(l.a)(L,2),S=k[0],N=(k[1],a.a.useState(!1)),T=Object(l.a)(N,2),C=(T[0],T[1]),_=localStorage.getItem("companyId");Object(n.useEffect)((function(){function e(){return(e=Object(A.a)(_l().mark((function e(){return _l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var I=function(){var e=Object(A.a)(_l().mark((function e(){var t;return _l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),e.prev=1,e.next=4,u(_);case 4:return t=e.sent,v(t.planId),e.next=8,P(t.planId);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:C(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(A.a)(_l().mark((function e(t){var r,n;return _l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),e.prev=1,e.next=4,c(t);case 4:r=e.sent,(n=[]).push({title:r.name,planId:r.id,price:r.value,description:["".concat(r.users," Usu\xe1rios"),"".concat(r.connections," Conex\xe3o"),"".concat(r.queues," Filas")],users:r.users,connections:r.connections,queues:r.queues,buttonText:"SELECIONAR",buttonVariant:"outlined"}),O(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:C(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),M=x;return a.a.createElement(a.a.Fragment,null,a.a.createElement(Or.a,{container:!0,spacing:3},M.map((function(e){return a.a.createElement(Or.a,{item:!0,key:e.title,xs:12,sm:(e.title,12),md:12},a.a.createElement(Vr.a,null,a.a.createElement(Qr.a,{title:e.title,subheader:e.subheader,titleTypographyProps:{align:"center"},subheaderTypographyProps:{align:"center"},action:"Pro"===e.title?a.a.createElement(Cl.a,null):null,className:s.cardHeader}),a.a.createElement(Nl.a,null,a.a.createElement("div",{className:s.cardPricing},a.a.createElement(j.a,{component:"h2",variant:"h3",color:"textPrimary"},a.a.createElement(a.a.Fragment,null,"R$",e.price.toLocaleString("pt-br",{minimumFractionDigits:2}))),a.a.createElement(j.a,{variant:"h6",color:"textSecondary"},"/m\xeas")),a.a.createElement("ul",null,e.description.map((function(e){return a.a.createElement(j.a,{component:"li",variant:"subtitle1",align:"center",key:e},e)})))),a.a.createElement(Sl.a,null,a.a.createElement(mt.a,{fullWidth:!0,variant:e.buttonVariant,color:"primary",onClick:function(){e.custom?t("plan",JSON.stringify({users:d,connections:b,price:S})):t("plan",JSON.stringify(e)),r(o+1)}},e.buttonText))))}))))}var Pl=Object(m.a)((function(e){return{listItem:{padding:e.spacing(1,0)},total:{fontWeight:"700"},title:{marginTop:e.spacing(2)}}}));var Ml=function(e){var t=e.formValues,r=Pl(),n=t.plan,o=JSON.parse(n),i=o.users,c=o.connections,l=o.price;return a.a.createElement(Or.a,{item:!0,xs:12,sm:12},a.a.createElement(j.a,{variant:"h6",gutterBottom:!0,className:r.title},"Detalhes do plano"),a.a.createElement(j.a,{gutterBottom:!0},"Usu\xe1rios: ",i),a.a.createElement(j.a,{gutterBottom:!0},"Whatsapps: ",c),a.a.createElement(j.a,{gutterBottom:!0},"Cobran\xe7a: Mensal"),a.a.createElement(j.a,{gutterBottom:!0},"Total: R$",l.toLocaleString("pt-br",{minimumFractionDigits:2})))};var Fl,Gl,Rl,Dl,Wl=function(){var e=Object(Gt.g)().values;return a.a.createElement(a.a.Fragment,null,a.a.createElement(j.a,{variant:"h6",gutterBottom:!0},"Resumo da assinatura"),a.a.createElement(Or.a,{container:!0,spacing:2},a.a.createElement(Ml,{formValues:e})))},ql=r(650),zl=r.n(ql),Yl=r(274),Bl=r(275),Hl=(Bl.a.div(Fl||(Fl=Object(Yl.a)(["\n  footer {\n    margin-top: 30px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    width: 100%;\n\n    @media (max-width: 768px) {\n      flex-direction: column;\n      .checkout-buttons {\n        display: flex;\n        flex-direction: column-reverse;\n        width: 100%;\n\n        button {\n          width: 100%;\n          margin-top: 16px;\n          margin-left: 0;\n        }\n      }\n    }\n\n    button {\n      margin-left: 16px;\n    }\n  }\n"]))),Bl.a.div(Gl||(Gl=Object(Yl.a)(["\n  display: flex;\n  align-items: baseline;\n\n  span {\n    color: #333;\n    font-weight: bold;\n  }\n\n  strong {\n    color: #333;\n    font-size: 28px;\n    margin-left: 5px;\n  }\n\n  @media (max-width: 768px) {\n    min-width: 100%;\n    justify-content: space-between;\n  }\n"])))),Ul=Bl.a.div(Rl||(Rl=Object(Yl.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n\n  > h2 {\n    text-align: center;\n  }\n\n  > svg {\n    margin-top: 16px;\n  }\n\n  > span {\n    margin-top: 24px;\n    text-align: center;\n  }\n\n  > p,\n  strong {\n    margin-top: 8px;\n    font-size: 9px;\n    color: #999;\n  }\n\n  .copy-button {\n    font-size: 14px;\n    cursor: pointer;\n    text-align: center;\n    user-select: none;\n    min-height: 56px;\n    display: inline-flex;\n    -webkit-box-pack: center;\n    justify-content: center;\n    -webkit-box-align: center;\n    align-items: center;\n    background-color: #f9f9f9;\n    color: #000;\n    -webkit-appearance: none !important;\n    outline: none;\n    margin-top: 16px;\n    width: 256px;\n    font-weight: 600;\n    text-transform: uppercase;\n    border: none;\n\n    > span {\n      margin-right: 8px;\n    }\n  }\n"]))),Vl=(Bl.a.div(Dl||(Dl=Object(Yl.a)(["\n  width: 100%;\n  margin: 0 auto 0;\n  max-width: 1110px;\n  display: flex;\n  flex-direction: column;\n  -webkit-box-align: center;\n  align-items: center;\n  padding: 50px 95px;\n  background: #fff;\n  @media (max-width: 768px) {\n    padding: 16px 24px;\n"]))),r(654)),Ql=r(438);var Zl,Jl,Kl=function(e){var t=e.pix,r=Object(n.useState)(t.qrcode.qrcode),o=Object(l.a)(r,1)[0],i=Object(n.useState)(!1),c=Object(l.a)(i,2),u=c[0],h=c[1],d=Object(s.g)(),p=hr().dateToClient;return Object(n.useEffect)((function(){var e=localStorage.getItem("companyId");We({companyId:e}).on("company-".concat(e,"-payment"),(function(e){"CONCLUIDA"===e.action&&(f.b.success("Sua licen\xe7a foi renovada at\xe9 ".concat(p(e.company.dueDate),"!")),setTimeout((function(){d.push("/")}),4e3))}))}),[d,p]),a.a.createElement(a.a.Fragment,null,a.a.createElement(Hl,null,a.a.createElement("span",null,"TOTAL"),a.a.createElement("strong",null,"R$",t.valor.original.toLocaleString("pt-br",{minimumFractionDigits:2}))),a.a.createElement(Ul,null,a.a.createElement(zl.a,{value:o}),a.a.createElement(Vl.CopyToClipboard,{text:o,onCopy:function(){setTimeout((function(){h(!1)}),1e3),h(!0)}},a.a.createElement("button",{className:"copy-button",type:"button"},u?a.a.createElement(a.a.Fragment,null,a.a.createElement("span",null,"Copiado"),a.a.createElement(Ql.a,{size:18})):a.a.createElement(a.a.Fragment,null,a.a.createElement("span",null,"Copiar c\xf3digo QR"),a.a.createElement(Ql.b,{size:18})))),a.a.createElement("span",null,"Para finalizar, basta realizar o pagamento escaneando ou colando o c\xf3digo Pix acima :)")))},Xl="checkoutForm",$l={firstName:{name:"firstName",label:"Nome completo*",requiredErrorMsg:"O nome completo \xe9 obrigat\xf3rio"},lastName:{name:"lastName",label:"Last name*",requiredErrorMsg:"Last name is required"},address1:{name:"address2",label:"Endere\xe7o*",requiredErrorMsg:"O Endere\xe7o \xe9 obrigat\xf3rio"},city:{name:"city",label:"Cidade*",requiredErrorMsg:"Cidade \xe9 obrigat\xf3ria"},state:{name:"state",label:"Estado*",requiredErrorMsg:"Cidade \xe9 obrigat\xf3ria"},zipcode:{name:"zipcode",label:"CEP*",requiredErrorMsg:"CEP \xe9 obrigat\xf3rio",invalidErrorMsg:"Formato de CEP inv\xe1lido"},country:{name:"country",label:"Pa\xeds*",requiredErrorMsg:"Pa\xeds \xe9 obrigat\xf3rio"},useAddressForPaymentDetails:{name:"useAddressForPaymentDetails",label:"Use this address for payment details"},invoiceId:{name:"invoiceId",label:"Use this invoiceId"},nameOnCard:{name:"nameOnCard",label:"Name on card*",requiredErrorMsg:"Name on card is required"},cardNumber:{name:"cardNumber",label:"Card number*",requiredErrorMsg:"Card number is required",invalidErrorMsg:"Card number is not valid (e.g. 4111111111111)"},expiryDate:{name:"expiryDate",label:"Expiry date*",requiredErrorMsg:"Expiry date is required",invalidErrorMsg:"Expiry date is not valid"},cvv:{name:"cvv",label:"CVV*",requiredErrorMsg:"CVV is required",invalidErrorMsg:"CVV is invalid (e.g. 357)"}},eu=$l,tu=eu.firstName,ru=eu.address1,nu=eu.city,au=eu.zipcode,ou=eu.country,iu=[Ft.b().shape((Zl={},Object(d.a)(Zl,tu.name,Ft.c().required("".concat(tu.requiredErrorMsg))),Object(d.a)(Zl,ru.name,Ft.c().required("".concat(ru.requiredErrorMsg))),Object(d.a)(Zl,nu.name,Ft.c().nullable().required("".concat(nu.requiredErrorMsg))),Object(d.a)(Zl,au.name,Ft.c().required("".concat(au.requiredErrorMsg))),Object(d.a)(Zl,ou.name,Ft.c().nullable().required("".concat(ou.requiredErrorMsg))),Zl))],cu=$l,lu=cu.firstName,uu=cu.lastName,su=cu.address1,fu=cu.city,hu=cu.state,du=cu.zipcode,pu=cu.country,mu=cu.useAddressForPaymentDetails,vu=cu.nameOnCard,gu=cu.cardNumber,yu=cu.invoiceId,bu=cu.cvv,Eu=(Jl={},Object(d.a)(Jl,lu.name,""),Object(d.a)(Jl,uu.name,""),Object(d.a)(Jl,su.name,""),Object(d.a)(Jl,fu.name,""),Object(d.a)(Jl,hu.name,""),Object(d.a)(Jl,du.name,""),Object(d.a)(Jl,pu.name,""),Object(d.a)(Jl,mu.name,!1),Object(d.a)(Jl,vu.name,""),Object(d.a)(Jl,gu.name,""),Object(d.a)(Jl,yu.name,""),Object(d.a)(Jl,bu.name,""),Jl),wu=Object(m.a)((function(e){return{stepper:{padding:e.spacing(3,0,5)},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)},wrapper:{margin:e.spacing(1),position:"relative"},buttonProgress:{position:"absolute",top:"50%",left:"50%"}}}));function xu(){xu=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var f={};function h(){}function d(){}function p(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(m=g);var y=p.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Ou=function(e){var t=["Dados","Personalizar","Revisar"],r=Xl,o=$l,i=wu(),c=Object(n.useState)(1),u=Object(l.a)(c,2),s=u[0],d=u[1],p=Object(n.useState)(null),m=Object(l.a)(p,2),v=m[0],g=m[1],y=Object(n.useState)(e.Invoice.id),b=Object(l.a)(y,2),E=b[0],w=(b[1],iu[s]),x=s===t.length-1,O=Object(n.useContext)(Je).user;function L(){return(L=Object(A.a)(xu().mark((function e(t,r){var n,a,o,i;return xu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=JSON.parse(t.plan),a={firstName:t.firstName,lastName:t.lastName,address2:t.address2,city:t.city,state:t.state,zipcode:t.zipcode,country:t.country,useAddressForPaymentDetails:t.useAddressForPaymentDetails,nameOnCard:t.nameOnCard,cardNumber:t.cardNumber,cvv:t.cvv,plan:t.plan,price:n.price,users:n.users,connections:n.connections,invoiceId:E},e.next=5,Ge.post("/subscription",a);case 5:o=e.sent,i=o.data,g(i),r.setSubmitting(!0),d(s+1),f.b.success("Assinatura realizada com sucesso!, aguardando a realiza\xe7\xe3o do pagamento"),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),r.setSubmitting(!1),Ie(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}function k(){d(s-1)}return a.a.createElement(a.a.Fragment,null,a.a.createElement(j.a,{component:"h1",variant:"h4",align:"center"},"Falta pouco!"),a.a.createElement(gl.a,{activeStep:s,className:i.stepper},t.map((function(e){return a.a.createElement(yl.a,{key:e},a.a.createElement(bl.a,null,e))}))),a.a.createElement(a.a.Fragment,null,s===t.length?a.a.createElement(Kl,{pix:v}):a.a.createElement(Gt.e,{initialValues:Object(h.a)(Object(h.a)({},O),Eu),validationSchema:w,onSubmit:function(e,t){x?function(e,t){L.apply(this,arguments)}(e,t):(d(s+1),t.setTouched({}),t.setSubmitting(!1))}},(function(e){var t=e.isSubmitting,n=e.setFieldValue,c=e.values;return a.a.createElement(Gt.d,{id:r},function(e,t,r,n){switch(e){case 0:return a.a.createElement(kl,{formField:o,values:n,setFieldValue:t});case 1:return a.a.createElement(Al,{formField:o,setFieldValue:t,setActiveStep:r,activeStep:e,invoiceId:E,values:n});case 2:return a.a.createElement(Wl,null);default:return a.a.createElement("div",null,"Not Found")}}(s,n,d,c),a.a.createElement("div",{className:i.buttons},1!==s&&a.a.createElement(mt.a,{onClick:k,className:i.button},"VOLTAR"),a.a.createElement("div",{className:i.wrapper},1!==s&&a.a.createElement(mt.a,{disabled:t,type:"submit",variant:"contained",color:"primary",className:i.button},x?"PAGAR":"PR\xd3XIMO"),t&&a.a.createElement(vt.a,{size:24,className:i.buttonProgress}))))}))))},ju=Object(m.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:ft.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}})),Lu=function(e){var t=e.open,r=e.onClose,o=e.Invoice,i=(e.contactId,e.initialValues,e.onSave,ju()),c=Object(n.useRef)(!0);Object(n.useEffect)((function(){return function(){c.current=!1}}),[]);return a.a.createElement("div",{className:i.root},a.a.createElement(Dt.a,{open:t,onClose:function(){r()},maxWidth:"md",scroll:"paper"},a.a.createElement(qt.a,{dividers:!0},a.a.createElement(Ou,{Invoice:o}))))};function ku(){ku=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var f={};function h(){}function d(){}function p(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(m=g);var y=p.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Su=function(e,t){if("LOAD_INVOICES"===t.type){var r=t.payload,n=[];return r.forEach((function(t){var r=e.findIndex((function(e){return e.id===t.id}));-1!==r?e[r]=t:n.push(t)})),[].concat(Object(M.a)(e),n)}if("UPDATE_USERS"===t.type){var a=t.payload,o=e.findIndex((function(e){return e.id===a.id}));return-1!==o?(e[o]=a,Object(M.a)(e)):[a].concat(Object(M.a)(e))}if("DELETE_USER"===t.type){var i=t.payload,c=e.findIndex((function(e){return e.id===i}));return-1!==c&&e.splice(c,1),Object(M.a)(e)}if("RESET"===t.type)return[]},Nu=Object(m.a)((function(e){return{mainPaper:Object(h.a)({flex:1,padding:e.spacing(1),overflowY:"scroll"},e.scrollbarStyles)}})),Tu=function(){var e=Nu(),t=Object(n.useState)(!1),r=Object(l.a)(t,2),o=r[0],i=r[1],c=Object(n.useState)(1),u=Object(l.a)(c,2),s=u[0],f=u[1],h=Object(n.useState)(!1),d=Object(l.a)(h,2),p=d[0],m=d[1],v=Object(n.useState)(""),g=Object(l.a)(v,2),y=g[0],b=(g[1],Object(n.useReducer)(Su,[])),E=Object(l.a)(b,2),w=E[0],x=E[1],O=a.a.useState([]),j=Object(l.a)(O,2),L=j[0],k=j[1],S=Object(n.useState)(null),N=Object(l.a)(S,2),T=N[0],C=N[1],_=Object(n.useState)(!1),I=Object(l.a)(_,2),P=I[0],M=I[1];Object(n.useEffect)((function(){x({type:"RESET"}),f(1)}),[y]),Object(n.useEffect)((function(){i(!0);var e=setTimeout((function(){(function(){var e=Object(A.a)(ku().mark((function e(){var t,r;return ku().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ge.get("/invoices/all",{params:{searchParam:y,pageNumber:s}});case 3:t=e.sent,r=t.data,x({type:"LOAD_INVOICES",payload:r}),m(r.hasMore),i(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),Ie(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),500);return function(){return clearTimeout(e)}}),[y,s]);var F=function(e){var t=Ve()(Ve()()).format("DD/MM/yyyy"),r=Ve()(e.dueDate).format("DD/MM/yyyy"),n=Ve()(r,"DD/MM/yyyy").diff(Ve()(t,"DD/MM/yyyy"));if(Ve.a.duration(n).asDays()<0&&"paid"!==e.status)return{backgroundColor:"#ffbcbc9c"}},G=function(e){var t=Ve()(Ve()()).format("DD/MM/yyyy"),r=Ve()(e.dueDate).format("DD/MM/yyyy"),n=Ve()(r,"DD/MM/yyyy").diff(Ve()(t,"DD/MM/yyyy")),a=Ve.a.duration(n).asDays();return"paid"===e.status?"Pago":a<0?"Vencido":"Em Aberto"};return a.a.createElement(cc,null,a.a.createElement(Lu,{open:P,onClose:function(){C(null),M(!1)},"aria-labelledby":"form-dialog-title",Invoice:L,contactId:T}),a.a.createElement(uc,null,a.a.createElement(hc,null,"Faturas")),a.a.createElement(ar.a,{className:e.mainPaper,variant:"outlined",onScroll:function(e){if(p&&!o){var t=e.currentTarget,r=t.scrollTop;t.scrollHeight-(r+100)<t.clientHeight&&f((function(e){return e+1}))}}},a.a.createElement(Xr.a,{size:"small"},a.a.createElement(rn.a,null,a.a.createElement(nn.a,null,a.a.createElement(en.a,{align:"center"},"Id"),a.a.createElement(en.a,{align:"center"},"Detalhes"),a.a.createElement(en.a,{align:"center"},"Valor"),a.a.createElement(en.a,{align:"center"},"Data Venc."),a.a.createElement(en.a,{align:"center"},"Status"),a.a.createElement(en.a,{align:"center"},"A\xe7\xe3o"))),a.a.createElement($r.a,null,a.a.createElement(a.a.Fragment,null,w.map((function(e){return a.a.createElement(nn.a,{style:F(e),key:e.id},a.a.createElement(en.a,{align:"center"},e.id),a.a.createElement(en.a,{align:"center"},e.detail),a.a.createElement(en.a,{style:{fontWeight:"bold"},align:"center"},e.value.toLocaleString("pt-br",{style:"currency",currency:"BRL"})),a.a.createElement(en.a,{align:"center"},Ve()(e.dueDate).format("DD/MM/YYYY")),a.a.createElement(en.a,{style:{fontWeight:"bold"},align:"center"},G(e)),a.a.createElement(en.a,{align:"center"},"Pago"!==G(e)?a.a.createElement(mt.a,{size:"small",variant:"outlined",color:"secondary",onClick:function(){return function(e){k(e),C(null),M(!0)}(e)}},"PAGAR"):a.a.createElement(mt.a,{size:"small",variant:"outlined"},"PAGO")))})),o&&a.a.createElement(pc,{columns:4}))))))},Cu=r(73),_u=r.n(Cu);function Iu(){Iu=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var f={};function h(){}function d(){}function p(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(m=g);var y=p.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Au=function(e,t){if("LOAD_USERS"===t.type){var r=t.payload,n=[];return r.forEach((function(t){var r=e.findIndex((function(e){return e.id===t.id}));-1!==r?e[r]=t:n.push(t)})),[].concat(Object(M.a)(e),n)}if("UPDATE_USERS"===t.type){var a=t.payload,o=e.findIndex((function(e){return e.id===a.id}));return-1!==o?(e[o]=a,Object(M.a)(e)):[a].concat(Object(M.a)(e))}if("DELETE_USER"===t.type){var i=t.payload,c=e.findIndex((function(e){return e.id===i}));return-1!==c&&e.splice(c,1),Object(M.a)(e)}if("RESET"===t.type)return[]},Pu=Object(m.a)((function(e){return{mainPaper:Object(h.a)({flex:1,padding:e.spacing(1),overflowY:"scroll"},e.scrollbarStyles)}})),Mu=function(){var e=Pu(),t=Object(n.useState)(!1),r=Object(l.a)(t,2),o=r[0],i=r[1],c=Object(n.useState)(1),u=Object(l.a)(c,2),s=u[0],h=u[1],d=Object(n.useState)(!1),p=Object(l.a)(d,2),m=p[0],v=p[1],g=Object(n.useState)(null),y=Object(l.a)(g,2),E=y[0],w=y[1],x=Object(n.useState)(null),O=Object(l.a)(x,2),j=O[0],L=O[1],k=Object(n.useState)(!1),S=Object(l.a)(k,2),N=S[0],T=S[1],C=Object(n.useState)(!1),_=Object(l.a)(C,2),I=_[0],P=_[1],M=Object(n.useState)(""),F=Object(l.a)(M,2),G=F[0],R=F[1],D=Object(n.useReducer)(Au,[]),W=Object(l.a)(D,2),q=W[0],z=W[1];Object(n.useEffect)((function(){z({type:"RESET"}),h(1)}),[G]),Object(n.useEffect)((function(){i(!0);var e=setTimeout((function(){(function(){var e=Object(A.a)(Iu().mark((function e(){var t,r;return Iu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ge.get("/users/",{params:{searchParam:G,pageNumber:s}});case 3:t=e.sent,r=t.data,z({type:"LOAD_USERS",payload:r.users}),v(r.hasMore),i(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),Ie(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),500);return function(){return clearTimeout(e)}}),[G,s]),Object(n.useEffect)((function(){var e=localStorage.getItem("companyId"),t=We({companyId:e});return t.on("company-".concat(e,"-user"),(function(e){"update"!==e.action&&"create"!==e.action||z({type:"UPDATE_USERS",payload:e.user}),"delete"===e.action&&z({type:"DELETE_USER",payload:+e.userId})})),function(){t.disconnect()}}),[]);var Y=function(){var e=Object(A.a)(Iu().mark((function e(t){return Iu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ge.delete("/users/".concat(t));case 3:f.b.success(Ne.a.t("users.toasts.deleted")),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),Ie(e.t0);case 9:L(null),R(""),h(1);case 12:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(cc,null,a.a.createElement(ua,{title:j&&"".concat(Ne.a.t("users.confirmationModal.deleteTitle")," ").concat(j.name,"?"),open:I,onClose:P,onConfirm:function(){return Y(j.id)}},Ne.a.t("users.confirmationModal.deleteMessage")),a.a.createElement($t,{open:N,onClose:function(){w(null),T(!1)},"aria-labelledby":"form-dialog-title",userId:E&&E.id}),a.a.createElement(uc,null,a.a.createElement(hc,null,Ne.a.t("users.title")),a.a.createElement(fc,null,a.a.createElement(Rt.a,{placeholder:Ne.a.t("contacts.searchPlaceholder"),type:"search",value:G,onChange:function(e){R(e.target.value.toLowerCase())},InputProps:{startAdornment:a.a.createElement(Vi.a,{position:"start"},a.a.createElement(On.a,{style:{color:"gray"}}))}}),a.a.createElement(mt.a,{variant:"contained",color:"primary",onClick:function(){w(null),T(!0)}},Ne.a.t("users.buttons.add")))),a.a.createElement(ar.a,{className:e.mainPaper,variant:"outlined",onScroll:function(e){if(m&&!o){var t=e.currentTarget,r=t.scrollTop;t.scrollHeight-(r+100)<t.clientHeight&&h((function(e){return e+1}))}}},a.a.createElement(Xr.a,{size:"small"},a.a.createElement(rn.a,null,a.a.createElement(nn.a,null,a.a.createElement(en.a,{align:"center"},Ne.a.t("users.table.name")),a.a.createElement(en.a,{align:"center"},Ne.a.t("users.table.email")),a.a.createElement(en.a,{align:"center"},Ne.a.t("users.table.profile")),a.a.createElement(en.a,{align:"center"},Ne.a.t("users.table.actions")))),a.a.createElement($r.a,null,a.a.createElement(a.a.Fragment,null,q.map((function(e){return a.a.createElement(nn.a,{key:e.id},a.a.createElement(en.a,{align:"center"},e.name),a.a.createElement(en.a,{align:"center"},e.email),a.a.createElement(en.a,{align:"center"},e.profile),a.a.createElement(en.a,{align:"center"},a.a.createElement(b.a,{size:"small",onClick:function(){return function(e){w(e),T(!0)}(e)}},a.a.createElement(_u.a,null)),a.a.createElement(b.a,{size:"small",onClick:function(t){P(!0),L(e)}},a.a.createElement(Fn.a,null))))})),o&&a.a.createElement(pc,{columns:4}))))))};function Fu(){Fu=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var f={};function h(){}function d(){}function p(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(m=g);var y=p.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Gu=function(e,t){if("LOAD_CONTACTS"===t.type){var r=t.payload,n=[];return r.forEach((function(t){var r=e.findIndex((function(e){return e.id===t.id}));-1!==r?e[r]=t:n.push(t)})),[].concat(Object(M.a)(e),n)}if("UPDATE_CONTACTS"===t.type){var a=t.payload,o=e.findIndex((function(e){return e.id===a.id}));return-1!==o?(e[o]=a,Object(M.a)(e)):[a].concat(Object(M.a)(e))}if("DELETE_CONTACT"===t.type){var i=t.payload,c=e.findIndex((function(e){return e.id===i}));return-1!==c&&e.splice(c,1),Object(M.a)(e)}if("RESET"===t.type)return[]},Ru=Object(m.a)((function(e){return{mainPaper:Object(h.a)({flex:1,padding:e.spacing(1),overflowY:"scroll"},e.scrollbarStyles)}})),Du=function(){var e=Ru(),t=Object(s.g)(),r=Object(n.useContext)(Je).user,o=Object(n.useState)(!1),i=Object(l.a)(o,2),c=i[0],u=i[1],h=Object(n.useState)(1),d=Object(l.a)(h,2),p=d[0],m=d[1],v=Object(n.useState)(""),g=Object(l.a)(v,2),y=g[0],E=g[1],w=Object(n.useReducer)(Gu,[]),x=Object(l.a)(w,2),O=x[0],j=x[1],L=Object(n.useState)(null),k=Object(l.a)(L,2),S=k[0],N=k[1],T=Object(n.useState)(!1),C=Object(l.a)(T,2),_=C[0],I=C[1],P=Object(n.useState)(!1),M=Object(l.a)(P,2),F=M[0],G=M[1],R=Object(n.useState)({}),D=Object(l.a)(R,2),W=D[0],q=D[1],z=Object(n.useState)(null),Y=Object(l.a)(z,2),B=Y[0],U=Y[1],V=Object(n.useState)(!1),Q=Object(l.a)(V,2),Z=Q[0],J=Q[1],K=Object(n.useState)(!1),X=Object(l.a)(K,2),$=X[0],ee=X[1];Object(n.useEffect)((function(){j({type:"RESET"}),m(1)}),[y]),Object(n.useEffect)((function(){u(!0);var e=setTimeout((function(){(function(){var e=Object(A.a)(Fu().mark((function e(){var t,r;return Fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ge.get("/contacts/",{params:{searchParam:y,pageNumber:p}});case 3:t=e.sent,r=t.data,j({type:"LOAD_CONTACTS",payload:r.contacts}),ee(r.hasMore),u(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),Ie(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),500);return function(){return clearTimeout(e)}}),[y,p]),Object(n.useEffect)((function(){var e=localStorage.getItem("companyId"),t=We({companyId:e});return t.on("company-".concat(e,"-contact"),(function(e){"update"!==e.action&&"create"!==e.action||j({type:"UPDATE_CONTACTS",payload:e.contact}),"delete"===e.action&&j({type:"DELETE_CONTACT",payload:+e.contactId})})),function(){t.disconnect()}}),[]);var te=function(){var e=Object(A.a)(Fu().mark((function e(t){return Fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ge.delete("/contacts/".concat(t));case 3:f.b.success(Ne.a.t("contacts.toasts.deleted")),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),Ie(e.t0);case 9:U(null),E(""),m(1);case 12:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=Object(A.a)(Fu().mark((function e(){return Fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ge.post("/contacts/import");case 3:t.go(0),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),Ie(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return a.a.createElement(cc,{className:e.mainContainer},a.a.createElement(Yn,{modalOpen:F,initialContact:W,onClose:function(e){!function(e){G(!1),void 0!==e&&void 0!==e.uuid&&t.push("/tickets/".concat(e.uuid))}(e)}}),a.a.createElement(Wn,{open:_,onClose:function(){N(null),I(!1)},"aria-labelledby":"form-dialog-title",contactId:S}),a.a.createElement(ua,{title:B?"".concat(Ne.a.t("contacts.confirmationModal.deleteTitle")," ").concat(B.name,"?"):"".concat(Ne.a.t("contacts.confirmationModal.importTitlte")),open:Z,onClose:J,onConfirm:function(e){return B?te(B.id):re()}},"".concat(B?Ne.a.t("contacts.confirmationModal.deleteMessage"):Ne.a.t("contacts.confirmationModal.importMessage"))),a.a.createElement(uc,null,a.a.createElement(hc,null,Ne.a.t("contacts.title")),a.a.createElement(fc,null,a.a.createElement(Rt.a,{placeholder:Ne.a.t("contacts.searchPlaceholder"),type:"search",value:y,onChange:function(e){E(e.target.value.toLowerCase())},InputProps:{startAdornment:a.a.createElement(Vi.a,{position:"start"},a.a.createElement(On.a,{style:{color:"gray"}}))}}),a.a.createElement(mt.a,{variant:"contained",color:"primary",onClick:function(e){return J(!0)}},Ne.a.t("contacts.buttons.import")),a.a.createElement(mt.a,{variant:"contained",color:"primary",onClick:function(){N(null),I(!0)}},Ne.a.t("contacts.buttons.add")))),a.a.createElement(ar.a,{className:e.mainPaper,variant:"outlined",onScroll:function(e){if($&&!c){var t=e.currentTarget,r=t.scrollTop;t.scrollHeight-(r+100)<t.clientHeight&&m((function(e){return e+1}))}}},a.a.createElement(Xr.a,{size:"small"},a.a.createElement(rn.a,null,a.a.createElement(nn.a,null,a.a.createElement(en.a,{padding:"checkbox"}),a.a.createElement(en.a,null,Ne.a.t("contacts.table.name")),a.a.createElement(en.a,{align:"center"},Ne.a.t("contacts.table.whatsapp")),a.a.createElement(en.a,{align:"center"},Ne.a.t("contacts.table.email")),a.a.createElement(en.a,{align:"center"},Ne.a.t("contacts.table.actions")))),a.a.createElement($r.a,null,a.a.createElement(a.a.Fragment,null,O.map((function(e){return a.a.createElement(nn.a,{key:e.id},a.a.createElement(en.a,{style:{paddingRight:0}},a.a.createElement(dt.a,{src:e.profilePicUrl})),a.a.createElement(en.a,null,e.name),a.a.createElement(en.a,{align:"center"},e.number),a.a.createElement(en.a,{align:"center"},e.email),a.a.createElement(en.a,{align:"center"},a.a.createElement(b.a,{size:"small",onClick:function(){q(e),G(!0)}},a.a.createElement(H.a,null)),a.a.createElement(b.a,{size:"small",onClick:function(){return t=e.id,N(t),void I(!0);var t}},a.a.createElement(_u.a,null)),a.a.createElement($e,{role:r.profile,perform:"contacts-page:deleteContact",yes:function(){return a.a.createElement(b.a,{size:"small",onClick:function(t){J(!0),U(e)}},a.a.createElement(Fn.a,null))}})))})),c&&a.a.createElement(pc,{avatar:!0,columns:3}))))))},Wu=r(665),qu=function(e){var t=e.onChange,r=e.currentColor,o=e.handleClose,i=e.open,c=Object(n.useState)(r),u=Object(l.a)(c,2),s=u[0],f=u[1];return a.a.createElement(Dt.a,{onClose:o,"aria-labelledby":"simple-dialog-title",open:i},a.a.createElement(Wu.a,{width:"100%",triangle:"hide",color:s,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB","#4D4D4D","#999999","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],onChange:function(e){f(e.hex),o()},onChangeComplete:function(e){return t(e.hex)}}))},zu=r(1173),Yu=r(1172),Bu=r(437),Hu=r.n(Bu),Uu=r(657),Vu=r.n(Uu);function Qu(){Qu=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var f={};function h(){}function d(){}function p(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(m=g);var y=p.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Zu=Object(m.a)((function(e){return{root:Object(d.a)({width:"100%"},e.breakpoints.down("sm"),{maxHeight:"20vh"}),button:{marginRight:e.spacing(1)},input:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},addButton:{marginTop:e.spacing(2),marginBottom:e.spacing(2)}}}));function Ju(e){var t=e.queueId,r=e.options,o=e.updateOptions,i=Zu(),c=Object(n.useState)(-1),u=Object(l.a)(c,2),s=u[0],f=u[1],d=function(e){return Object(A.a)(Qu().mark((function n(){var a,i,c,l;return Qu().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(f(e),void 0===(a=r[e])||void 0===a.id){n.next=16;break}return n.prev=3,n.next=6,Ge.request({url:"/queue-options",method:"GET",params:{queueId:t,parentId:a.id}});case 6:i=n.sent,c=i.data,l=c.map((function(e){return Object(h.a)(Object(h.a)({},e),{},{children:[],edition:!1})})),a.children=l,o(),n.next=16;break;case 13:n.prev=13,n.t0=n.catch(3),Ie(n.t0);case 16:case"end":return n.stop()}}),n,null,[[3,13]])})))},p=function(){var e=Object(A.a)(Qu().mark((function e(t){var r,n;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t.id){e.next=6;break}return e.next=4,Ge.request({url:"/queue-options/".concat(t.id),method:"PUT",data:t});case 4:e.next=11;break;case 6:return e.next=8,Ge.request({url:"/queue-options",method:"POST",data:t});case 8:r=e.sent,n=r.data,t.id=n.id;case 11:t.edition=!1,o(),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),Ie(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}(),m=function(e){r[e].edition=!r[e].edition,o()},v=function(){var e=Object(A.a)(Qu().mark((function e(t){var n;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===(n=r[t])||void 0===n.id){e.next=10;break}return e.prev=2,e.next=5,Ge.request({url:"/queue-options/".concat(n.id),method:"DELETE"});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),Ie(e.t0);case 10:r.splice(t,1),r.forEach(function(){var e=Object(A.a)(Qu().mark((function e(t,r){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.option=r+1,e.next=3,p(t);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),o();case 13:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}(),g=function(e){var t=r[e];return t.edition?a.a.createElement(a.a.Fragment,null,a.a.createElement(Rt.a,{value:t.title,onChange:function(t){return function(e,t){r[t].title=e.target.value,o()}(t,e)},size:"small",className:i.input,placeholder:"T\xedtulo da op\xe7\xe3o"}),t.edition&&a.a.createElement(a.a.Fragment,null,a.a.createElement(b.a,{color:"primary",variant:"outlined",size:"small",className:i.button,onClick:function(){return p(t)}},a.a.createElement(Vu.a,null)),a.a.createElement(b.a,{variant:"outlined",color:"secondary",size:"small",className:i.button,onClick:function(){return v(e)}},a.a.createElement(Fn.a,null)))):a.a.createElement(a.a.Fragment,null,a.a.createElement(j.a,null,""!==t.title?t.title:"T\xedtulo n\xe3o definido",a.a.createElement(b.a,{variant:"outlined",size:"small",className:i.button,onClick:function(){return m(e)}},a.a.createElement(_u.a,null))))},y=function(e){var t=r[e];return t.edition?a.a.createElement(a.a.Fragment,null,a.a.createElement(Rt.a,{style:{width:"100%"},multiline:!0,value:t.message,onChange:function(t){return function(e,t){r[t].message=e.target.value,o()}(t,e)},size:"small",className:i.input,placeholder:"Digite o texto da op\xe7\xe3o"})):a.a.createElement(a.a.Fragment,null,a.a.createElement(j.a,{onClick:function(){return m(e)}},t.message))},E=function(e,n){return a.a.createElement(yl.a,{key:n},a.a.createElement(bl.a,{style:{cursor:"pointer"},onClick:d(n)},g(n)),a.a.createElement(Yu.a,null,y(n),void 0!==e.id&&a.a.createElement(a.a.Fragment,null,a.a.createElement(mt.a,{color:"primary",size:"small",onClick:function(){return function(e){var n=r[e].children.length+1;r[e].children.push({title:"",message:"",edition:!1,option:n,queueId:t,parentId:r[e].id,children:[]}),o()}(n)},startIcon:a.a.createElement(Hu.a,null),variant:"outlined",className:i.addButton},"Adicionar")),a.a.createElement(Ju,{queueId:t,options:e.children,updateOptions:o})))};return a.a.createElement(gl.a,{style:{marginBottom:0,paddingBottom:0},nonLinear:!0,activeStep:s,orientation:"vertical"},r.map((function(e,t){return E(e,t)})))}function Ku(e){var t=e.queueId,r=Zu(),o=Object(n.useState)([]),i=Object(l.a)(o,2),c=i[0],u=i[1];Object(n.useEffect)((function(){t&&function(){var e=Object(A.a)(Qu().mark((function e(){var r,n,a;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ge.request({url:"/queue-options",method:"GET",params:{queueId:t,parentId:-1}});case 3:r=e.sent,n=r.data,a=n.map((function(e){return Object(h.a)(Object(h.a)({},e),{},{children:[],edition:!1})})),u(a),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),Ie(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}()()}),[]);var s=function(){u(Object(M.a)(c))};return a.a.createElement("div",{className:r.root},a.a.createElement("br",null),a.a.createElement(j.a,null,"Op\xe7\xf5es",a.a.createElement(mt.a,{color:"primary",size:"small",onClick:function(){var e={title:"",message:"",edition:!1,option:c.length+1,queueId:t,parentId:null,children:[]};u([].concat(Object(M.a)(c),[e]))},startIcon:a.a.createElement(Hu.a,null),style:{marginLeft:10},variant:"outlined"},"Adicionar")),function(){if(c.length>0)return a.a.createElement(Ju,{queueId:t,updateOptions:s,options:c})}())}function Xu(){Xu=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var f={};function h(){}function d(){}function p(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(m=g);var y=p.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var $u=Object(m.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},btnWrapper:{position:"relative"},buttonProgress:{color:ft.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},formControl:{margin:e.spacing(1),minWidth:120},colorAdorment:{width:20,height:20}}})),es=Ft.b().shape({name:Ft.c().min(2,"Too Short!").max(50,"Too Long!").required("Required"),color:Ft.c().min(3,"Too Short!").max(9,"Too Long!").required(),greetingMessage:Ft.c()}),ts=function(e){var t=e.open,r=e.onClose,o=e.queueId,i=$u(),c={name:"",color:"",greetingMessage:"",outOfHoursMessage:""},u=Object(n.useState)(!1),s=Object(l.a)(u,2),d=s[0],p=s[1],m=Object(n.useState)(c),v=Object(l.a)(m,2),g=v[0],y=v[1],E=Object(n.useState)(0),w=Object(l.a)(E,2),x=w[0],O=w[1],j=Object(n.useState)(!1),L=Object(l.a)(j,2),k=L[0],S=L[1],N=Object(n.useRef)(),T=Object(n.useState)([{weekday:"Segunda-feira",weekdayEn:"monday",startTime:"08:00",endTime:"18:00"},{weekday:"Ter\xe7a-feira",weekdayEn:"tuesday",startTime:"08:00",endTime:"18:00"},{weekday:"Quarta-feira",weekdayEn:"wednesday",startTime:"08:00",endTime:"18:00"},{weekday:"Quinta-feira",weekdayEn:"thursday",startTime:"08:00",endTime:"18:00"},{weekday:"Sexta-feira",weekdayEn:"friday",startTime:"08:00",endTime:"18:00"},{weekday:"S\xe1bado",weekdayEn:"saturday",startTime:"08:00",endTime:"12:00"},{weekday:"Domingo",weekdayEn:"sunday",startTime:"00:00",endTime:"00:00"}]),C=Object(l.a)(T,2),_=C[0],I=C[1];Object(n.useEffect)((function(){Ge.get("/settings").then((function(e){var t=e.data;if(Array.isArray(t)){var r=t.find((function(e){return"scheduleType"===e.key}));r&&S("queue"===r.value)}}))}),[]),Object(n.useEffect)((function(){return Object(A.a)(Xu().mark((function e(){var t,r;return Xu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,Ge.get("/queue/".concat(o));case 5:t=e.sent,r=t.data,y((function(e){return Object(h.a)(Object(h.a)({},e),r)})),I(r.schedules),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),Ie(e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,11]])})))(),function(){y({name:"",color:"",greetingMessage:""})}}),[o,t]);var P=function(){r(),y(c)},M=function(){var e=Object(A.a)(Xu().mark((function e(t){return Xu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!o){e.next=6;break}return e.next=4,Ge.put("/queue/".concat(o),Object(h.a)(Object(h.a)({},t),{},{schedules:_}));case 4:e.next=8;break;case 6:return e.next=8,Ge.post("/queue",Object(h.a)(Object(h.a)({},t),{},{schedules:_}));case 8:f.b.success("Queue saved successfully"),P(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),Ie(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(A.a)(Xu().mark((function e(t){return Xu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f.b.success("Clique em salvar para registar as altera\xe7\xf5es"),I(t),O(0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("div",{className:i.root},a.a.createElement(Dt.a,{maxWidth:"md",fullWidth:!0,open:t,onClose:P,scroll:"paper"},a.a.createElement(zt.a,null,"".concat(o?Ne.a.t("queueModal.title.edit"):Ne.a.t("queueModal.title.add"))),a.a.createElement(Ln.a,{value:x,indicatorColor:"primary",textColor:"primary",onChange:function(e,t){return O(t)},"aria-label":"disabled tabs example"},a.a.createElement(kn.a,{label:"Dados da Fila"}),k&&a.a.createElement(kn.a,{label:"Hor\xe1rios de Atendimento"})),0===x&&a.a.createElement(ar.a,null,a.a.createElement(Gt.e,{initialValues:g,enableReinitialize:!0,validationSchema:es,onSubmit:function(e,t){setTimeout((function(){M(e),t.setSubmitting(!1)}),400)}},(function(e){var t=e.touched,r=e.errors,n=e.isSubmitting,c=e.values;return a.a.createElement(Gt.d,null,a.a.createElement(qt.a,{dividers:!0},a.a.createElement(Gt.b,{as:Rt.a,label:Ne.a.t("queueModal.form.name"),autoFocus:!0,name:"name",error:t.name&&Boolean(r.name),helperText:t.name&&r.name,variant:"outlined",margin:"dense",className:i.textField}),a.a.createElement(Gt.b,{as:Rt.a,label:Ne.a.t("queueModal.form.color"),name:"color",id:"color",onFocus:function(){p(!0),N.current.focus()},error:t.color&&Boolean(r.color),helperText:t.color&&r.color,InputProps:{startAdornment:a.a.createElement(Vi.a,{position:"start"},a.a.createElement("div",{style:{backgroundColor:c.color},className:i.colorAdorment})),endAdornment:a.a.createElement(b.a,{size:"small",color:"default",onClick:function(){return p(!0)}},a.a.createElement(zu.a,null))},variant:"outlined",margin:"dense",className:i.textField}),a.a.createElement(qu,{open:d,handleClose:function(){return p(!1)},onChange:function(e){c.color=e,y((function(){return Object(h.a)(Object(h.a)({},c),{},{color:e})}))}}),a.a.createElement("div",{style:{marginTop:5}},a.a.createElement(Gt.b,{as:Rt.a,label:Ne.a.t("queueModal.form.greetingMessage"),type:"greetingMessage",multiline:!0,inputRef:N,rows:5,fullWidth:!0,name:"greetingMessage",error:t.greetingMessage&&Boolean(r.greetingMessage),helperText:t.greetingMessage&&r.greetingMessage,variant:"outlined",margin:"dense"}),k&&a.a.createElement(Gt.b,{as:Rt.a,label:Ne.a.t("queueModal.form.outOfHoursMessage"),type:"outOfHoursMessage",multiline:!0,rows:5,fullWidth:!0,name:"outOfHoursMessage",error:t.outOfHoursMessage&&Boolean(r.outOfHoursMessage),helperText:t.outOfHoursMessage&&r.outOfHoursMessage,variant:"outlined",margin:"dense"})),a.a.createElement(Ku,{queueId:o})),a.a.createElement(Wt.a,null,a.a.createElement(mt.a,{onClick:P,color:"secondary",disabled:n,variant:"outlined"},Ne.a.t("queueModal.buttons.cancel")),a.a.createElement(mt.a,{type:"submit",color:"primary",disabled:n,variant:"contained",className:i.btnWrapper},"".concat(o?Ne.a.t("queueModal.buttons.okEdit"):Ne.a.t("queueModal.buttons.okAdd")),n&&a.a.createElement(vt.a,{size:24,className:i.buttonProgress}))))}))),1===x&&a.a.createElement(ar.a,{style:{padding:20}},a.a.createElement(Tc,{loading:!1,onSubmit:F,initialValues:_,labelSaveButton:"Adicionar"}))))};function rs(){rs=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var f={};function h(){}function d(){}function p(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(m=g);var y=p.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var ns=Object(m.a)((function(e){return{mainPaper:Object(h.a)({flex:1,padding:e.spacing(1),overflowY:"scroll"},e.scrollbarStyles),customTableCell:{display:"flex",alignItems:"center",justifyContent:"center"}}})),as=function(e,t){if("LOAD_QUEUES"===t.type){var r=t.payload,n=[];return r.forEach((function(t){var r=e.findIndex((function(e){return e.id===t.id}));-1!==r?e[r]=t:n.push(t)})),[].concat(Object(M.a)(e),n)}if("UPDATE_QUEUES"===t.type){var a=t.payload,o=e.findIndex((function(e){return e.id===a.id}));return-1!==o?(e[o]=a,Object(M.a)(e)):[a].concat(Object(M.a)(e))}if("DELETE_QUEUE"===t.type){var i=t.payload,c=e.findIndex((function(e){return e.id===i}));return-1!==c&&e.splice(c,1),Object(M.a)(e)}if("RESET"===t.type)return[]},os=function(){var e=ns(),t=Object(n.useReducer)(as,[]),r=Object(l.a)(t,2),o=r[0],i=r[1],c=Object(n.useState)(!1),u=Object(l.a)(c,2),s=u[0],h=u[1],d=Object(n.useState)(!1),p=Object(l.a)(d,2),m=p[0],v=p[1],g=Object(n.useState)(null),y=Object(l.a)(g,2),E=y[0],w=y[1],x=Object(n.useState)(!1),O=Object(l.a)(x,2),L=O[0],k=O[1];Object(n.useEffect)((function(){Object(A.a)(rs().mark((function e(){var t,r;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.prev=1,e.next=4,Ge.get("/queue");case 4:t=e.sent,r=t.data,i({type:"LOAD_QUEUES",payload:r}),h(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),Ie(e.t0),h(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))()}),[]),Object(n.useEffect)((function(){var e=localStorage.getItem("companyId"),t=We({companyId:e});return t.on("company-".concat(e,"-queue"),(function(e){"update"!==e.action&&"create"!==e.action||i({type:"UPDATE_QUEUES",payload:e.queue}),"delete"===e.action&&i({type:"DELETE_QUEUE",payload:e.queueId})})),function(){t.disconnect()}}),[]);var S=function(){var e=Object(A.a)(rs().mark((function e(t){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ge.delete("/queue/".concat(t));case 3:f.b.success(Ne.a.t("Queue deleted successfully!")),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),Ie(e.t0);case 9:w(null);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(cc,null,a.a.createElement(ua,{title:E&&"".concat(Ne.a.t("queues.confirmationModal.deleteTitle")," ").concat(E.name,"?"),open:L,onClose:function(){k(!1),w(null)},onConfirm:function(){return S(E.id)}},Ne.a.t("queues.confirmationModal.deleteMessage")),a.a.createElement(ts,{open:m,onClose:function(){v(!1),w(null)},queueId:null===E||void 0===E?void 0:E.id}),a.a.createElement(uc,null,a.a.createElement(hc,null,Ne.a.t("queues.title")),a.a.createElement(fc,null,a.a.createElement(mt.a,{variant:"contained",color:"primary",onClick:function(){v(!0),w(null)}},Ne.a.t("queues.buttons.add")))),a.a.createElement(ar.a,{className:e.mainPaper,variant:"outlined"},a.a.createElement(Xr.a,{size:"small"},a.a.createElement(rn.a,null,a.a.createElement(nn.a,null,a.a.createElement(en.a,{align:"center"},Ne.a.t("queues.table.name")),a.a.createElement(en.a,{align:"center"},Ne.a.t("queues.table.color")),a.a.createElement(en.a,{align:"center"},Ne.a.t("queues.table.greeting")),a.a.createElement(en.a,{align:"center"},Ne.a.t("queues.table.actions")))),a.a.createElement($r.a,null,a.a.createElement(a.a.Fragment,null,o.map((function(t){return a.a.createElement(nn.a,{key:t.id},a.a.createElement(en.a,{align:"center"},t.name),a.a.createElement(en.a,{align:"center"},a.a.createElement("div",{className:e.customTableCell},a.a.createElement("span",{style:{backgroundColor:t.color,width:60,height:20,alignSelf:"center"}}))),a.a.createElement(en.a,{align:"center"},a.a.createElement("div",{className:e.customTableCell},a.a.createElement(j.a,{style:{width:300,align:"center"},noWrap:!0,variant:"body2"},t.greetingMessage))),a.a.createElement(en.a,{align:"center"},a.a.createElement(b.a,{size:"small",onClick:function(){return function(e){w(e),v(!0)}(t)}},a.a.createElement(ac.a,null)),a.a.createElement(b.a,{size:"small",onClick:function(){w(t),k(!0)}},a.a.createElement(oc.a,null))))})),s&&a.a.createElement(pc,{columns:4}))))))},is=r(671);function cs(){cs=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var f={};function h(){}function d(){}function p(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(m=g);var y=p.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var ls=Object(m.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},multFieldLine:{display:"flex","& > *:not(:last-child)":{marginRight:e.spacing(1)}},btnWrapper:{position:"relative"},buttonProgress:{color:ft.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},formControl:{margin:e.spacing(1),minWidth:120},colorAdorment:{width:20,height:20}}})),us=Ft.b().shape({name:Ft.c().min(3,"Mensagem muito curta").required("Obrigat\xf3rio")}),ss=function(e){var t=e.open,r=e.onClose,o=e.tagId,i=e.reload,c=ls(),u=Object(n.useContext)(Je).user,s=Object(n.useState)(!1),d=Object(l.a)(s,2),p=d[0],m=d[1],v={name:"",color:""},g=Object(n.useState)(v),y=Object(l.a)(g,2),E=y[0],w=y[1];Object(n.useEffect)((function(){try{Object(A.a)(cs().mark((function e(){var t,r;return cs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Ge.get("/tags/".concat(o));case 4:t=e.sent,r=t.data,w((function(e){return Object(h.a)(Object(h.a)({},e),r)}));case 7:case"end":return e.stop()}}),e)})))()}catch(e){Ie(e)}}),[o,t]);var x=function(){w(v),m(!1),r()},O=function(){var e=Object(A.a)(cs().mark((function e(t){var r;return cs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Object(h.a)(Object(h.a)({},t),{},{userId:u.id}),e.prev=1,!o){e.next=7;break}return e.next=5,Ge.put("/tags/".concat(o),r);case 5:e.next=9;break;case 7:return e.next=9,Ge.post("/tags",r);case 9:f.b.success(Ne.a.t("tagModal.success")),"function"==typeof i&&i(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),Ie(e.t0);case 16:x();case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("div",{className:c.root},a.a.createElement(Dt.a,{open:t,onClose:x,maxWidth:"xs",fullWidth:!0,scroll:"paper"},a.a.createElement(zt.a,{id:"form-dialog-title"},"".concat(o?Ne.a.t("tagModal.title.edit"):Ne.a.t("tagModal.title.add"))),a.a.createElement(Gt.e,{initialValues:E,enableReinitialize:!0,validationSchema:us,onSubmit:function(e,t){setTimeout((function(){O(e),t.setSubmitting(!1)}),400)}},(function(e){var t=e.touched,r=e.errors,n=e.isSubmitting,i=e.values;return a.a.createElement(Gt.d,null,a.a.createElement(qt.a,{dividers:!0},a.a.createElement("div",{className:c.multFieldLine},a.a.createElement(Gt.b,{as:Rt.a,label:Ne.a.t("tagModal.form.name"),name:"name",error:t.name&&Boolean(r.name),helperText:t.name&&r.name,variant:"outlined",margin:"dense",onChange:function(e){return w((function(t){return Object(h.a)(Object(h.a)({},t),{},{name:e.target.value})}))},fullWidth:!0})),a.a.createElement("br",null),a.a.createElement("div",{className:c.multFieldLine},a.a.createElement(Gt.b,{as:Rt.a,fullWidth:!0,label:Ne.a.t("tagModal.form.color"),name:"color",id:"color",error:t.color&&Boolean(r.color),helperText:t.color&&r.color,InputProps:{startAdornment:a.a.createElement(Vi.a,{position:"start"},a.a.createElement("div",{style:{backgroundColor:i.color},className:c.colorAdorment})),endAdornment:a.a.createElement(b.a,{size:"small",color:"default",onClick:function(){return m(!p)}},a.a.createElement(zu.a,null))},variant:"outlined",margin:"dense"})),p&&a.a.createElement("div",null,a.a.createElement(is.a,{disableAlpha:!0,hslGradient:!1,style:{margin:"20px auto 0"},value:E.color,onChange:function(e){w((function(t){return Object(h.a)(Object(h.a)({},t),{},{color:"#".concat(e.hex)})}))}}))),a.a.createElement(Wt.a,null,a.a.createElement(mt.a,{onClick:x,color:"secondary",disabled:n,variant:"outlined"},Ne.a.t("tagModal.buttons.cancel")),a.a.createElement(mt.a,{type:"submit",color:"primary",disabled:n,variant:"contained",className:c.btnWrapper},"".concat(o?Ne.a.t("tagModal.buttons.okEdit"):Ne.a.t("tagModal.buttons.okAdd")),n&&a.a.createElement(vt.a,{size:24,className:c.buttonProgress}))))}))))};function fs(){fs=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var f={};function h(){}function d(){}function p(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(m=g);var y=p.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var hs=function(e,t){if("LOAD_TAGS"===t.type){var r=t.payload,n=[];return r.forEach((function(t){var r=e.findIndex((function(e){return e.id===t.id}));-1!==r?e[r]=t:n.push(t)})),[].concat(Object(M.a)(e),n)}if("UPDATE_TAGS"===t.type){var a=t.payload,o=e.findIndex((function(e){return e.id===a.id}));return-1!==o?(e[o]=a,Object(M.a)(e)):[a].concat(Object(M.a)(e))}if("DELETE_TAG"===t.type){var i=t.payload,c=e.findIndex((function(e){return e.id===i}));return-1!==c&&e.splice(c,1),Object(M.a)(e)}if("RESET"===t.type)return[]},ds=Object(m.a)((function(e){return{mainPaper:Object(h.a)({flex:1,padding:e.spacing(1),overflowY:"scroll"},e.scrollbarStyles)}})),ps=function(){var e=ds(),t=Object(n.useContext)(Je).user,r=Object(n.useState)(!1),o=Object(l.a)(r,2),i=o[0],c=o[1],u=Object(n.useState)(1),s=Object(l.a)(u,2),h=s[0],d=s[1],p=Object(n.useState)(!1),m=Object(l.a)(p,2),v=m[0],g=m[1],y=Object(n.useState)(null),E=Object(l.a)(y,2),w=E[0],x=E[1],O=Object(n.useState)(null),j=Object(l.a)(O,2),L=j[0],k=j[1],S=Object(n.useState)(!1),N=Object(l.a)(S,2),T=N[0],C=N[1],_=Object(n.useState)(""),I=Object(l.a)(_,2),P=I[0],M=I[1],F=Object(n.useReducer)(hs,[]),G=Object(l.a)(F,2),R=G[0],D=G[1],W=Object(n.useState)(!1),q=Object(l.a)(W,2),z=q[0],Y=q[1],B=Object(n.useCallback)(Object(A.a)(fs().mark((function e(){var t,r;return fs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ge.get("/tags/",{params:{searchParam:P,pageNumber:h}});case 3:t=e.sent,r=t.data,D({type:"LOAD_TAGS",payload:r.tags}),g(r.hasMore),c(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),Ie(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),[P,h]);Object(n.useEffect)((function(){D({type:"RESET"}),d(1)}),[P]),Object(n.useEffect)((function(){c(!0);var e=setTimeout((function(){B()}),500);return function(){return clearTimeout(e)}}),[P,h,B]),Object(n.useEffect)((function(){var e=We({companyId:t.companyId});return e.on("user",(function(e){"update"!==e.action&&"create"!==e.action||D({type:"UPDATE_TAGS",payload:e.tags}),"delete"===e.action&&D({type:"DELETE_USER",payload:+e.tagId})})),function(){e.disconnect()}}),[t]);var H=function(){var e=Object(A.a)(fs().mark((function e(t){return fs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ge.delete("/tags/".concat(t));case 3:f.b.success(Ne.a.t("tags.toasts.deleted")),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),Ie(e.t0);case 9:return k(null),M(""),d(1),D({type:"RESET"}),d(1),e.next=16,B();case 16:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(cc,null,a.a.createElement(ua,{title:L&&"".concat(Ne.a.t("tags.confirmationModal.deleteTitle")),open:T,onClose:C,onConfirm:function(){return H(L.id)}},Ne.a.t("tags.confirmationModal.deleteMessage")),a.a.createElement(ss,{open:z,onClose:function(){x(null),Y(!1)},reload:B,"aria-labelledby":"form-dialog-title",tagId:w&&w.id}),a.a.createElement(uc,null,a.a.createElement(hc,null,Ne.a.t("tags.title")),a.a.createElement(fc,null,a.a.createElement(Rt.a,{placeholder:Ne.a.t("contacts.searchPlaceholder"),type:"search",value:P,onChange:function(e){M(e.target.value.toLowerCase())},InputProps:{startAdornment:a.a.createElement(Vi.a,{position:"start"},a.a.createElement(On.a,{style:{color:"gray"}}))}}),a.a.createElement(mt.a,{variant:"contained",color:"primary",onClick:function(){x(null),Y(!0)}},Ne.a.t("tags.buttons.add")))),a.a.createElement(ar.a,{className:e.mainPaper,variant:"outlined",onScroll:function(e){if(v&&!i){var t=e.currentTarget,r=t.scrollTop;t.scrollHeight-(r+100)<t.clientHeight&&d((function(e){return e+1}))}}},a.a.createElement(Xr.a,{size:"small"},a.a.createElement(rn.a,null,a.a.createElement(nn.a,null,a.a.createElement(en.a,{align:"center"},Ne.a.t("tags.table.name")),a.a.createElement(en.a,{align:"center"},Ne.a.t("tags.table.tickets")),a.a.createElement(en.a,{align:"center"},Ne.a.t("tags.table.actions")))),a.a.createElement($r.a,null,a.a.createElement(a.a.Fragment,null,R.map((function(e){return a.a.createElement(nn.a,{key:e.id},a.a.createElement(en.a,{align:"center"},a.a.createElement(Ut.a,{variant:"outlined",style:{backgroundColor:e.color,textShadow:"1px 1px 1px #000",color:"white"},label:e.name,size:"small"})),a.a.createElement(en.a,{align:"center"},e.ticketsCount),a.a.createElement(en.a,{align:"center"},a.a.createElement(b.a,{size:"small",onClick:function(){return function(e){x(e),Y(!0)}(e)}},a.a.createElement(_u.a,null)),a.a.createElement(b.a,{size:"small",onClick:function(t){C(!0),k(e)}},a.a.createElement(Fn.a,null))))})),i&&a.a.createElement(pc,{columns:4}))))))};function ms(){ms=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var f={};function h(){}function d(){}function p(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(m=g);var y=p.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var vs=Object(m.a)((function(e){return{mainPaper:{flex:1,padding:e.spacing(2),paddingBottom:100},mainHeader:{marginTop:e.spacing(1)},elementMargin:{marginTop:e.spacing(2)},formContainer:{maxWidth:500},textRight:{textAlign:"right"}}})),gs=function(){var e=vs(),t=Object(n.useState)({token:"",number:"",body:""}),r=Object(l.a)(t,1)[0],o=Object(n.useState)({token:"",number:"",medias:""}),i=Object(l.a)(o,1)[0],c=Object(n.useState)({}),u=Object(l.a)(c,2),s=u[0],h=u[1],d=function(){var e=Object(A.a)(ms().mark((function e(t){var r,n,a,o;return ms().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.number,n=t.body,a={number:r,body:n},o={method:"POST",url:"".concat("http://localhost:8080","/api/messages/send"),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t.token)},data:a},Pe.a.request(o).then((function(e){f.b.success("Mensagem enviada com sucesso")})).catch((function(e){Ie(e)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(A.a)(ms().mark((function e(t){var r,n,a;return ms().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{r=s[0],(n=new FormData).append("number",t.number),n.append("body",r.name),n.append("medias",r),a={method:"POST",url:"".concat("http://localhost:8080","/api/messages/send"),headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(t.token)},data:n},Pe.a.request(a).then((function(e){f.b.success("Mensagem enviada com sucesso")})).catch((function(e){Ie(e)}))}catch(o){Ie(o)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(ar.a,{className:e.mainPaper,variant:"outlined"},a.a.createElement(j.a,{variant:"h5"},"Documenta\xe7\xe3o para envio de mensagens"),a.a.createElement(j.a,{variant:"h6",color:"primary",className:e.elementMargin},"M\xe9todos de Envio"),a.a.createElement(j.a,{component:"div"},a.a.createElement("ol",null,a.a.createElement("li",null,"Mensagens de Texto"),a.a.createElement("li",null,"Mensagens de Media"))),a.a.createElement(j.a,{variant:"h6",color:"primary",className:e.elementMargin},"Instru\xe7\xf5es"),a.a.createElement(j.a,{className:e.elementMargin,component:"div"},a.a.createElement("b",null,"Observa\xe7\xf5es importantes"),a.a.createElement("br",null),a.a.createElement("ul",null,a.a.createElement("li",null,"Antes de enviar mensagens, \xe9 necess\xe1rio o cadastro do token vinculado \xe0 conex\xe3o que enviar\xe1 as mensagens. ",a.a.createElement("br",null),'Para realizar o cadastro acesse o menu "Conex\xf5es", clique no bot\xe3o editar da conex\xe3o e insira o token no devido campo.'),a.a.createElement("li",null,"O n\xfamero para envio n\xe3o deve ter mascara ou caracteres especiais e deve ser composto por:",a.a.createElement("ul",null,a.a.createElement("li",null,"C\xf3digo do pa\xeds"),a.a.createElement("li",null,"DDD"),a.a.createElement("li",null,"N\xfamero"))))),a.a.createElement(j.a,{variant:"h6",color:"primary",className:e.elementMargin},"1. Mensagens de Texto"),a.a.createElement(Or.a,{container:!0},a.a.createElement(Or.a,{item:!0,xs:12,sm:6},a.a.createElement(j.a,{className:e.elementMargin,component:"div"},a.a.createElement("p",null,"Seguem abaixo a lista de informa\xe7\xf5es necess\xe1rias para envio das mensagens de texto:"),a.a.createElement("b",null,"Endpoint: ")," ","http://localhost:8080/api/messages/send"," ",a.a.createElement("br",null),a.a.createElement("b",null,"M\xe9todo: ")," POST ",a.a.createElement("br",null),a.a.createElement("b",null,"Headers: ")," X_TOKEN (token cadastrado) e Content-Type (application/json) ",a.a.createElement("br",null),a.a.createElement("b",null,"Body: ")," ",'{ "number": "558599999999", "body": "Sua mensagem" }')),a.a.createElement(Or.a,{item:!0,xs:12,sm:6},a.a.createElement(j.a,{className:e.elementMargin},a.a.createElement("b",null,"Teste de Envio")),a.a.createElement(Gt.e,{initialValues:r,enableReinitialize:!0,onSubmit:function(e,t){setTimeout(Object(A.a)(ms().mark((function r(){return ms().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,d(e);case 2:t.setSubmitting(!1),t.resetForm();case 4:case"end":return r.stop()}}),r)}))),400)},className:e.elementMargin},(function(t){var r=t.isSubmitting;return a.a.createElement(Gt.d,{className:e.formContainer},a.a.createElement(Or.a,{container:!0,spacing:2},a.a.createElement(Or.a,{item:!0,xs:12,md:6},a.a.createElement(Gt.b,{as:Rt.a,label:Ne.a.t("messagesAPI.textMessage.token"),name:"token",autoFocus:!0,variant:"outlined",margin:"dense",fullWidth:!0,className:e.textField,required:!0})),a.a.createElement(Or.a,{item:!0,xs:12,md:6},a.a.createElement(Gt.b,{as:Rt.a,label:Ne.a.t("messagesAPI.textMessage.number"),name:"number",autoFocus:!0,variant:"outlined",margin:"dense",fullWidth:!0,className:e.textField,required:!0})),a.a.createElement(Or.a,{item:!0,xs:12},a.a.createElement(Gt.b,{as:Rt.a,label:Ne.a.t("messagesAPI.textMessage.body"),name:"body",autoFocus:!0,variant:"outlined",margin:"dense",fullWidth:!0,className:e.textField,required:!0})),a.a.createElement(Or.a,{item:!0,xs:12,className:e.textRight},a.a.createElement(mt.a,{type:"submit",color:"primary",variant:"contained",className:e.btnWrapper},r?a.a.createElement(vt.a,{size:24,className:e.buttonProgress}):"Enviar"))))})))),a.a.createElement(j.a,{variant:"h6",color:"primary",className:e.elementMargin},"2. Mensagens de Media"),a.a.createElement(Or.a,{container:!0},a.a.createElement(Or.a,{item:!0,xs:12,sm:6},a.a.createElement(j.a,{className:e.elementMargin,component:"div"},a.a.createElement("p",null,"Seguem abaixo a lista de informa\xe7\xf5es necess\xe1rias para envio das mensagens de texto:"),a.a.createElement("b",null,"Endpoint: ")," ","http://localhost:8080/api/messages/send"," ",a.a.createElement("br",null),a.a.createElement("b",null,"M\xe9todo: ")," POST ",a.a.createElement("br",null),a.a.createElement("b",null,"Headers: ")," X_TOKEN (token cadastrado) e Content-Type (multipart/form-data) ",a.a.createElement("br",null),a.a.createElement("b",null,"FormData: ")," ",a.a.createElement("br",null),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("b",null,"number: ")," 558599999999"),a.a.createElement("li",null,a.a.createElement("b",null,"medias: ")," arquivo")))),a.a.createElement(Or.a,{item:!0,xs:12,sm:6},a.a.createElement(j.a,{className:e.elementMargin},a.a.createElement("b",null,"Teste de Envio")),a.a.createElement(Gt.e,{initialValues:i,enableReinitialize:!0,onSubmit:function(e,t){setTimeout(Object(A.a)(ms().mark((function r(){return ms().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return console.log(e,s),r.next=3,p(e);case 3:t.setSubmitting(!1),t.resetForm(),document.getElementById("medias").files=null,document.getElementById("medias").value=null;case 7:case"end":return r.stop()}}),r)}))),400)},className:e.elementMargin},(function(t){var r=t.isSubmitting;return a.a.createElement(Gt.d,{className:e.formContainer},a.a.createElement(Or.a,{container:!0,spacing:2},a.a.createElement(Or.a,{item:!0,xs:12,md:6},a.a.createElement(Gt.b,{as:Rt.a,label:Ne.a.t("messagesAPI.mediaMessage.token"),name:"token",autoFocus:!0,variant:"outlined",margin:"dense",fullWidth:!0,className:e.textField,required:!0})),a.a.createElement(Or.a,{item:!0,xs:12,md:6},a.a.createElement(Gt.b,{as:Rt.a,label:Ne.a.t("messagesAPI.mediaMessage.number"),name:"number",autoFocus:!0,variant:"outlined",margin:"dense",fullWidth:!0,className:e.textField,required:!0})),a.a.createElement(Or.a,{item:!0,xs:12},a.a.createElement("input",{type:"file",name:"medias",id:"medias",required:!0,onChange:function(e){return h(e.target.files)}})),a.a.createElement(Or.a,{item:!0,xs:12,className:e.textRight},a.a.createElement(mt.a,{type:"submit",color:"primary",variant:"contained",className:e.btnWrapper},r?a.a.createElement(vt.a,{size:24,className:e.buttonProgress}):"Enviar"))))})))))},ys=r(1186),bs=r(1174),Es=r(1175);function ws(){ws=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var f={};function h(){}function d(){}function p(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(m=g);var y=p.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var xs=Object(m.a)((function(e){return{mainPaper:Object(h.a)({width:"100%",minHeight:"200px",overflowY:"scroll"},e.scrollbarStyles),heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary}}})),Os=function(){var e=xs(),t=Object(n.useState)([]),r=Object(l.a)(t,2),o=r[0],i=r[1],c=tl().list;Object(n.useEffect)((function(){function e(){return(e=Object(A.a)(ws().mark((function e(){var t;return ws().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c();case 2:t=e.sent,i(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);return a.a.createElement(cc,null,a.a.createElement(uc,null,a.a.createElement(hc,null,Ne.a.t("helps.title")),a.a.createElement(fc,null)),a.a.createElement(ar.a,{className:e.mainPaper,variant:"outlined"},a.a.createElement(a.a.Fragment,null,o.length?o.map((function(t,r){return a.a.createElement(ys.a,{key:r},a.a.createElement(bs.a,{expandIcon:a.a.createElement(ge.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},a.a.createElement(j.a,{className:e.heading},t.title),a.a.createElement(j.a,{className:e.secondaryHeading},t.description)),a.a.createElement(Es.a,null,a.a.createElement(j.a,null,function(e){var t="https://www.youtube.com/embed/".concat(e.video);return a.a.createElement("iframe",{style:{width:700,height:500},src:t,title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}(t))))})):null)))},js=r(658),Ls=r.n(js);function ks(){ks=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var f={};function h(){}function d(){}function p(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(m=g);var y=p.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Ss=Object(m.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},multFieldLine:{display:"flex","& > *:not(:last-child)":{marginRight:e.spacing(1)}},btnWrapper:{position:"relative"},buttonProgress:{color:ft.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},formControl:{margin:e.spacing(1),minWidth:120}}})),Ns=Ft.b().shape({name:Ft.c().min(2,"Too Short!").max(50,"Too Long!").required("Required")}),Ts=function(e){var t=e.open,r=e.onClose,o=e.contactListId,i=Ss(),c={name:""},u=Object(n.useState)(c),s=Object(l.a)(u,2),d=s[0],p=s[1];Object(n.useEffect)((function(){(function(){var e=Object(A.a)(ks().mark((function e(){var t,r;return ks().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,Ge.get("/contact-lists/".concat(o));case 5:t=e.sent,r=t.data,p((function(e){return Object(h.a)(Object(h.a)({},e),r)})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),Ie(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}})()()}),[o,t]);var m=function(){r(),p(c)},v=function(){var e=Object(A.a)(ks().mark((function e(t){var r;return ks().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Object(h.a)({},t),e.prev=1,!o){e.next=7;break}return e.next=5,Ge.put("/contact-lists/".concat(o),r);case 5:e.next=9;break;case 7:return e.next=9,Ge.post("/contact-lists",r);case 9:f.b.success(Ne.a.t("contactList.dialog")),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),Ie(e.t0);case 15:m();case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("div",{className:i.root},a.a.createElement(Dt.a,{open:t,onClose:m,maxWidth:"xs",fullWidth:!0,scroll:"paper"},a.a.createElement(zt.a,{id:"form-dialog-title"},"".concat(o?Ne.a.t("contactLists.dialog.edit"):Ne.a.t("contactLists.dialog.add"))),a.a.createElement(Gt.e,{initialValues:d,enableReinitialize:!0,validationSchema:Ns,onSubmit:function(e,t){setTimeout((function(){v(e),t.setSubmitting(!1)}),400)}},(function(e){var t=e.touched,r=e.errors,n=e.isSubmitting;return a.a.createElement(Gt.d,null,a.a.createElement(qt.a,{dividers:!0},a.a.createElement("div",{className:i.multFieldLine},a.a.createElement(Gt.b,{as:Rt.a,label:Ne.a.t("contactLists.dialog.name"),autoFocus:!0,name:"name",error:t.name&&Boolean(r.name),helperText:t.name&&r.name,variant:"outlined",margin:"dense",fullWidth:!0}))),a.a.createElement(Wt.a,null,a.a.createElement(mt.a,{onClick:m,color:"secondary",disabled:n,variant:"outlined"},Ne.a.t("contactLists.dialog.cancel")),a.a.createElement(mt.a,{type:"submit",color:"primary",disabled:n,variant:"contained",className:i.btnWrapper},"".concat(o?Ne.a.t("contactLists.dialog.okEdit"):Ne.a.t("contactLists.dialog.okAdd")),n&&a.a.createElement(vt.a,{size:24,className:i.buttonProgress}))))}))))},Cs=r(347),_s=r.n(Cs);function Is(){Is=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var f={};function h(){}function d(){}function p(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(m=g);var y=p.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var As=function(e,t){if("LOAD_CONTACTLISTS"===t.type){var r=t.payload,n=[];return r.forEach((function(t){var r=e.findIndex((function(e){return e.id===t.id}));-1!==r?e[r]=t:n.push(t)})),[].concat(Object(M.a)(e),n)}if("UPDATE_CONTACTLIST"===t.type){var a=t.payload,o=e.findIndex((function(e){return e.id===a.id}));return-1!==o?(e[o]=a,Object(M.a)(e)):[a].concat(Object(M.a)(e))}if("DELETE_CONTACTLIST"===t.type){var i=t.payload,c=e.findIndex((function(e){return e.id===i}));return-1!==c&&e.splice(c,1),Object(M.a)(e)}if("RESET"===t.type)return[]},Ps=Object(m.a)((function(e){return{mainPaper:Object(h.a)({flex:1,padding:e.spacing(1),overflowY:"scroll"},e.scrollbarStyles)}})),Ms=function(){var e=Ps(),t=Object(s.g)(),r=Object(n.useState)(!1),o=Object(l.a)(r,2),i=o[0],c=o[1],u=Object(n.useState)(1),h=Object(l.a)(u,2),d=h[0],p=h[1],m=Object(n.useState)(!1),v=Object(l.a)(m,2),g=v[0],y=v[1],E=Object(n.useState)(null),w=Object(l.a)(E,2),x=w[0],O=w[1],j=Object(n.useState)(null),L=Object(l.a)(j,2),k=L[0],S=L[1],N=Object(n.useState)(!1),T=Object(l.a)(N,2),C=T[0],_=T[1],I=Object(n.useState)(!1),P=Object(l.a)(I,2),M=P[0],F=P[1],G=Object(n.useState)(""),R=Object(l.a)(G,2),D=R[0],W=R[1],q=Object(n.useReducer)(As,[]),z=Object(l.a)(q,2),Y=z[0],B=z[1];Object(n.useEffect)((function(){B({type:"RESET"}),p(1)}),[D]),Object(n.useEffect)((function(){c(!0);var e=setTimeout((function(){(function(){var e=Object(A.a)(Is().mark((function e(){var t,r;return Is().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ge.get("/contact-lists/",{params:{searchParam:D,pageNumber:d}});case 3:t=e.sent,r=t.data,B({type:"LOAD_CONTACTLISTS",payload:r.records}),y(r.hasMore),c(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),Ie(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),500);return function(){return clearTimeout(e)}}),[D,d]),Object(n.useEffect)((function(){var e=localStorage.getItem("companyId"),t=We({companyId:e});return t.on("company-".concat(e,"-ContactList"),(function(e){"update"!==e.action&&"create"!==e.action||B({type:"UPDATE_CONTACTLIST",payload:e.record}),"delete"===e.action&&B({type:"DELETE_CONTACTLIST",payload:+e.id})})),function(){t.disconnect()}}),[]);var H=function(){var e=Object(A.a)(Is().mark((function e(t){return Is().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ge.delete("/contact-lists/".concat(t));case 3:f.b.success(Ne.a.t("contactLists.toasts.deleted")),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),Ie(e.t0);case 9:S(null),W(""),p(1);case 12:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(cc,null,a.a.createElement(ua,{title:k&&"".concat(Ne.a.t("contactLists.confirmationModal.deleteTitle")," ").concat(k.name,"?"),open:M,onClose:F,onConfirm:function(){return H(k.id)}},Ne.a.t("contactLists.confirmationModal.deleteMessage")),a.a.createElement(Ts,{open:C,onClose:function(){O(null),_(!1)},"aria-labelledby":"form-dialog-title",contactListId:x&&x.id}),a.a.createElement(uc,null,a.a.createElement(Or.a,{style:{width:"99.6%"},container:!0},a.a.createElement(Or.a,{xs:12,sm:8,item:!0},a.a.createElement(hc,null,Ne.a.t("contactLists.title"))),a.a.createElement(Or.a,{xs:12,sm:4,item:!0},a.a.createElement(Or.a,{spacing:2,container:!0},a.a.createElement(Or.a,{xs:7,sm:6,item:!0},a.a.createElement(Rt.a,{fullWidth:!0,placeholder:Ne.a.t("contacts.searchPlaceholder"),type:"search",value:D,onChange:function(e){W(e.target.value.toLowerCase())},InputProps:{startAdornment:a.a.createElement(Vi.a,{position:"start"},a.a.createElement(On.a,{style:{color:"gray"}}))}})),a.a.createElement(Or.a,{xs:5,sm:6,item:!0},a.a.createElement(mt.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:function(){O(null),_(!0)}},Ne.a.t("contactLists.buttons.add"))))))),a.a.createElement(ar.a,{className:e.mainPaper,variant:"outlined",onScroll:function(e){if(g&&!i){var t=e.currentTarget,r=t.scrollTop;t.scrollHeight-(r+100)<t.clientHeight&&p((function(e){return e+1}))}}},a.a.createElement(Xr.a,{size:"small"},a.a.createElement(rn.a,null,a.a.createElement(nn.a,null,a.a.createElement(en.a,{align:"center"},Ne.a.t("contactLists.table.name")),a.a.createElement(en.a,{align:"center"},Ne.a.t("contactLists.table.contacts")),a.a.createElement(en.a,{align:"center"},Ne.a.t("contactLists.table.actions")))),a.a.createElement($r.a,null,a.a.createElement(a.a.Fragment,null,Y.map((function(e){return a.a.createElement(nn.a,{key:e.id},a.a.createElement(en.a,{align:"center"},e.name),a.a.createElement(en.a,{align:"center"},e.contactsCount||0),a.a.createElement(en.a,{align:"center"},a.a.createElement("a",{href:_s.a,download:"planilha.xlsx"},a.a.createElement(b.a,{size:"small",title:"Baixar Planilha Exemplo"},a.a.createElement(Ls.a,null))),a.a.createElement(b.a,{size:"small",onClick:function(){return r=e.id,void t.push("/contact-lists/".concat(r,"/contacts"));var r}},a.a.createElement(be.a,null)),a.a.createElement(b.a,{size:"small",onClick:function(){return function(e){O(e),_(!0)}(e)}},a.a.createElement(_u.a,null)),a.a.createElement(b.a,{size:"small",onClick:function(t){F(!0),S(e)}},a.a.createElement(Fn.a,null))))})),i&&a.a.createElement(pc,{columns:3}))))))},Fs=r(425),Gs=r.n(Fs);function Rs(){Rs=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var f={};function h(){}function d(){}function p(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(m=g);var y=p.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Ds=Object(m.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:ft.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}})),Ws=Ft.b().shape({name:Ft.c().min(2,"Too Short!").max(50,"Too Long!").required("Required"),number:Ft.c().min(8,"Too Short!").max(50,"Too Long!"),email:Ft.c().email("Invalid email")}),qs=function(e){var t=e.open,r=e.onClose,o=e.contactId,i=e.initialValues,c=e.onSave,u=Ds(),d=Object(n.useRef)(!0),p=Object(n.useContext)(Je).user.companyId,m=Object(s.h)().contactListId,v={name:"",number:"",email:""},g=Object(n.useState)(v),y=Object(l.a)(g,2),b=y[0],E=y[1];Object(n.useEffect)((function(){return function(){d.current=!1}}),[]),Object(n.useEffect)((function(){(function(){var e=Object(A.a)(Rs().mark((function e(){var t,r;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i&&E((function(e){return Object(h.a)(Object(h.a)({},e),i)})),o){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,Ge.get("/contact-list-items/".concat(o));case 6:t=e.sent,r=t.data,d.current&&E(r),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),Ie(e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}})()()}),[o,t,i]);var w=function(){r(),E(v)},x=function(){var e=Object(A.a)(Rs().mark((function e(t){var r,n;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!o){e.next=7;break}return e.next=4,Ge.put("/contact-list-items/".concat(o),Object(h.a)(Object(h.a)({},t),{},{companyId:p,contactListId:m}));case 4:w(),e.next=13;break;case 7:return e.next=9,Ge.post("/contact-list-items",Object(h.a)(Object(h.a)({},t),{},{companyId:p,contactListId:m}));case 9:r=e.sent,n=r.data,c&&c(n),w();case 13:f.b.success(Ne.a.t("contactModal.success")),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),Ie(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("div",{className:u.root},a.a.createElement(Dt.a,{open:t,onClose:w,maxWidth:"lg",scroll:"paper"},a.a.createElement(zt.a,{id:"form-dialog-title"},"".concat(o?Ne.a.t("contactModal.title.edit"):Ne.a.t("contactModal.title.add"))),a.a.createElement(Gt.e,{initialValues:b,enableReinitialize:!0,validationSchema:Ws,onSubmit:function(e,t){setTimeout((function(){x(e),t.setSubmitting(!1)}),400)}},(function(e){e.values;var t=e.errors,r=e.touched,n=e.isSubmitting;return a.a.createElement(Gt.d,null,a.a.createElement(qt.a,{dividers:!0},a.a.createElement(j.a,{variant:"subtitle1",gutterBottom:!0},Ne.a.t("contactModal.form.mainInfo")),a.a.createElement(Gt.b,{as:Rt.a,label:Ne.a.t("contactModal.form.name"),name:"name",autoFocus:!0,error:r.name&&Boolean(t.name),helperText:r.name&&t.name,variant:"outlined",margin:"dense",className:u.textField}),a.a.createElement(Gt.b,{as:Rt.a,label:Ne.a.t("contactModal.form.number"),name:"number",error:r.number&&Boolean(t.number),helperText:r.number&&t.number,placeholder:"5513912344321",variant:"outlined",margin:"dense"}),a.a.createElement("div",null,a.a.createElement(Gt.b,{as:Rt.a,label:Ne.a.t("contactModal.form.email"),name:"email",error:r.email&&Boolean(t.email),helperText:r.email&&t.email,placeholder:"Email address",fullWidth:!0,margin:"dense",variant:"outlined"}))),a.a.createElement(Wt.a,null,a.a.createElement(mt.a,{onClick:w,color:"secondary",disabled:n,variant:"outlined"},Ne.a.t("contactModal.buttons.cancel")),a.a.createElement(mt.a,{type:"submit",color:"primary",disabled:n,variant:"contained",className:u.btnWrapper},"".concat(o?Ne.a.t("contactModal.buttons.okEdit"):Ne.a.t("contactModal.buttons.okAdd")),n&&a.a.createElement(vt.a,{size:24,className:u.buttonProgress}))))}))))};function zs(){zs=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var f={};function h(){}function d(){}function p(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(m=g);var y=p.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Ys=function(){var e=function(){var e=Object(A.a)(zs().mark((function e(t){var r,n;return zs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ge.request({url:"/contact-lists",method:"POST",data:t});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t=function(){var e=Object(A.a)(zs().mark((function e(t){var r,n;return zs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ge.request({url:"/contact-lists/".concat(t.id),method:"PUT",data:t});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r=function(){var e=Object(A.a)(zs().mark((function e(t){var r,n;return zs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ge.request({url:"/contact-lists/".concat(t),method:"DELETE"});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{findById:function(){var e=Object(A.a)(zs().mark((function e(t){var r,n;return zs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ge.request({url:"/contact-lists/".concat(t),method:"GET"});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),save:e,update:t,deleteRecord:r,list:function(){var e=Object(A.a)(zs().mark((function e(t){var r,n;return zs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ge.request({url:"/contact-lists/list",method:"GET",params:t});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}};function Bs(){Bs=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var f={};function h(){}function d(){}function p(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(m=g);var y=p.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Hs=function(e,t){if("LOAD_CONTACTS"===t.type){var r=t.payload,n=[];return r.forEach((function(t){var r=e.findIndex((function(e){return e.id===t.id}));-1!==r?e[r]=t:n.push(t)})),[].concat(Object(M.a)(e),n)}if("UPDATE_CONTACTS"===t.type){var a=t.payload,o=e.findIndex((function(e){return e.id===a.id}));return-1!==o?(e[o]=a,Object(M.a)(e)):[a].concat(Object(M.a)(e))}if("DELETE_CONTACT"===t.type){var i=t.payload,c=e.findIndex((function(e){return e.id===i}));return-1!==c&&e.splice(c,1),Object(M.a)(e)}if("RESET"===t.type)return[]},Us=Object(m.a)((function(e){return{mainPaper:Object(h.a)({flex:1,padding:e.spacing(1),overflowY:"scroll"},e.scrollbarStyles)}})),Vs=function(){var e=Us(),t=Object(n.useContext)(Je).user,r=Object(s.h)().contactListId,o=Object(s.g)(),i=Object(n.useState)(!1),c=Object(l.a)(i,2),u=c[0],h=c[1],d=Object(n.useState)(1),p=Object(l.a)(d,2),m=p[0],v=p[1],g=Object(n.useState)(""),y=Object(l.a)(g,2),E=y[0],w=y[1],x=Object(n.useReducer)(Hs,[]),O=Object(l.a)(x,2),j=O[0],L=O[1],k=Object(n.useState)(null),S=Object(l.a)(k,2),N=S[0],T=S[1],C=Object(n.useState)(!1),_=Object(l.a)(C,2),I=_[0],P=_[1],M=Object(n.useState)(null),F=Object(l.a)(M,2),G=F[0],R=F[1],D=Object(n.useState)(!1),W=Object(l.a)(D,2),q=W[0],z=W[1],Y=Object(n.useState)(!1),B=Object(l.a)(Y,2),H=B[0],U=B[1],V=Object(n.useState)({}),Q=Object(l.a)(V,2),Z=Q[0],J=Q[1],K=Object(n.useRef)(null),X=Ys().findById;Object(n.useEffect)((function(){X(r).then((function(e){J(e)}))}),[r]),Object(n.useEffect)((function(){L({type:"RESET"}),v(1)}),[E]),Object(n.useEffect)((function(){h(!0);var e=setTimeout((function(){(function(){var e=Object(A.a)(Bs().mark((function e(){var t,n;return Bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ge.get("contact-list-items",{params:{searchParam:E,pageNumber:m,contactListId:r}});case 3:t=e.sent,n=t.data,L({type:"LOAD_CONTACTS",payload:n.contacts}),U(n.hasMore),h(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),Ie(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),500);return function(){return clearTimeout(e)}}),[E,m,r]),Object(n.useEffect)((function(){var e=localStorage.getItem("companyId"),t=We({companyId:e});return t.on("company-".concat(e,"-ContactListItem"),(function(e){"update"!==e.action&&"create"!==e.action||L({type:"UPDATE_CONTACTS",payload:e.record}),"delete"===e.action&&L({type:"DELETE_CONTACT",payload:+e.id}),"reload"===e.action&&L({type:"LOAD_CONTACTS",payload:e.records})})),t.on("company-".concat(e,"-ContactListItem-").concat(r),(function(e){"reload"===e.action&&L({type:"LOAD_CONTACTS",payload:e.records})})),function(){t.disconnect()}}),[r]);var $=function(){var e=Object(A.a)(Bs().mark((function e(t){return Bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ge.delete("/contact-list-items/".concat(t));case 3:f.b.success(Ne.a.t("contacts.toasts.deleted")),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),Ie(e.t0);case 9:R(null),w(""),v(1);case 12:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=Object(A.a)(Bs().mark((function e(){var t;return Bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(t=new FormData).append("file",K.current.files[0]),e.next=5,Ge.request({url:"contact-lists/".concat(r,"/upload"),method:"POST",data:t});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Ie(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return a.a.createElement(cc,{className:e.mainContainer},a.a.createElement(qs,{open:I,onClose:function(){T(null),P(!1)},"aria-labelledby":"form-dialog-title",contactId:N}),a.a.createElement(ua,{title:G?"".concat(Ne.a.t("contactListItems.confirmationModal.deleteTitle")," ").concat(G.name,"?"):"".concat(Ne.a.t("contactListItems.confirmationModal.importTitlte")),open:q,onClose:z,onConfirm:function(){return G?$(G.id):ee()}},G?"".concat(Ne.a.t("contactListItems.confirmationModal.deleteMessage")):a.a.createElement(a.a.Fragment,null,Ne.a.t("contactListItems.confirmationModal.importMessage"),a.a.createElement("a",{href:_s.a,download:"planilha.xlsx"},"Clique aqui para baixar planilha exemplo."))),a.a.createElement(uc,null,a.a.createElement(Or.a,{style:{width:"99.6%"},container:!0},a.a.createElement(Or.a,{xs:12,sm:5,item:!0},a.a.createElement(hc,null,Z.name)),a.a.createElement(Or.a,{xs:12,sm:7,item:!0},a.a.createElement(Or.a,{spacing:2,container:!0},a.a.createElement(Or.a,{xs:12,sm:6,item:!0},a.a.createElement(Rt.a,{fullWidth:!0,placeholder:Ne.a.t("contactListItems.searchPlaceholder"),type:"search",value:E,onChange:function(e){w(e.target.value.toLowerCase())},InputProps:{startAdornment:a.a.createElement(Vi.a,{position:"start"},a.a.createElement(On.a,{style:{color:"gray"}}))}})),a.a.createElement(Or.a,{xs:4,sm:2,item:!0},a.a.createElement(mt.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:function(){o.push("/contact-lists")}},Ne.a.t("contactListItems.buttons.lists"))),a.a.createElement(Or.a,{xs:4,sm:2,item:!0},a.a.createElement(mt.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:function(){K.current.value=null,K.current.click()}},Ne.a.t("contactListItems.buttons.import"))),a.a.createElement(Or.a,{xs:4,sm:2,item:!0},a.a.createElement(mt.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:function(){T(null),P(!0)}},Ne.a.t("contactListItems.buttons.add"))))))),a.a.createElement(ar.a,{className:e.mainPaper,variant:"outlined",onScroll:function(e){if(H&&!u){var t=e.currentTarget,r=t.scrollTop;t.scrollHeight-(r+100)<t.clientHeight&&v((function(e){return e+1}))}}},a.a.createElement(a.a.Fragment,null,a.a.createElement("input",{style:{display:"none"},id:"upload",name:"file",type:"file",accept:".xls,.xlsx",onChange:function(){z(!0)},ref:K})),a.a.createElement(Xr.a,{size:"small"},a.a.createElement(rn.a,null,a.a.createElement(nn.a,null,a.a.createElement(en.a,{align:"center",style:{width:"0%"}},"#"),a.a.createElement(en.a,null,Ne.a.t("contactListItems.table.name")),a.a.createElement(en.a,{align:"center"},Ne.a.t("contactListItems.table.number")),a.a.createElement(en.a,{align:"center"},Ne.a.t("contactListItems.table.email")),a.a.createElement(en.a,{align:"center"},Ne.a.t("contactListItems.table.actions")))),a.a.createElement($r.a,null,a.a.createElement(a.a.Fragment,null,j.map((function(e){return a.a.createElement(nn.a,{key:e.id},a.a.createElement(en.a,{align:"center",style:{width:"0%"}},a.a.createElement(b.a,null,e.isWhatsappValid?a.a.createElement(cn.a,{titleAccess:"Whatsapp V\xe1lido",htmlColor:"green"}):a.a.createElement(Gs.a,{titleAccess:"Whatsapp Inv\xe1lido",htmlColor:"grey"}))),a.a.createElement(en.a,null,e.name),a.a.createElement(en.a,{align:"center"},e.number),a.a.createElement(en.a,{align:"center"},e.email),a.a.createElement(en.a,{align:"center"},a.a.createElement(b.a,{size:"small",onClick:function(){return t=e.id,T(t),void P(!0);var t}},a.a.createElement(_u.a,null)),a.a.createElement($e,{role:t.profile,perform:"contacts-page:deleteContact",yes:function(){return a.a.createElement(b.a,{size:"small",onClick:function(){z(!0),R(e)}},a.a.createElement(Fn.a,null))}})))})),u&&a.a.createElement(pc,{columns:4}))))))};var Qs=function(e){var t=e.messages,r=e.showLoading,o=e.editMessage,i=e.deleteMessage,c=e.readOnly,u=Object(n.useState)(!0),s=Object(l.a)(u,2),f=s[0],h=s[1],d=Object(n.useState)([]),p=Object(l.a)(d,2),m=p[0],v=p[1];return Object(n.useEffect)((function(){Array.isArray(t)&&v(t),void 0!==r&&h(r)}),[t,r]),a.a.createElement(Xr.a,{size:"small"},a.a.createElement(rn.a,null,a.a.createElement(nn.a,null,a.a.createElement(en.a,{align:"center"},"Atalho"),a.a.createElement(en.a,{align:"left"},"Mensagem"),c?null:a.a.createElement(en.a,{align:"center"},"A\xe7\xf5es"))),a.a.createElement($r.a,null,f?a.a.createElement(pc,{columns:c?2:3}):m.map((function(e){return a.a.createElement(nn.a,{key:e.id},a.a.createElement(en.a,{align:"center"},e.shortcode),a.a.createElement(en.a,{align:"left"},e.message),c?null:a.a.createElement(en.a,{align:"center"},a.a.createElement(b.a,{size:"small",onClick:function(){return function(e){o(e)}(e)}},a.a.createElement(ac.a,null)),a.a.createElement(b.a,{size:"small",onClick:function(){return function(e){i(e)}(e)}},a.a.createElement(oc.a,null))))}))))},Zs=r(2),Js=r.n(Zs);var Ks=function(e){var t=e.title,r=e.modalOpen,o=e.onClose,i=e.children,c=Object(n.useState)(!1),u=Object(l.a)(c,2),s=u[0],f=u[1];return Object(n.useEffect)((function(){f(r)}),[r]),a.a.createElement(a.a.Fragment,null,a.a.createElement(Dt.a,{open:s,onClose:function(){f(!1),o()},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},a.a.createElement(zt.a,{id:"alert-dialog-title"},t),i))};function Xs(){Xs=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var f={};function h(){}function d(){}function p(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(m=g);var y=p.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var $s=Ft.b().shape({shortcode:Ft.c().min(3,"Too Short!").max(50,"Too Long!").required("Required"),message:Ft.c().min(3,"Too Short!").max(500,"Too Long!").required("Required")}),ef=Object(m.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1),width:"350px"}},list:{width:"100%",maxWidth:"350px",maxHeight:"200px",backgroundColor:e.palette.background.paper},inline:{width:"100%"}}}));function tf(e){var t=ef(),r={id:null,shortcode:"",message:""},o=e.modalOpen,i=e.saveMessage,c=e.editMessage,u=e.onClose,s=e.messageSelected,f=Object(n.useState)(!1),d=Object(l.a)(f,2),p=d[0],m=d[1],v=Object(n.useState)(r),g=Object(l.a)(v,2),y=g[0],b=g[1],E=Object(n.useState)(!1),w=Object(l.a)(E,2),x=w[0],O=w[1],j=Object(n.useContext)(Je).user;Object(n.useEffect)((function(){k(),m(o)}),[o]),Object(n.useEffect)((function(){k()}),[s]);var L=function(){return Object(_e.isObject)(s)&&Object(_e.has)(s,"id")&&!Object(_e.isNil)(Object(_e.get)(s,"id"))},k=function(){if(L()){var e=s.id,t=s.message,n=s.shortcode;b({id:e,message:t,shortcode:n})}else b(r)},S=function(){u(),O(!1)},N=function(){var e=Object(A.a)(Xs().mark((function e(t){return Xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:L()?c(Object(h.a)(Object(h.a)(Object(h.a)({},s),t),{},{userId:j.id})):i(Object(h.a)(Object(h.a)({},t),{},{userId:j.id})),S();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(Ks,{title:"Mensagem R\xe1pida",modalOpen:p,onClose:S},a.a.createElement(Gt.e,{initialValues:y,enableReinitialize:!0,validationSchema:$s,onSubmit:function(e,t){O(!0),setTimeout((function(){N(e),t.setSubmitting(!1)}),400)}},(function(e){var r=e.touched,n=e.errors;return a.a.createElement(Gt.d,null,a.a.createElement(qt.a,{className:t.root,dividers:!0},a.a.createElement(Or.a,{direction:"column",container:!0},a.a.createElement(Or.a,{item:!0},a.a.createElement(Gt.b,{as:Rt.a,name:"shortcode",label:Ne.a.t("quickMessages.dialog.shortcode"),error:r.shortcode&&Boolean(n.shortcode),helperText:r.shortcode&&n.shortcode,variant:"outlined"})),a.a.createElement(Or.a,{item:!0},a.a.createElement(Gt.b,{as:Rt.a,name:"message",rows:6,label:Ne.a.t("quickMessages.dialog.message"),multiline:!0,error:r.message&&Boolean(n.message),helperText:r.message&&n.message,variant:"outlined"})))),a.a.createElement(Wt.a,null,a.a.createElement(mt.a,{onClick:S,color:"primary"},"Cancelar"),a.a.createElement(bt,{loading:x,color:"primary",type:"submit",variant:"contained",autoFocus:!0},"Salvar")))})))}tf.propType={modalOpen:Js.a.bool,onClose:Js.a.func};var rf=tf;function nf(){nf=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var f={};function h(){}function d(){}function p(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(m=g);var y=p.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var af=Object(m.a)((function(e){return{mainPaper:Object(h.a)({flex:1,padding:e.spacing(1),overflowY:"scroll"},e.scrollbarStyles)}}));var of=function(e){var t=af(),r=Object(n.useState)([]),o=Object(l.a)(r,2),i=o[0],c=o[1],u=Object(n.useState)(!1),s=Object(l.a)(u,2),h=s[0],d=s[1],p=Object(n.useState)(!1),m=Object(l.a)(p,2),v=m[0],g=m[1],y=Object(n.useState)({}),b=Object(l.a)(y,2),E=b[0],w=b[1],x=Object(n.useState)(!1),O=Object(l.a)(x,2),j=O[0],L=O[1],k=zo(),S=k.list,N=k.save,T=k.update,C=k.deleteRecord,_=Object(n.useContext)(Je).user;Object(n.useEffect)((function(){(function(){var e=Object(A.a)(nf().mark((function e(){return nf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var I=function(){var e=Object(A.a)(nf().mark((function e(){var t,r;return nf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.prev=1,t=localStorage.getItem("companyId"),e.next=5,S({companyId:t,userId:_.id});case 5:r=e.sent,c(r),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),f.b.error(e.t0);case 12:d(!1);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),P=function(){g(!1),w({id:null,message:"",shortcode:""})},M=function(){var e=Object(A.a)(nf().mark((function e(t){return nf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(),e.prev=1,e.next=4,N(t);case 4:return e.next=6,I();case 6:f.b.success("Messagem adicionada com sucesso."),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),f.b.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(A.a)(nf().mark((function e(t){return nf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(),e.prev=1,e.next=4,T(t);case 4:return e.next=6,I();case 6:f.b.success("Messagem atualizada com sucesso."),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),f.b.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(A.a)(nf().mark((function e(t){return nf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(),e.prev=1,e.next=4,C(t.id);case 4:return e.next=6,I();case 6:f.b.success("Messagem exclu\xedda com sucesso."),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),f.b.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(cc,null,a.a.createElement(uc,null,a.a.createElement(hc,null,Ne.a.t("quickMessages.title")),a.a.createElement(fc,null,a.a.createElement(mt.a,{variant:"contained",color:"primary",onClick:function(){g(!0)}},Ne.a.t("quickMessages.buttons.add")))),a.a.createElement(ar.a,{className:t.mainPaper,variant:"outlined"},a.a.createElement(Qs,{readOnly:!1,messages:i,showLoading:h,editMessage:function(e){w(e),g(!0)},deleteMessage:function(e){w(e),L(!0)}})),a.a.createElement(rf,{messageSelected:E,modalOpen:v,onClose:P,editMessage:F,saveMessage:M}),a.a.createElement(ua,{title:"Excluir Registro",open:j,onClose:L,onConfirm:Object(A.a)(nf().mark((function e(){return nf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G(E);case 2:case"end":return e.stop()}}),e)})))},"Deseja realmente excluir este registro?"))},cf=["component","isPrivate"],lf=function(e){var t=e.component,r=e.isPrivate,o=void 0!==r&&r,i=Object(pt.a)(e,cf),c=Object(n.useContext)(Je),l=c.isAuth,u=c.loading;return!l&&o?a.a.createElement(a.a.Fragment,null,u&&a.a.createElement(rr,null),a.a.createElement(s.a,{to:{pathname:"/login",state:{from:i.location}}})):l&&!o?a.a.createElement(a.a.Fragment,null,u&&a.a.createElement(rr,null),a.a.createElement(s.a,{to:{pathname:"/",state:{from:i.location}}}),";"):a.a.createElement(a.a.Fragment,null,u&&a.a.createElement(rr,null),a.a.createElement(s.b,Object.assign({},i,{component:t})))};function uf(){uf=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var f={};function h(){}function d(){}function p(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(m=g);var y=p.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var sf=function(e,t){if("LOAD_SCHEDULES"===t.type){var r=t.payload,n=[];return r.forEach((function(t){var r=e.findIndex((function(e){return e.id===t.id}));-1!==r?e[r]=t:n.push(t)})),[].concat(Object(M.a)(e),n)}if("UPDATE_SCHEDULES"===t.type){var a=t.payload,o=e.findIndex((function(e){return e.id===a.id}));return-1!==o?(e[o]=a,Object(M.a)(e)):[a].concat(Object(M.a)(e))}if("DELETE_SCHEDULE"===t.type){var i=t.payload,c=e.findIndex((function(e){return e.id===i}));return-1!==c&&e.splice(c,1),Object(M.a)(e)}if("RESET"===t.type)return[]},ff=Object(m.a)((function(e){return{mainPaper:Object(h.a)({flex:1,padding:e.spacing(1),overflowY:"scroll"},e.scrollbarStyles)}})),hf=function(){var e,t=ff(),r=Object(n.useContext)(Je).user,o=Object(n.useState)(!1),i=Object(l.a)(o,2),c=i[0],u=i[1],s=Object(n.useState)(1),h=Object(l.a)(s,2),d=h[0],p=h[1],m=Object(n.useState)(!1),v=Object(l.a)(m,2),g=v[0],y=v[1],E=Object(n.useState)(null),w=Object(l.a)(E,2),x=w[0],O=w[1],j=Object(n.useState)(null),L=Object(l.a)(j,2),k=L[0],S=L[1],N=Object(n.useState)(!1),T=Object(l.a)(N,2),C=T[0],_=T[1],I=Object(n.useState)(""),P=Object(l.a)(I,2),M=P[0],F=P[1],G=Object(n.useReducer)(sf,[]),R=Object(l.a)(G,2),D=R[0],W=R[1],q=Object(n.useState)(!1),z=Object(l.a)(q,2),Y=z[0],B=z[1],H=Object(n.useState)((e="contactId",+new URLSearchParams(window.location.search).get(e))),U=Object(l.a)(H,2),V=U[0],Q=U[1],Z=Object(n.useCallback)(Object(A.a)(uf().mark((function e(){var t,r;return uf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ge.get("/schedules/",{params:{searchParam:M,pageNumber:d}});case 3:t=e.sent,r=t.data,W({type:"LOAD_SCHEDULES",payload:r.schedules}),y(r.hasMore),u(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),Ie(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),[M,d]),J=Object(n.useCallback)((function(){V&&K()}),[V]);Object(n.useEffect)((function(){W({type:"RESET"}),p(1)}),[M]),Object(n.useEffect)((function(){u(!0);var e=setTimeout((function(){Z()}),500);return function(){return clearTimeout(e)}}),[M,d,V,Z,J]),Object(n.useEffect)((function(){J();var e=We({companyId:r.companyId});return e.on("user",(function(e){"update"!==e.action&&"create"!==e.action||W({type:"UPDATE_SCHEDULES",payload:e.schedules}),"delete"===e.action&&W({type:"DELETE_USER",payload:+e.scheduleId})})),function(){e.disconnect()}}),[J,r]);var K=function(){O(null),B(!0)},X=function(){var e=Object(A.a)(uf().mark((function e(t){return uf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ge.delete("/schedules/".concat(t));case 3:f.b.success(Ne.a.t("schedules.toasts.deleted")),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),Ie(e.t0);case 9:return S(null),F(""),p(1),W({type:"RESET"}),p(1),e.next=16,Z();case 16:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(cc,null,a.a.createElement(ua,{title:k&&"".concat(Ne.a.t("schedules.confirmationModal.deleteTitle")),open:C,onClose:_,onConfirm:function(){return X(k.id)}},Ne.a.t("schedules.confirmationModal.deleteMessage")),a.a.createElement(hi,{open:Y,onClose:function(){O(null),B(!1)},reload:Z,"aria-labelledby":"form-dialog-title",scheduleId:x&&x.id,contactId:V,cleanContact:function(){Q("")}}),a.a.createElement(uc,null,a.a.createElement(hc,null,Ne.a.t("schedules.title")),a.a.createElement(fc,null,a.a.createElement(Rt.a,{placeholder:Ne.a.t("contacts.searchPlaceholder"),type:"search",value:M,onChange:function(e){F(e.target.value.toLowerCase())},InputProps:{startAdornment:a.a.createElement(Vi.a,{position:"start"},a.a.createElement(On.a,{style:{color:"gray"}}))}}),a.a.createElement(mt.a,{variant:"contained",color:"primary",onClick:K},Ne.a.t("schedules.buttons.add")))),a.a.createElement(ar.a,{className:t.mainPaper,variant:"outlined",onScroll:function(e){if(g&&!c){var t=e.currentTarget,r=t.scrollTop;t.scrollHeight-(r+100)<t.clientHeight&&p((function(e){return e+1}))}}},a.a.createElement(Xr.a,{size:"small"},a.a.createElement(rn.a,null,a.a.createElement(nn.a,null,a.a.createElement(en.a,{align:"center"},Ne.a.t("schedules.table.contact")),a.a.createElement(en.a,{align:"center"},Ne.a.t("schedules.table.body")),a.a.createElement(en.a,{align:"center"},Ne.a.t("schedules.table.sendAt")),a.a.createElement(en.a,{align:"center"},Ne.a.t("schedules.table.status")),a.a.createElement(en.a,{align:"center"},Ne.a.t("schedules.table.actions")))),a.a.createElement($r.a,null,a.a.createElement(a.a.Fragment,null,D.map((function(e){return a.a.createElement(nn.a,{key:e.id},a.a.createElement(en.a,{align:"center"},e.contact.name),a.a.createElement(en.a,{align:"center",title:e.body},(t=e.body,r=25,t.length>r?t.substring(0,r)+"...":t)),a.a.createElement(en.a,{align:"center"},Ve()(e.sendAt).format("DD/MM/YYYY HH:mm:ss")),a.a.createElement(en.a,{align:"center"},Object(_e.capitalize)(e.status)),a.a.createElement(en.a,{align:"center"},a.a.createElement(b.a,{size:"small",onClick:function(){return function(e){O(e),B(!0)}(e)}},a.a.createElement(_u.a,null)),a.a.createElement(b.a,{size:"small",onClick:function(t){_(!0),S(e)}},a.a.createElement(Fn.a,null))));var t,r})),c&&a.a.createElement(pc,{columns:4}))))))},df=r(661),pf=r.n(df),mf=r(660),vf=r.n(mf),gf=r(659),yf=r.n(gf);function bf(){bf=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var f={};function h(){}function d(){}function p(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(m=g);var y=p.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Ef=Object(m.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:ft.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}})),wf=Ft.b().shape({name:Ft.c().min(2,"Too Short!").max(50,"Too Long!").required("Required")}),xf=function(e){var t=e.open,r=e.onClose,o=e.campaignId,i=e.initialValues,c=e.onSave,u=e.resetPagination,s=Ef(),d=Object(n.useRef)(!0),p=Object(n.useContext)(Je).user.companyId,m={name:"",message1:"",message2:"",message3:"",message4:"",message5:"",confirmationMessage1:"",confirmationMessage2:"",confirmationMessage3:"",confirmationMessage4:"",confirmationMessage5:"",status:"INATIVA",confirmation:!1,scheduledAt:"",whatsappId:"",contactListId:"",companyId:p},v=Object(n.useState)(m),g=Object(l.a)(v,2),y=g[0],E=g[1],w=Object(n.useState)([]),x=Object(l.a)(w,2),O=x[0],j=x[1],L=Object(n.useState)([]),S=Object(l.a)(L,2),N=S[0],T=S[1],C=Object(n.useState)(0),_=Object(l.a)(C,2),I=_[0],P=_[1],M=Object(n.useState)(null),F=Object(l.a)(M,2),G=F[0],R=F[1],D=Object(n.useState)(!1),W=Object(l.a)(D,2),q=W[0],z=W[1],Y=Object(n.useState)(!0),B=Object(l.a)(Y,2),H=B[0],U=B[1],V=Object(n.useRef)(null);Object(n.useEffect)((function(){return function(){d.current=!1}}),[]),Object(n.useEffect)((function(){if(d.current){if(i&&E((function(e){return Object(h.a)(Object(h.a)({},e),i)})),Ge.get("/contact-lists/list",{params:{companyId:p}}).then((function(e){var t=e.data;return T(t)})),Ge.get("/whatsapp",{params:{companyId:p,session:0}}).then((function(e){var t=e.data;return j(t)})),!o)return;Ge.get("/campaigns/".concat(o)).then((function(e){var t=e.data;E((function(e){var r=Object.assign({},e);return Object.entries(t).forEach((function(e){var t=Object(l.a)(e,2),n=t[0],a=t[1];r[n]="scheduledAt"===n&&""!==a&&null!==a?Ve()(a).format("YYYY-MM-DDTHH:mm"):null===a?"":a})),r}))}))}}),[o,t,i,p]),Object(n.useEffect)((function(){var e=Ve()(),t=Ve()(y.scheduledAt),r=!Number.isNaN(t.diff(e))&&t.diff(e,"hour")>1,n="INATIVA"===y.status||"PROGRAMADA"===y.status&&r;U(n)}),[y.status,y.scheduledAt]);var Q=function(){r(),E(m)},Z=function(){var e=Object(A.a)(bf().mark((function e(t){var r,n,a,i,u;return bf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r={},Object.entries(t).forEach((function(e){var t=Object(l.a)(e,2),n=t[0],a=t[1];r[n]="scheduledAt"===n&&""!==a&&null!==a?Ve()(a).format("YYYY-MM-DD HH:mm:ss"):""===a?null:a})),!o){e.next=14;break}return e.next=6,Ge.put("/campaigns/".concat(o),r);case 6:if(null==G){e.next=11;break}return(n=new FormData).append("file",G),e.next=11,Ge.post("/campaigns/".concat(o,"/media-upload"),n);case 11:Q(),e.next=25;break;case 14:return e.next=16,Ge.post("/campaigns",r);case 16:if(a=e.sent,i=a.data,null==G){e.next=23;break}return(u=new FormData).append("file",G),e.next=23,Ge.post("/campaigns/".concat(i.id,"/media-upload"),u);case 23:c&&c(i),Q();case 25:f.b.success(Ne.a.t("campaigns.toasts.success")),e.next=32;break;case 28:e.prev=28,e.t0=e.catch(0),console.log(e.t0),Ie(e.t0);case 32:case"end":return e.stop()}}),e,null,[[0,28]])})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(A.a)(bf().mark((function e(){return bf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(G&&(R(null),V.current.value=null),!y.mediaPath){e.next=6;break}return e.next=4,Ge.delete("/campaigns/".concat(y.id,"/media-upload"));case 4:E((function(e){return Object(h.a)(Object(h.a)({},e),{},{mediaPath:null,mediaName:null})})),f.b.success(Ne.a.t("campaigns.toasts.deleted"));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(e){return a.a.createElement(Gt.b,{as:Rt.a,id:e,name:e,fullWidth:!0,rows:5,label:Ne.a.t("campaigns.dialog.form.".concat(e)),placeholder:Ne.a.t("campaigns.dialog.form.messagePlaceholder"),multiline:!0,variant:"outlined",helperText:"Utilize vari\xe1veis como {nome}, {numero}, {email} ou defina vari\xe1veis personalziadas.",disabled:!H&&"CANCELADA"!==y.status})},X=function(e){return a.a.createElement(Gt.b,{as:Rt.a,id:e,name:e,fullWidth:!0,rows:5,label:Ne.a.t("campaigns.dialog.form.".concat(e)),placeholder:Ne.a.t("campaigns.dialog.form.messagePlaceholder"),multiline:!0,variant:"outlined",disabled:!H&&"CANCELADA"!==y.status})},$=function(){var e=Object(A.a)(bf().mark((function e(){return bf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ge.post("/campaigns/".concat(y.id,"/cancel"));case 3:f.b.success(Ne.a.t("campaigns.toasts.cancel")),E((function(e){return Object(h.a)(Object(h.a)({},e),{},{status:"CANCELADA"})})),u(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),f.b.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=Object(A.a)(bf().mark((function e(){return bf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ge.post("/campaigns/".concat(y.id,"/restart"));case 3:f.b.success(Ne.a.t("campaigns.toasts.restart")),E((function(e){return Object(h.a)(Object(h.a)({},e),{},{status:"EM_ANDAMENTO"})})),u(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),f.b.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return a.a.createElement("div",{className:s.root},a.a.createElement(ua,{title:Ne.a.t("campaigns.confirmationModal.deleteTitle"),open:q,onClose:function(){return z(!1)},onConfirm:J},Ne.a.t("campaigns.confirmationModal.deleteMessage")),a.a.createElement(Dt.a,{open:t,onClose:Q,fullWidth:!0,maxWidth:"md",scroll:"paper"},a.a.createElement(zt.a,{id:"form-dialog-title"},H?a.a.createElement(a.a.Fragment,null,"".concat(o?Ne.a.t("campaigns.dialog.update"):Ne.a.t("campaigns.dialog.new"))):a.a.createElement(a.a.Fragment,null,"".concat(Ne.a.t("campaigns.dialog.readonly")))),a.a.createElement("div",{style:{display:"none"}},a.a.createElement("input",{type:"file",ref:V,onChange:function(e){return function(e){var t=Object(_e.head)(e.target.files);t&&R(t)}(e)}})),a.a.createElement(Gt.e,{initialValues:y,enableReinitialize:!0,validationSchema:wf,onSubmit:function(e,t){setTimeout((function(){Z(e),t.setSubmitting(!1)}),400)}},(function(e){var t=e.values,r=e.errors,n=e.touched,i=e.isSubmitting;return a.a.createElement(Gt.d,null,a.a.createElement(qt.a,{dividers:!0},a.a.createElement(Or.a,{spacing:2,container:!0},a.a.createElement(Or.a,{xs:12,md:9,item:!0},a.a.createElement(Gt.b,{as:Rt.a,label:Ne.a.t("campaigns.dialog.form.name"),name:"name",error:n.name&&Boolean(r.name),helperText:n.name&&r.name,variant:"outlined",margin:"dense",fullWidth:!0,className:s.textField,disabled:!H})),a.a.createElement(Or.a,{xs:12,md:3,item:!0},a.a.createElement(Ht.a,{variant:"outlined",margin:"dense",fullWidth:!0,className:s.formControl},a.a.createElement(Bt.a,{id:"confirmation-selection-label"},Ne.a.t("campaigns.dialog.form.confirmation")),a.a.createElement(Gt.b,{as:Yt.a,label:Ne.a.t("campaigns.dialog.form.confirmation"),placeholder:Ne.a.t("campaigns.dialog.form.confirmation"),labelId:"confirmation-selection-label",id:"confirmation",name:"confirmation",error:n.confirmation&&Boolean(r.confirmation),disabled:!H},a.a.createElement(k.a,{value:!1},"Desabilitada"),a.a.createElement(k.a,{value:!0},"Habilitada")))),a.a.createElement(Or.a,{xs:12,md:4,item:!0},a.a.createElement(Ht.a,{variant:"outlined",margin:"dense",fullWidth:!0,className:s.formControl},a.a.createElement(Bt.a,{id:"contactList-selection-label"},Ne.a.t("campaigns.dialog.form.contactList")),a.a.createElement(Gt.b,{as:Yt.a,label:Ne.a.t("campaigns.dialog.form.contactList"),placeholder:Ne.a.t("campaigns.dialog.form.contactList"),labelId:"contactList-selection-label",id:"contactListId",name:"contactListId",error:n.contactListId&&Boolean(r.contactListId),disabled:!H},a.a.createElement(k.a,{value:""},"Nenhuma"),N&&N.map((function(e){return a.a.createElement(k.a,{key:e.id,value:e.id},e.name)}))))),a.a.createElement(Or.a,{xs:12,md:4,item:!0},a.a.createElement(Ht.a,{variant:"outlined",margin:"dense",fullWidth:!0,className:s.formControl},a.a.createElement(Bt.a,{id:"whatsapp-selection-label"},Ne.a.t("campaigns.dialog.form.whatsapp")),a.a.createElement(Gt.b,{as:Yt.a,label:Ne.a.t("campaigns.dialog.form.whatsapp"),placeholder:Ne.a.t("campaigns.dialog.form.whatsapp"),labelId:"whatsapp-selection-label",id:"whatsappId",name:"whatsappId",error:n.whatsappId&&Boolean(r.whatsappId),disabled:!H},a.a.createElement(k.a,{value:""},"Nenhuma"),O&&O.map((function(e){return a.a.createElement(k.a,{key:e.id,value:e.id},e.name)}))))),a.a.createElement(Or.a,{xs:12,md:4,item:!0},a.a.createElement(Gt.b,{as:Rt.a,label:Ne.a.t("campaigns.dialog.form.scheduledAt"),name:"scheduledAt",error:n.scheduledAt&&Boolean(r.scheduledAt),helperText:n.scheduledAt&&r.scheduledAt,variant:"outlined",margin:"dense",type:"datetime-local",InputLabelProps:{shrink:!0},fullWidth:!0,className:s.textField,disabled:!H})),a.a.createElement(Or.a,{xs:12,item:!0},a.a.createElement(Ln.a,{value:I,indicatorColor:"primary",textColor:"primary",onChange:function(e,t){return P(t)},variant:"fullWidth",centered:!0,style:{background:"#f2f2f2",border:"1px solid #e6e6e6",borderRadius:2}},a.a.createElement(kn.a,{label:"Msg. 1",index:0}),a.a.createElement(kn.a,{label:"Msg. 2",index:1}),a.a.createElement(kn.a,{label:"Msg. 3",index:2}),a.a.createElement(kn.a,{label:"Msg. 4",index:3}),a.a.createElement(kn.a,{label:"Msg. 5",index:4})),a.a.createElement(Hn.a,{style:{paddingTop:20,border:"none"}},0===I&&a.a.createElement(a.a.Fragment,null,t.confirmation?a.a.createElement(Or.a,{spacing:2,container:!0},a.a.createElement(Or.a,{xs:12,md:8,item:!0},a.a.createElement(a.a.Fragment,null,K("message1"))),a.a.createElement(Or.a,{xs:12,md:4,item:!0},a.a.createElement(a.a.Fragment,null,X("confirmationMessage1")))):a.a.createElement(a.a.Fragment,null,K("message1"))),1===I&&a.a.createElement(a.a.Fragment,null,t.confirmation?a.a.createElement(Or.a,{spacing:2,container:!0},a.a.createElement(Or.a,{xs:12,md:8,item:!0},a.a.createElement(a.a.Fragment,null,K("message2"))),a.a.createElement(Or.a,{xs:12,md:4,item:!0},a.a.createElement(a.a.Fragment,null,X("confirmationMessage2")))):a.a.createElement(a.a.Fragment,null,K("message2"))),2===I&&a.a.createElement(a.a.Fragment,null,t.confirmation?a.a.createElement(Or.a,{spacing:2,container:!0},a.a.createElement(Or.a,{xs:12,md:8,item:!0},a.a.createElement(a.a.Fragment,null,K("message3"))),a.a.createElement(Or.a,{xs:12,md:4,item:!0},a.a.createElement(a.a.Fragment,null,X("confirmationMessage3")))):a.a.createElement(a.a.Fragment,null,K("message3"))),3===I&&a.a.createElement(a.a.Fragment,null,t.confirmation?a.a.createElement(Or.a,{spacing:2,container:!0},a.a.createElement(Or.a,{xs:12,md:8,item:!0},a.a.createElement(a.a.Fragment,null,K("message4"))),a.a.createElement(Or.a,{xs:12,md:4,item:!0},a.a.createElement(a.a.Fragment,null,X("confirmationMessage4")))):a.a.createElement(a.a.Fragment,null,K("message4"))),4===I&&a.a.createElement(a.a.Fragment,null,t.confirmation?a.a.createElement(Or.a,{spacing:2,container:!0},a.a.createElement(Or.a,{xs:12,md:8,item:!0},a.a.createElement(a.a.Fragment,null,K("message5"))),a.a.createElement(Or.a,{xs:12,md:4,item:!0},a.a.createElement(a.a.Fragment,null,X("confirmationMessage5")))):a.a.createElement(a.a.Fragment,null,K("message5"))))),(y.mediaPath||G)&&a.a.createElement(Or.a,{xs:12,item:!0},a.a.createElement(mt.a,{startIcon:a.a.createElement(jo.a,null)},null!=G?G.name:y.mediaName),H&&a.a.createElement(b.a,{onClick:function(){return z(!0)},color:"secondary"},a.a.createElement(Fn.a,null))))),a.a.createElement(Wt.a,null,"CANCELADA"===y.status&&a.a.createElement(mt.a,{color:"primary",onClick:function(){return ee()},variant:"outlined"},Ne.a.t("campaigns.dialog.buttons.restart")),"EM_ANDAMENTO"===y.status&&a.a.createElement(mt.a,{color:"primary",onClick:function(){return $()},variant:"outlined"},Ne.a.t("campaigns.dialog.buttons.cancel")),!G&&!y.mediaPath&&H&&a.a.createElement(mt.a,{color:"primary",onClick:function(){return V.current.click()},disabled:i,variant:"outlined"},Ne.a.t("campaigns.dialog.buttons.attach")),a.a.createElement(mt.a,{onClick:Q,color:"secondary",disabled:i,variant:"outlined"},Ne.a.t("campaigns.dialog.buttons.close")),(H||"CANCELADA"===y.status)&&a.a.createElement(mt.a,{type:"submit",color:"primary",disabled:i,variant:"contained",className:s.btnWrapper},"".concat(o?Ne.a.t("campaigns.dialog.buttons.edit"):Ne.a.t("campaigns.dialog.buttons.add")),i&&a.a.createElement(vt.a,{size:24,className:s.buttonProgress}))))}))))};function Of(){Of=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var f={};function h(){}function d(){}function p(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(m=g);var y=p.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var jf=function(e,t){if("LOAD_CAMPAIGNS"===t.type){var r=t.payload,n=[];return Object(_e.isArray)(r)&&r.forEach((function(t){var r=e.findIndex((function(e){return e.id===t.id}));-1!==r?e[r]=t:n.push(t)})),[].concat(Object(M.a)(e),n)}if("UPDATE_CAMPAIGNS"===t.type){var a=t.payload,o=e.findIndex((function(e){return e.id===a.id}));return-1!==o?(e[o]=a,Object(M.a)(e)):[a].concat(Object(M.a)(e))}if("DELETE_CAMPAIGN"===t.type){var i=t.payload,c=e.findIndex((function(e){return e.id===i}));return-1!==c&&e.splice(c,1),Object(M.a)(e)}if("RESET"===t.type)return[]},Lf=Object(m.a)((function(e){return{mainPaper:Object(h.a)({flex:1,padding:e.spacing(1),overflowY:"scroll"},e.scrollbarStyles)}})),kf=function(){var e=Lf(),t=Object(s.g)(),r=Object(n.useState)(!1),o=Object(l.a)(r,2),i=o[0],c=o[1],u=Object(n.useState)(1),h=Object(l.a)(u,2),d=h[0],p=h[1],m=Object(n.useState)(!1),v=Object(l.a)(m,2),g=v[0],y=v[1],E=Object(n.useState)(null),w=Object(l.a)(E,2),x=w[0],O=w[1],j=Object(n.useState)(null),L=Object(l.a)(j,2),k=L[0],S=L[1],N=Object(n.useState)(!1),T=Object(l.a)(N,2),C=T[0],_=T[1],I=Object(n.useState)(!1),P=Object(l.a)(I,2),M=P[0],F=P[1],G=Object(n.useState)(""),R=Object(l.a)(G,2),D=R[0],W=R[1],q=Object(n.useReducer)(jf,[]),z=Object(l.a)(q,2),Y=z[0],B=z[1],H=hr().datetimeToClient;Object(n.useEffect)((function(){B({type:"RESET"}),p(1)}),[D]),Object(n.useEffect)((function(){c(!0);var e=setTimeout((function(){U()}),500);return function(){return clearTimeout(e)}}),[D,d]),Object(n.useEffect)((function(){var e=localStorage.getItem("companyId"),t=We({companyId:e});return t.on("company-".concat(e,"-campaign"),(function(e){"update"!==e.action&&"create"!==e.action||B({type:"UPDATE_CAMPAIGNS",payload:e.record}),"delete"===e.action&&B({type:"DELETE_CAMPAIGN",payload:+e.id})})),function(){t.disconnect()}}),[]);var U=function(){var e=Object(A.a)(Of().mark((function e(){var t,r;return Of().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ge.get("/campaigns/",{params:{searchParam:D,pageNumber:d}});case 3:t=e.sent,r=t.data,B({type:"LOAD_CAMPAIGNS",payload:r.records}),y(r.hasMore),c(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),Ie(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(A.a)(Of().mark((function e(t){return Of().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ge.delete("/campaigns/".concat(t));case 3:f.b.success(Ne.a.t("campaigns.toasts.deleted")),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),Ie(e.t0);case 9:S(null),W(""),p(1);case 12:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(A.a)(Of().mark((function e(t){return Of().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ge.post("/campaigns/".concat(t.id,"/cancel"));case 3:f.b.success(Ne.a.t("campaigns.toasts.cancel")),p(1),U(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),f.b.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(A.a)(Of().mark((function e(t){return Of().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ge.post("/campaigns/".concat(t.id,"/restart"));case 3:f.b.success(Ne.a.t("campaigns.toasts.restart")),p(1),U(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),f.b.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(cc,null,a.a.createElement(ua,{title:k&&"".concat(Ne.a.t("campaigns.confirmationModal.deleteTitle")," ").concat(k.name,"?"),open:M,onClose:F,onConfirm:function(){return V(k.id)}},Ne.a.t("campaigns.confirmationModal.deleteMessage")),a.a.createElement(xf,{resetPagination:function(){p(1),U()},open:C,onClose:function(){O(null),_(!1)},"aria-labelledby":"form-dialog-title",campaignId:x&&x.id}),a.a.createElement(uc,null,a.a.createElement(Or.a,{style:{width:"99.6%"},container:!0},a.a.createElement(Or.a,{xs:12,sm:8,item:!0},a.a.createElement(hc,null,Ne.a.t("campaigns.title"))),a.a.createElement(Or.a,{xs:12,sm:4,item:!0},a.a.createElement(Or.a,{spacing:2,container:!0},a.a.createElement(Or.a,{xs:6,sm:6,item:!0},a.a.createElement(Rt.a,{fullWidth:!0,placeholder:Ne.a.t("campaigns.searchPlaceholder"),type:"search",value:D,onChange:function(e){W(e.target.value.toLowerCase())},InputProps:{startAdornment:a.a.createElement(Vi.a,{position:"start"},a.a.createElement(On.a,{style:{color:"gray"}}))}})),a.a.createElement(Or.a,{xs:6,sm:6,item:!0},a.a.createElement(mt.a,{fullWidth:!0,variant:"contained",onClick:function(){O(null),_(!0)},color:"primary"},Ne.a.t("campaigns.buttons.add"))))))),a.a.createElement(ar.a,{className:e.mainPaper,variant:"outlined",onScroll:function(e){if(g&&!i){var t=e.currentTarget,r=t.scrollTop;t.scrollHeight-(r+100)<t.clientHeight&&p((function(e){return e+1}))}}},a.a.createElement(Xr.a,{size:"small"},a.a.createElement(rn.a,null,a.a.createElement(nn.a,null,a.a.createElement(en.a,{align:"center"},Ne.a.t("campaigns.table.name")),a.a.createElement(en.a,{align:"center"},Ne.a.t("campaigns.table.status")),a.a.createElement(en.a,{align:"center"},Ne.a.t("campaigns.table.contactList")),a.a.createElement(en.a,{align:"center"},Ne.a.t("campaigns.table.whatsapp")),a.a.createElement(en.a,{align:"center"},Ne.a.t("campaigns.table.scheduledAt")),a.a.createElement(en.a,{align:"center"},Ne.a.t("campaigns.table.completedAt")),a.a.createElement(en.a,{align:"center"},Ne.a.t("campaigns.table.confirmation")),a.a.createElement(en.a,{align:"center"},Ne.a.t("campaigns.table.actions")))),a.a.createElement($r.a,null,a.a.createElement(a.a.Fragment,null,Y.map((function(e){return a.a.createElement(nn.a,{key:e.id},a.a.createElement(en.a,{align:"center"},e.name),a.a.createElement(en.a,{align:"center"},function(e){switch(e){case"INATIVA":return"Inativa";case"PROGRAMADA":return"Programada";case"EM_ANDAMENTO":return"Em Andamento";case"CANCELADA":return"Cancelada";case"FINALIZADA":return"Finalizada";default:return e}}(e.status)),a.a.createElement(en.a,{align:"center"},e.contactListId?e.contactList.name:"N\xe3o definida"),a.a.createElement(en.a,{align:"center"},e.whatsappId?e.whatsapp.name:"N\xe3o definido"),a.a.createElement(en.a,{align:"center"},e.scheduledAt?H(e.scheduledAt):"Sem agendamento"),a.a.createElement(en.a,{align:"center"},e.completedAt?H(e.completedAt):"N\xe3o conclu\xedda"),a.a.createElement(en.a,{align:"center"},e.confirmation?"Habilitada":"Desabilitada"),a.a.createElement(en.a,{align:"center"},"EM_ANDAMENTO"===e.status&&a.a.createElement(b.a,{onClick:function(){return Q(e)},title:"Parar Campanha",size:"small"},a.a.createElement(yf.a,null)),"CANCELADA"===e.status&&a.a.createElement(b.a,{onClick:function(){return Z(e)},title:"Parar Campanha",size:"small"},a.a.createElement(vf.a,null)),a.a.createElement(b.a,{onClick:function(){return t.push("/campaign/".concat(e.id,"/report"))},size:"small"},a.a.createElement(pf.a,null)),a.a.createElement(b.a,{size:"small",onClick:function(){return function(e){O(e),_(!0)}(e)}},a.a.createElement(_u.a,null)),a.a.createElement(b.a,{size:"small",onClick:function(t){F(!0),S(e)}},a.a.createElement(Fn.a,null))))})),i&&a.a.createElement(pc,{columns:8}))))))};function Sf(){Sf=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var f={};function h(){}function d(){}function p(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(m=g);var y=p.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Nf=Object(m.a)((function(e){return{mainPaper:Object(h.a)({flex:1,padding:e.spacing(1),overflowY:"scroll"},e.scrollbarStyles),textRight:{textAlign:"right"},tabPanelsContainer:{padding:e.spacing(2)}}})),Tf={messageInterval:20,longerIntervalAfter:20,greaterInterval:60,variables:[]},Cf=function(){var e=Nf(),t=Object(n.useState)(Tf),r=Object(l.a)(t,2),o=r[0],i=r[1],c=Object(n.useState)(!1),u=Object(l.a)(c,2),s=u[0],d=u[1],p=Object(n.useState)(!1),m=Object(l.a)(p,2),v=m[0],g=m[1],y=Object(n.useState)(null),E=Object(l.a)(y,2),w=E[0],x=E[1],O=Object(n.useState)({key:"",value:""}),L=Object(l.a)(O,2),S=L[0],N=L[1];Object(n.useEffect)((function(){Ge.get("/campaign-settings").then((function(e){var t=e.data,r=[];Array.isArray(t)&&t.length>0&&(t.forEach((function(e){r.push([e.key,JSON.parse(e.value)])})),i(Object.fromEntries(r)))}))}),[]);var T=function(e){if(null!==e.target.value){var t={};t[e.target.name]=e.target.value,N((function(e){return Object(h.a)(Object(h.a)({},e),t)}))}},C=function(e){var t={};t[e.target.name]=e.target.value,i((function(e){return Object(h.a)(Object(h.a)({},e),t)}))},_=function(){var e=Object(A.a)(Sf().mark((function e(){return Sf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ge.post("/campaign-settings",{settings:o});case 2:f.b.success("Configura\xe7\xf5es salvas");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a.a.createElement(cc,null,a.a.createElement(ua,{title:Ne.a.t("campaigns.confirmationModal.deleteTitle"),open:v,onClose:function(){return g(!1)},onConfirm:function(){var e=o.variables.filter((function(e){return e.key!==w}));i((function(t){return Object(h.a)(Object(h.a)({},t),{},{variables:e})})),x(null)}},Ne.a.t("campaigns.confirmationModal.deleteMessage")),a.a.createElement(uc,null,a.a.createElement(Or.a,{style:{width:"99.6%"},container:!0},a.a.createElement(Or.a,{xs:12,item:!0},a.a.createElement(hc,null,Ne.a.t("campaignsConfig.title"))))),a.a.createElement(ar.a,{className:e.mainPaper,variant:"outlined"},a.a.createElement(Hn.a,{className:e.tabPanelsContainer},a.a.createElement(Or.a,{spacing:2,container:!0},a.a.createElement(Or.a,{xs:12,item:!0},a.a.createElement(j.a,{component:"h3"},"Intervalos")),a.a.createElement(Or.a,{xs:12,md:4,item:!0},a.a.createElement(Ht.a,{variant:"outlined",className:e.formControl,fullWidth:!0},a.a.createElement(Bt.a,{id:"messageInterval-label"},"Intervalo Rand\xf4mico de Disparo"),a.a.createElement(Yt.a,{name:"messageInterval",id:"messageInterval",labelId:"messageInterval-label",label:"Intervalo Rand\xf4mico de Disparo",value:o.messageInterval,onChange:function(e){return C(e)}},a.a.createElement(k.a,{value:0},"Sem Intervalo"),a.a.createElement(k.a,{value:5},"5 segundos"),a.a.createElement(k.a,{value:10},"10 segundos"),a.a.createElement(k.a,{value:15},"15 segundos"),a.a.createElement(k.a,{value:20},"20 segundos")))),a.a.createElement(Or.a,{xs:12,md:4,item:!0},a.a.createElement(Ht.a,{variant:"outlined",className:e.formControl,fullWidth:!0},a.a.createElement(Bt.a,{id:"longerIntervalAfter-label"},"Intervalo Maior Ap\xf3s"),a.a.createElement(Yt.a,{name:"longerIntervalAfter",id:"longerIntervalAfter",labelId:"longerIntervalAfter-label",label:"Intervalo Maior Ap\xf3s",value:o.longerIntervalAfter,onChange:function(e){return C(e)}},a.a.createElement(k.a,{value:0},"N\xe3o definido"),a.a.createElement(k.a,{value:5},"5 mensagens"),a.a.createElement(k.a,{value:10},"10 mensagens"),a.a.createElement(k.a,{value:15},"15 mensagens"),a.a.createElement(k.a,{value:20},"20 mensagens")))),a.a.createElement(Or.a,{xs:12,md:4,item:!0},a.a.createElement(Ht.a,{variant:"outlined",className:e.formControl,fullWidth:!0},a.a.createElement(Bt.a,{id:"greaterInterval-label"},"Intervalo de Disparo Maior"),a.a.createElement(Yt.a,{name:"greaterInterval",id:"greaterInterval",labelId:"greaterInterval-label",label:"Intervalo de Disparo Maior",value:o.greaterInterval,onChange:function(e){return C(e)}},a.a.createElement(k.a,{value:0},"Sem Intervalo"),a.a.createElement(k.a,{value:20},"20 segundos"),a.a.createElement(k.a,{value:30},"30 segundos"),a.a.createElement(k.a,{value:40},"40 segundos"),a.a.createElement(k.a,{value:50},"50 segundos"),a.a.createElement(k.a,{value:60},"60 segundos")))),a.a.createElement(Or.a,{xs:12,className:e.textRight,item:!0},a.a.createElement(mt.a,{onClick:function(){return d(!s)},color:"primary",style:{marginRight:10}},"Adicionar Vari\xe1vel"),a.a.createElement(mt.a,{onClick:_,color:"primary",variant:"contained"},"Salvar Configura\xe7\xf5es")),s&&a.a.createElement(a.a.Fragment,null,a.a.createElement(Or.a,{xs:12,md:6,item:!0},a.a.createElement(Rt.a,{label:"Atalho",variant:"outlined",value:S.key,name:"key",onChange:T,fullWidth:!0})),a.a.createElement(Or.a,{xs:12,md:6,item:!0},a.a.createElement(Rt.a,{label:"Conte\xfado",variant:"outlined",value:S.value,name:"value",onChange:T,fullWidth:!0})),a.a.createElement(Or.a,{xs:12,className:e.textRight,item:!0},a.a.createElement(mt.a,{onClick:function(){return d(!s)},color:"primary",style:{marginRight:10}},"Fechar"),a.a.createElement(mt.a,{onClick:function(){i((function(e){var t=o.variables.filter((function(e){return e.key===S.key})),r=e.variables;return 0===t.length&&(r.push(Object.assign({},S)),N({key:"",value:""})),Object(h.a)(Object(h.a)({},e),{},{variables:r})}))},color:"primary",variant:"contained"},"Adicionar"))),o.variables.length>0&&a.a.createElement(Or.a,{xs:12,className:e.textRight,item:!0},a.a.createElement(Xr.a,{size:"small"},a.a.createElement(rn.a,null,a.a.createElement(nn.a,null,a.a.createElement(en.a,{style:{width:"1%"}}),a.a.createElement(en.a,null,"Atalho"),a.a.createElement(en.a,null,"Conte\xfado"))),a.a.createElement($r.a,null,Array.isArray(o.variables)&&o.variables.map((function(e,t){return a.a.createElement(nn.a,{key:t},a.a.createElement(en.a,null,a.a.createElement(b.a,{size:"small",onClick:function(){x(e.key),g(!0)}},a.a.createElement(Fn.a,null))),a.a.createElement(en.a,null,"{"+e.key+"}"),a.a.createElement(en.a,null,e.value))})))))))))},_f=r(1176),If=r(663),Af=r.n(If),Pf=r(662),Mf=r.n(Pf);function Ff(){Ff=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var f={};function h(){}function d(){}function p(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(m=g);var y=p.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Gf=Object(m.a)((function(e){return{mainPaper:Object(h.a)({flex:1,padding:e.spacing(2),overflowY:"scroll"},e.scrollbarStyles),textRight:{textAlign:"right"},tabPanelsContainer:{padding:e.spacing(2)}}})),Rf=function(){var e=Gf(),t=Object(s.h)().campaignId,r=Object(n.useState)({}),o=Object(l.a)(r,2),i=o[0],c=o[1],u=Object(n.useState)(0),f=Object(l.a)(u,2),h=f[0],d=f[1],p=Object(n.useState)(0),m=Object(l.a)(p,2),v=m[0],g=m[1],y=Object(n.useState)(0),b=Object(l.a)(y,2),E=b[0],w=b[1],x=Object(n.useState)(0),O=Object(l.a)(x,2),L=O[0],k=O[1],S=Object(n.useState)(0),N=Object(l.a)(S,2),T=N[0],C=N[1],_=Object(n.useState)(!1),I=Object(l.a)(_,2),P=I[0],M=I[1],F=Object(n.useRef)(!0),G=hr().datetimeToClient;Object(n.useEffect)((function(){return F.current&&R(),function(){F.current=!1}}),[]),Object(n.useEffect)((function(){if(F.current&&Object(_e.has)(i,"shipping")){if(Object(_e.has)(i,"contactList")){var e=Object(_e.get)(i,"contactList").contacts.filter((function(e){return e.isWhatsappValid}));d(e.length)}if(Object(_e.has)(i,"shipping")){var t=Object(_e.get)(i,"shipping"),r=t.filter((function(e){return!Object(_e.isNull)(e.deliveredAt)})),n=t.filter((function(e){return!Object(_e.isNull)(e.confirmationRequestedAt)})),a=t.filter((function(e){return!Object(_e.isNull)(e.deliveredAt)&&!Object(_e.isNull)(e.confirmationRequestedAt)}));g(r.length),w(n.length),k(a.length),g(r.length)}}}),[i]),Object(n.useEffect)((function(){C(v/h*100)}),[v,h]),Object(n.useEffect)((function(){var e=localStorage.getItem("companyId"),r=We({companyId:e});return r.on("company-".concat(e,"-campaign"),(function(e){console.log(e),e.record.id===+t&&(c(e.record),"FINALIZADA"===e.record.status&&setTimeout((function(){R()}),5e3))})),function(){r.disconnect()}}),[t]);var R=function(){var e=Object(A.a)(Ff().mark((function e(){var r,n;return Ff().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M(!0),e.next=3,Ge.get("/campaigns/".concat(t));case 3:r=e.sent,n=r.data,c(n),M(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a.a.createElement(cc,null,a.a.createElement(uc,null,a.a.createElement(Or.a,{style:{width:"99.6%"},container:!0},a.a.createElement(Or.a,{xs:12,item:!0},a.a.createElement(hc,null,"Relat\xf3rio da ",i.name||"Campanha")))),a.a.createElement(ar.a,{className:e.mainPaper,variant:"outlined"},a.a.createElement(j.a,{variant:"h6",component:"h2"},"Status: ",function(e){switch(e){case"INATIVA":return"Inativa";case"PROGRAMADA":return"Programada";case"EM_ANDAMENTO":return"Em Andamento";case"CANCELADA":return"Cancelada";case"FINALIZADA":return"Finalizada";default:return e}}(i.status)," ",v," de ",h),a.a.createElement(Or.a,{spacing:2,container:!0},a.a.createElement(Or.a,{xs:12,item:!0},a.a.createElement(_f.a,{variant:"determinate",style:{height:15,borderRadius:3,margin:"20px 0"},value:T})),a.a.createElement(Or.a,{xs:12,md:4,item:!0},a.a.createElement(Kr,{icon:a.a.createElement(Nr.a,{fontSize:"inherit"}),title:"Contatos V\xe1lidos",value:h,loading:P})),i.confirmation&&a.a.createElement(a.a.Fragment,null,a.a.createElement(Or.a,{xs:12,md:4,item:!0},a.a.createElement(Kr,{icon:a.a.createElement(_a.a,{fontSize:"inherit"}),title:"Confirma\xe7\xf5es Solicitadas",value:E,loading:P})),a.a.createElement(Or.a,{xs:12,md:4,item:!0},a.a.createElement(Kr,{icon:a.a.createElement(Mf.a,{fontSize:"inherit"}),title:"Confirma\xe7\xf5es",value:L,loading:P}))),a.a.createElement(Or.a,{xs:12,md:4,item:!0},a.a.createElement(Kr,{icon:a.a.createElement(cn.a,{fontSize:"inherit"}),title:"Entregues",value:v,loading:P})),i.whatsappId&&a.a.createElement(Or.a,{xs:12,md:4,item:!0},a.a.createElement(Kr,{icon:a.a.createElement(H.a,{fontSize:"inherit"}),title:"Conex\xe3o",value:i.whatsapp.name,loading:P})),i.contactListId&&a.a.createElement(Or.a,{xs:12,md:4,item:!0},a.a.createElement(Kr,{icon:a.a.createElement(we.a,{fontSize:"inherit"}),title:"Lista de Contatos",value:i.contactList.name,loading:P})),a.a.createElement(Or.a,{xs:12,md:4,item:!0},a.a.createElement(Kr,{icon:a.a.createElement(Af.a,{fontSize:"inherit"}),title:"Agendamento",value:G(i.scheduledAt),loading:P})),a.a.createElement(Or.a,{xs:12,md:4,item:!0},a.a.createElement(Kr,{icon:a.a.createElement(de.a,{fontSize:"inherit"}),title:"Conclus\xe3o",value:G(i.completedAt),loading:P})))))};function Df(){Df=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var f={};function h(){}function d(){}function p(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(m=g);var y=p.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Wf=Object(m.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},multFieldLine:{display:"flex","& > *:not(:last-child)":{marginRight:e.spacing(1)}},btnWrapper:{position:"relative"},buttonProgress:{color:ft.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},formControl:{margin:e.spacing(1),minWidth:120},colorAdorment:{width:20,height:20}}})),qf=Ft.b().shape({title:Ft.c().required("Obrigat\xf3rio"),text:Ft.c().required("Obrigat\xf3rio")}),zf=function(e){var t=e.open,r=e.onClose,o=e.announcementId,i=e.reload,c=Wf(),u={title:"",text:"",priority:3,status:!0},s=Object(n.useState)(!1),d=Object(l.a)(s,2),p=d[0],m=d[1],v=Object(n.useState)(u),g=Object(l.a)(v,2),y=g[0],E=g[1],w=Object(n.useState)(null),x=Object(l.a)(w,2),O=x[0],j=x[1],L=Object(n.useRef)(null);Object(n.useEffect)((function(){try{Object(A.a)(Df().mark((function e(){var t,r;return Df().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Ge.get("/announcements/".concat(o));case 4:t=e.sent,r=t.data,E((function(e){return Object(h.a)(Object(h.a)({},e),r)}));case 7:case"end":return e.stop()}}),e)})))()}catch(e){Ie(e)}}),[o,t]);var S=function(){E(u),j(null),r()},N=function(){var e=Object(A.a)(Df().mark((function e(t){var r,n,a,c,l;return Df().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Object(h.a)({},t),e.prev=1,!o){e.next=12;break}return e.next=5,Ge.put("/announcements/".concat(o),r);case 5:if(null==O){e.next=10;break}return(n=new FormData).append("file",O),e.next=10,Ge.post("/announcements/".concat(o,"/media-upload"),n);case 10:e.next=21;break;case 12:return e.next=14,Ge.post("/announcements",r);case 14:if(a=e.sent,c=a.data,null==O){e.next=21;break}return(l=new FormData).append("file",O),e.next=21,Ge.post("/announcements/".concat(c.id,"/media-upload"),l);case 21:f.b.success(Ne.a.t("announcements.toasts.success")),"function"==typeof i&&i(),e.next=28;break;case 25:e.prev=25,e.t0=e.catch(1),Ie(e.t0);case 28:S();case 29:case"end":return e.stop()}}),e,null,[[1,25]])})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(A.a)(Df().mark((function e(){return Df().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O&&(j(null),L.current.value=null),!y.mediaPath){e.next=7;break}return e.next=4,Ge.delete("/announcements/".concat(y.id,"/media-upload"));case 4:E((function(e){return Object(h.a)(Object(h.a)({},e),{},{mediaPath:null})})),f.b.success(Ne.a.t("announcements.toasts.deleted")),"function"==typeof i&&i();case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a.a.createElement("div",{className:c.root},a.a.createElement(ua,{title:Ne.a.t("announcements.confirmationModal.deleteTitle"),open:p,onClose:function(){return m(!1)},onConfirm:T},Ne.a.t("announcements.confirmationModal.deleteMessage")),a.a.createElement(Dt.a,{open:t,onClose:S,maxWidth:"xs",fullWidth:!0,scroll:"paper"},a.a.createElement(zt.a,{id:"form-dialog-title"},"".concat(o?Ne.a.t("announcements.dialog.edit"):Ne.a.t("announcements.dialog.add"))),a.a.createElement("div",{style:{display:"none"}},a.a.createElement("input",{type:"file",accept:".png,.jpg,.jpeg",ref:L,onChange:function(e){return function(e){var t=Object(_e.head)(e.target.files);t&&j(t)}(e)}})),a.a.createElement(Gt.e,{initialValues:y,enableReinitialize:!0,validationSchema:qf,onSubmit:function(e,t){setTimeout((function(){N(e),t.setSubmitting(!1)}),400)}},(function(e){var t=e.touched,r=e.errors,n=e.isSubmitting;e.values;return a.a.createElement(Gt.d,null,a.a.createElement(qt.a,{dividers:!0},a.a.createElement(Or.a,{spacing:2,container:!0},a.a.createElement(Or.a,{xs:12,item:!0},a.a.createElement(Gt.b,{as:Rt.a,label:Ne.a.t("announcements.dialog.form.title"),name:"title",error:t.title&&Boolean(r.title),helperText:t.title&&r.title,variant:"outlined",margin:"dense",fullWidth:!0})),a.a.createElement(Or.a,{xs:12,item:!0},a.a.createElement(Gt.b,{as:Rt.a,label:Ne.a.t("announcements.dialog.form.text"),name:"text",error:t.text&&Boolean(r.text),helperText:t.text&&r.text,variant:"outlined",margin:"dense",multiline:!0,rows:7,fullWidth:!0})),a.a.createElement(Or.a,{xs:12,item:!0},a.a.createElement(Ht.a,{variant:"outlined",margin:"dense",fullWidth:!0},a.a.createElement(Bt.a,{id:"status-selection-label"},Ne.a.t("announcements.dialog.form.status")),a.a.createElement(Gt.b,{as:Yt.a,label:Ne.a.t("announcements.dialog.form.status"),placeholder:Ne.a.t("announcements.dialog.form.status"),labelId:"status-selection-label",id:"status",name:"status",error:t.status&&Boolean(r.status)},a.a.createElement(k.a,{value:!0},"Ativo"),a.a.createElement(k.a,{value:!1},"Inativo")))),a.a.createElement(Or.a,{xs:12,item:!0},a.a.createElement(Ht.a,{variant:"outlined",margin:"dense",fullWidth:!0},a.a.createElement(Bt.a,{id:"priority-selection-label"},Ne.a.t("announcements.dialog.form.priority")),a.a.createElement(Gt.b,{as:Yt.a,label:Ne.a.t("announcements.dialog.form.priority"),placeholder:Ne.a.t("announcements.dialog.form.priority"),labelId:"priority-selection-label",id:"priority",name:"priority",error:t.priority&&Boolean(r.priority)},a.a.createElement(k.a,{value:1},"Alta"),a.a.createElement(k.a,{value:2},"M\xe9dia"),a.a.createElement(k.a,{value:3},"Baixa")))),(y.mediaPath||O)&&a.a.createElement(Or.a,{xs:12,item:!0},a.a.createElement(mt.a,{startIcon:a.a.createElement(jo.a,null)},O?O.name:y.mediaName),a.a.createElement(b.a,{onClick:function(){return m(!0)},color:"secondary"},a.a.createElement(Fn.a,null))))),a.a.createElement(Wt.a,null,!O&&!y.mediaPath&&a.a.createElement(mt.a,{color:"primary",onClick:function(){return L.current.click()},disabled:n,variant:"outlined"},Ne.a.t("announcements.dialog.buttons.attach")),a.a.createElement(mt.a,{onClick:S,color:"secondary",disabled:n,variant:"outlined"},Ne.a.t("announcements.dialog.buttons.cancel")),a.a.createElement(mt.a,{type:"submit",color:"primary",disabled:n,variant:"contained",className:c.btnWrapper},"".concat(o?Ne.a.t("announcements.dialog.buttons.add"):Ne.a.t("announcements.dialog.buttons.edit")),n&&a.a.createElement(vt.a,{size:24,className:c.buttonProgress}))))}))))};function Yf(){Yf=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var f={};function h(){}function d(){}function p(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(m=g);var y=p.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Bf=function(e,t){if("LOAD_ANNOUNCEMENTS"===t.type){var r=t.payload,n=[];return Object(_e.isArray)(r)&&r.forEach((function(t){var r=e.findIndex((function(e){return e.id===t.id}));-1!==r?e[r]=t:n.push(t)})),[].concat(Object(M.a)(e),n)}if("UPDATE_ANNOUNCEMENTS"===t.type){var a=t.payload,o=e.findIndex((function(e){return e.id===a.id}));return-1!==o?(e[o]=a,Object(M.a)(e)):[a].concat(Object(M.a)(e))}if("DELETE_ANNOUNCEMENT"===t.type){var i=t.payload,c=e.findIndex((function(e){return e.id===i}));return-1!==c&&e.splice(c,1),Object(M.a)(e)}if("RESET"===t.type)return[]},Hf=Object(m.a)((function(e){return{mainPaper:Object(h.a)({flex:1,padding:e.spacing(1),overflowY:"scroll"},e.scrollbarStyles)}})),Uf=function(){var e=Hf(),t=Object(n.useState)(!1),r=Object(l.a)(t,2),o=r[0],i=r[1],c=Object(n.useState)(1),u=Object(l.a)(c,2),s=u[0],h=u[1],d=Object(n.useState)(!1),p=Object(l.a)(d,2),m=p[0],v=p[1],g=Object(n.useState)(null),y=Object(l.a)(g,2),E=y[0],w=y[1],x=Object(n.useState)(null),O=Object(l.a)(x,2),j=O[0],L=O[1],k=Object(n.useState)(!1),S=Object(l.a)(k,2),N=S[0],T=S[1],C=Object(n.useState)(!1),_=Object(l.a)(C,2),I=_[0],P=_[1],M=Object(n.useState)(""),F=Object(l.a)(M,2),G=F[0],R=F[1],D=Object(n.useReducer)(Bf,[]),W=Object(l.a)(D,2),q=W[0],z=W[1];Object(n.useEffect)((function(){z({type:"RESET"}),h(1)}),[G]),Object(n.useEffect)((function(){i(!0);var e=setTimeout((function(){Y()}),500);return function(){return clearTimeout(e)}}),[G,s]),Object(n.useEffect)((function(){var e=We({companyId:localStorage.getItem("companyId")});return e.on("company-announcement",(function(e){"update"!==e.action&&"create"!==e.action||z({type:"UPDATE_ANNOUNCEMENTS",payload:e.record}),"delete"===e.action&&z({type:"DELETE_ANNOUNCEMENT",payload:+e.id})})),function(){e.disconnect()}}),[]);var Y=function(){var e=Object(A.a)(Yf().mark((function e(){var t,r;return Yf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ge.get("/announcements/",{params:{searchParam:G,pageNumber:s}});case 3:t=e.sent,r=t.data,z({type:"LOAD_ANNOUNCEMENTS",payload:r.records}),v(r.hasMore),i(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),Ie(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(A.a)(Yf().mark((function e(t){return Yf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ge.delete("/announcements/".concat(t));case 3:f.b.success(Ne.a.t("announcements.toasts.deleted")),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),Ie(e.t0);case 9:L(null),R(""),h(1);case 12:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(cc,null,a.a.createElement(ua,{title:j&&"".concat(Ne.a.t("announcements.confirmationModal.deleteTitle")," ").concat(j.name,"?"),open:I,onClose:P,onConfirm:function(){return B(j.id)}},Ne.a.t("announcements.confirmationModal.deleteMessage")),a.a.createElement(zf,{resetPagination:function(){h(1),Y()},open:N,onClose:function(){w(null),T(!1)},"aria-labelledby":"form-dialog-title",announcementId:E&&E.id}),a.a.createElement(uc,null,a.a.createElement(Or.a,{style:{width:"99.6%"},container:!0},a.a.createElement(Or.a,{xs:12,sm:8,item:!0},a.a.createElement(hc,null,Ne.a.t("announcements.title"))),a.a.createElement(Or.a,{xs:12,sm:4,item:!0},a.a.createElement(Or.a,{spacing:2,container:!0},a.a.createElement(Or.a,{xs:6,sm:6,item:!0},a.a.createElement(Rt.a,{fullWidth:!0,placeholder:Ne.a.t("announcements.searchPlaceholder"),type:"search",value:G,onChange:function(e){R(e.target.value.toLowerCase())},InputProps:{startAdornment:a.a.createElement(Vi.a,{position:"start"},a.a.createElement(On.a,{style:{color:"gray"}}))}})),a.a.createElement(Or.a,{xs:6,sm:6,item:!0},a.a.createElement(mt.a,{fullWidth:!0,variant:"contained",onClick:function(){w(null),T(!0)},color:"primary"},Ne.a.t("announcements.buttons.add"))))))),a.a.createElement(ar.a,{className:e.mainPaper,variant:"outlined",onScroll:function(e){if(m&&!o){var t=e.currentTarget,r=t.scrollTop;t.scrollHeight-(r+100)<t.clientHeight&&h((function(e){return e+1}))}}},a.a.createElement(Xr.a,{size:"small"},a.a.createElement(rn.a,null,a.a.createElement(nn.a,null,a.a.createElement(en.a,{align:"center"},Ne.a.t("announcements.table.title")),a.a.createElement(en.a,{align:"center"},Ne.a.t("announcements.table.priority")),a.a.createElement(en.a,{align:"center"},Ne.a.t("announcements.table.mediaName")),a.a.createElement(en.a,{align:"center"},Ne.a.t("announcements.table.status")),a.a.createElement(en.a,{align:"center"},Ne.a.t("announcements.table.actions")))),a.a.createElement($r.a,null,a.a.createElement(a.a.Fragment,null,q.map((function(e){var t,r;return a.a.createElement(nn.a,{key:e.id},a.a.createElement(en.a,{align:"center"},e.title),a.a.createElement(en.a,{align:"center"},1===(r=e.priority)?"Alta":2===r?"M\xe9dia":3===r?"Baixa":void 0),a.a.createElement(en.a,{align:"center"},null!==(t=e.mediaName)&&void 0!==t?t:"Sem anexo"),a.a.createElement(en.a,{align:"center"},e.status?"ativo":"inativo"),a.a.createElement(en.a,{align:"center"},a.a.createElement(b.a,{size:"small",onClick:function(){return function(e){w(e),T(!0)}(e)}},a.a.createElement(_u.a,null)),a.a.createElement(b.a,{size:"small",onClick:function(t){P(!0),L(e)}},a.a.createElement(Fn.a,null))))})),o&&a.a.createElement(pc,{columns:5}))))))};function Vf(){Vf=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var f={};function h(){}function d(){}function p(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(m=g);var y=p.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Qf=Object(m.a)((function(e){return{mainContainer:{display:"flex",flexDirection:"column",position:"relative",flex:1,height:"calc(100% - 58px)",overflow:"hidden",borderRadius:0,backgroundColor:"white"},chatList:Object(h.a)({display:"flex",flexDirection:"column",position:"relative",flex:1,overflowY:"scroll"},e.scrollbarStyles),listItem:{cursor:"pointer"}}}));function Zf(e){var t=e.chats,r=e.handleSelectChat,o=e.handleDeleteChat,i=e.handleEditChat,c=(e.pageInfo,e.loading,Qf()),u=Object(s.g)(),f=Object(n.useContext)(Je).user,h=hr().datetimeToClient,d=Object(n.useState)(!1),p=Object(l.a)(d,2),m=p[0],v=p[1],g=Object(n.useState)({}),y=Object(l.a)(g,2),E=y[0],x=y[1],O=Object(s.h)().id,j=function(){var e=Object(A.a)(Vf().mark((function e(t){return Vf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(L(t)>0)){e.next=8;break}return e.prev=1,e.next=4,Ge.post("/chats/".concat(t.id,"/read"),{userId:f.id});case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:O!==t.uuid&&(u.push("/chats/".concat(t.uuid)),r(t));case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),L=function(e){return e.users.find((function(e){return e.userId===f.id})).unreads},k=function(e){var t=e.title,r=L(e);return a.a.createElement(a.a.Fragment,null,t,r>0&&a.a.createElement(Ut.a,{size:"small",style:{marginLeft:5},label:r,color:"secondary"}))},S=function(e){return""!==e.lastMessage?"".concat(h(e.updatedAt),": ").concat(e.lastMessage):""},N=function(e){return{borderLeft:e.uuid===O?"6px solid #002d6e":null,backgroundColor:e.uuid===O?"#eee":null}};return a.a.createElement(a.a.Fragment,null,a.a.createElement(ua,{title:"Excluir Conversa",open:m,onClose:v,onConfirm:function(){o(E)}},"Esta a\xe7\xe3o n\xe3o pode ser revertida, confirmar?"),a.a.createElement("div",{className:c.mainContainer},a.a.createElement("div",{className:c.chatList},a.a.createElement(w.a,null,Array.isArray(t)&&t.length>0&&t.map((function(e,t){return a.a.createElement(F.a,{onClick:function(){return j(e)},key:t,className:c.listItem,style:N(e),button:!0},a.a.createElement(R.a,{primary:k(e),secondary:S(e)}),e.ownerId===f.id&&a.a.createElement(Bn.a,null,a.a.createElement(b.a,{onClick:function(){j(e).then((function(){i(e)}))},edge:"end","aria-label":"delete",size:"small",style:{marginRight:5}},a.a.createElement(_u.a,null)),a.a.createElement(b.a,{onClick:function(){x(e),v(!0)},edge:"end","aria-label":"delete",size:"small"},a.a.createElement(lo.a,null))))}))))))}var Jf=r(1047),Kf=Object(m.a)((function(e){return{mainContainer:{display:"flex",flexDirection:"column",position:"relative",flex:1,overflow:"hidden",borderRadius:0,height:"100%",borderLeft:"1px solid rgba(0, 0, 0, 0.12)"},messageList:Object(h.a)(Object(h.a)({position:"relative",overflowY:"auto",height:"100%"},e.scrollbarStyles),{},{backgroundColor:"#eee"}),inputArea:{position:"relative",height:"auto"},input:{padding:"20px"},buttonSend:{margin:e.spacing(1)},boxLeft:{padding:"10px 10px 5px",margin:"10px",position:"relative",backgroundColor:"white",maxWidth:300,borderRadius:10,borderBottomLeftRadius:0,border:"1px solid rgba(0, 0, 0, 0.12)"},boxRight:{padding:"10px 10px 5px",margin:"10px 10px 10px auto",position:"relative",backgroundColor:"#E3F3F9",textAlign:"right",maxWidth:300,borderRadius:10,borderBottomRightRadius:0,border:"1px solid rgba(0, 0, 0, 0.12)"}}}));function Xf(e){var t=e.chat,r=e.messages,o=e.handleSendMessage,i=e.handleLoadMore,c=e.scrollToBottomRef,u=e.pageInfo,s=e.loading,f=Kf(),h=Object(n.useContext)(Je).user,d=hr().datetimeToClient,p=Object(n.useRef)(),m=Object(n.useState)(""),v=Object(l.a)(m,2),g=v[0],y=v[1],E=function(){p.current&&p.current.scrollIntoView({})};Object(n.useEffect)((function(){if(function(e){return void 0!==e?e.users.find((function(e){return e.userId===h.id})).unreads>0:0}(t)>0)try{Ge.post("/chats/".concat(t.id,"/read"),{userId:h.id})}catch(e){}c.current=E}),[]);return a.a.createElement(ar.a,{className:f.mainContainer},a.a.createElement("div",{onScroll:function(e){var t=e.currentTarget.scrollTop;u.hasMore&&!s&&t<600&&i()},className:f.messageList},Array.isArray(r)&&r.map((function(e,t){return e.senderId===h.id?a.a.createElement(Hn.a,{key:t,className:f.boxRight},a.a.createElement(j.a,{variant:"subtitle2"},e.sender.name),e.message,a.a.createElement(j.a,{variant:"caption",display:"block"},d(e.createdAt))):a.a.createElement(Hn.a,{key:t,className:f.boxLeft},a.a.createElement(j.a,{variant:"subtitle2"},e.sender.name),e.message,a.a.createElement(j.a,{variant:"caption",display:"block"},d(e.createdAt)))})),a.a.createElement("div",{ref:p})),a.a.createElement("div",{className:f.inputArea},a.a.createElement(Ht.a,{variant:"outlined",fullWidth:!0},a.a.createElement(Jf.a,{multiline:!0,value:g,onKeyUp:function(e){"Enter"===e.key&&""!==g.trim()&&(o(g),y(""))},onChange:function(e){return y(e.target.value)},className:f.input,endAdornment:a.a.createElement(Vi.a,{position:"end"},a.a.createElement(b.a,{onClick:function(){""!==g.trim()&&(o(g),y(""))},className:f.buttonSend},a.a.createElement(No.a,null)))}))))}function $f(){$f=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var f={};function h(){}function d(){}function p(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(m=g);var y=p.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var eh=Object(m.a)((function(e){return{mainContainer:{display:"flex",flexDirection:"column",position:"relative",flex:1,padding:e.spacing(2),height:"calc(100% - 48px)",overflowY:"hidden",border:"1px solid rgba(0, 0, 0, 0.12)"},gridContainer:{flex:1,height:"100%",border:"1px solid rgba(0, 0, 0, 0.12)",backgroundColor:"#eee"},gridItem:{height:"100%"},gridItemTab:{height:"92%",width:"100%"},btnContainer:{textAlign:"right",padding:10}}}));function th(e){var t=e.open,r=e.chat,o=e.type,i=e.handleClose,c=e.handleLoadNewChat,u=Object(n.useState)([]),s=Object(l.a)(u,2),f=s[0],h=s[1],d=Object(n.useState)(""),p=Object(l.a)(d,2),m=p[0],v=p[1];Object(n.useEffect)((function(){if(v(""),h([]),"edit"===o){var e=r.users.map((function(e){return{id:e.user.id,name:e.user.name}}));h(e),v(r.title)}}),[r,t,o]);var g=function(){var e=Object(A.a)($f().mark((function e(){var t,n;return $f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"edit"!==o){e.next=6;break}return e.next=4,Ge.put("/chats/".concat(r.id),{users:f,title:m});case 4:e.next=11;break;case 6:return e.next=8,Ge.post("/chats",{users:f,title:m});case 8:t=e.sent,n=t.data,c(n);case 11:i(),e.next=16;break;case 14:e.prev=14,e.t0=e.catch(0);case 16:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}();return a.a.createElement(Dt.a,{open:t,onClose:i,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},a.a.createElement(zt.a,{id:"alert-dialog-title"},"Conversa"),a.a.createElement(qt.a,null,a.a.createElement(Or.a,{spacing:2,container:!0},a.a.createElement(Or.a,{xs:12,style:{padding:18},item:!0},a.a.createElement(Rt.a,{label:"T\xedtulo",placeholder:"T\xedtulo",value:m,onChange:function(e){return v(e.target.value)},variant:"outlined",size:"small",fullWidth:!0})),a.a.createElement(Or.a,{xs:12,item:!0},a.a.createElement(Qa,{onFiltered:function(e){return h(e)},initialUsers:f})))),a.a.createElement(Wt.a,null,a.a.createElement(mt.a,{onClick:i,color:"primary"},"Fechar"),a.a.createElement(mt.a,{onClick:g,color:"primary",variant:"contained"},"Salvar")))}var rh=Object(wn.a)()((function(e){var t=eh(),r=Object(n.useContext)(Je).user,o=Object(s.g)(),i=Object(n.useState)(!1),c=Object(l.a)(i,2),u=c[0],f=c[1],d=Object(n.useState)("new"),p=Object(l.a)(d,2),m=p[0],v=p[1],g=Object(n.useState)({}),y=Object(l.a)(g,2),b=y[0],E=y[1],w=Object(n.useState)([]),x=Object(l.a)(w,2),O=x[0],j=x[1],L=Object(n.useState)({hasMore:!1}),k=Object(l.a)(L,2),S=k[0],N=k[1],T=Object(n.useState)([]),C=Object(l.a)(T,2),_=C[0],I=C[1],P=Object(n.useState)({hasMore:!1}),F=Object(l.a)(P,2),G=F[0],R=F[1],D=Object(n.useState)(1),W=Object(l.a)(D,2),q=W[0],z=W[1],Y=Object(n.useState)(!1),B=Object(l.a)(Y,2),H=B[0],U=B[1],V=Object(n.useState)(0),Q=Object(l.a)(V,2),Z=Q[0],J=Q[1],K=Object(n.useRef)(!0),X=Object(n.useRef)(),$=Object(s.h)().id;Object(n.useEffect)((function(){return function(){K.current=!1}}),[]),Object(n.useEffect)((function(){K.current&&oe().then((function(e){var t=e.records;if(t.length>0&&(j(t),N(e),$&&t.length)){var r=t.find((function(e){return e.uuid===$}));ee(r)}}))}),[]),Object(n.useEffect)((function(){Object(_e.isObject)(b)&&Object(_e.has)(b,"id")&&ne(b.id).then((function(){"function"===typeof X.current&&setTimeout((function(){X.current()}),300)}))}),[b]),Object(n.useEffect)((function(){var e=localStorage.getItem("companyId"),t=We({companyId:e});return t.on("company-".concat(e,"-chat-user-").concat(r.id),(function(e){if("create"===e.action&&j((function(t){return[e.record].concat(Object(M.a)(t))})),"update"===e.action){var t=O.map((function(t){return t.id===e.record.id?(E(e.record),Object(h.a)({},e.record)):t}));j(t)}})),t.on("company-".concat(e,"-chat"),(function(e){if("delete"===e.action){var t=O.filter((function(t){return t.id!==+e.id}));j(t),I([]),z(1),R({hasMore:!1}),E({}),o.push("/chats")}})),Object(_e.isObject)(b)&&Object(_e.has)(b,"id")&&t.on("company-".concat(e,"-chat-").concat(b.id),(function(e){if("new-message"===e.action){I((function(t){return[].concat(Object(M.a)(t),[e.newMessage])}));var t=O.map((function(t){return t.id===e.newMessage.chatId?Object(h.a)({},e.chat):t}));j(t),X.current()}if("update"===e.action){var r=O.map((function(t){return t.id===e.chat.id?Object(h.a)({},e.chat):t}));j(r),X.current()}})),function(){t.disconnect()}}),[b]);var ee=function(e){try{I([]),z(1),E(e),J(1)}catch(t){}},te=function(){var e=Object(A.a)($f().mark((function e(t){return $f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return U(!0),e.prev=1,e.next=4,Ge.post("/chats/".concat(b.id,"/messages"),{message:t});case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:U(!1);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=Object(A.a)($f().mark((function e(t){return $f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ge.delete("/chats/".concat(t.id));case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=Object(A.a)($f().mark((function e(t){var r,n;return $f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return U(!0),e.prev=1,e.next=4,Ge.get("/chats/".concat(t,"/messages?pageNumber=").concat(q));case 4:r=e.sent,n=r.data,z((function(e){return e+1})),R(n),I((function(e){return[].concat(Object(M.a)(n.records),Object(M.a)(e))})),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(1);case 13:U(!1);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=Object(A.a)($f().mark((function e(){return $f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:H||ne(b.id);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oe=function(){var e=Object(A.a)($f().mark((function e(){var t,r;return $f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ge.get("/chats");case 3:return t=e.sent,r=t.data,e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(th,{type:m,open:u,chat:b,handleLoadNewChat:function(e){I([]),z(1),E(e),J(1),o.push("/chats/".concat(e.uuid))},handleClose:function(){return f(!1)}}),a.a.createElement(ar.a,{className:t.mainContainer},Object(wn.b)("md",e.width)?a.a.createElement(Or.a,{className:t.gridContainer,container:!0},a.a.createElement(Or.a,{className:t.gridItem,md:3,item:!0},"admin"===r.profile&&a.a.createElement("div",{className:t.btnContainer},a.a.createElement(mt.a,{onClick:function(){v("new"),f(!0)},color:"primary",variant:"contained"},"Nova")),a.a.createElement(Zf,{chats:O,pageInfo:S,loading:H,handleSelectChat:function(e){return ee(e)},handleDeleteChat:function(e){return re(e)},handleEditChat:function(){v("edit"),f(!0)}})),a.a.createElement(Or.a,{className:t.gridItem,md:9,item:!0},Object(_e.isObject)(b)&&Object(_e.has)(b,"id")&&a.a.createElement(Xf,{chat:b,scrollToBottomRef:X,pageInfo:G,messages:_,loading:H,handleSendMessage:te,handleLoadMore:ae}))):a.a.createElement(Or.a,{className:t.gridContainer,container:!0},a.a.createElement(Or.a,{md:12,item:!0},a.a.createElement(Ln.a,{value:Z,indicatorColor:"primary",textColor:"primary",onChange:function(e,t){return J(t)},"aria-label":"disabled tabs example"},a.a.createElement(kn.a,{label:"Chats"}),a.a.createElement(kn.a,{label:"Mensagens"}))),0===Z&&a.a.createElement(Or.a,{className:t.gridItemTab,md:12,item:!0},a.a.createElement("div",{className:t.btnContainer},a.a.createElement(mt.a,{onClick:function(){return f(!0)},color:"primary",variant:"contained"},"Novo")),a.a.createElement(Zf,{chats:O,pageInfo:S,loading:H,handleSelectChat:function(e){return ee(e)},handleDeleteChat:function(e){return re(e)}})),1===Z&&a.a.createElement(Or.a,{className:t.gridItemTab,md:12,item:!0},Object(_e.isObject)(b)&&Object(_e.has)(b,"id")&&a.a.createElement(Xf,{scrollToBottomRef:X,pageInfo:G,messages:_,loading:H,handleSendMessage:te,handleLoadMore:ae})))))})),nh=Object(m.a)((function(e){return{mainPaper:Object(h.a)({flex:1,padding:e.spacing(1),overflowY:"scroll"},e.scrollbarStyles)}})),ah=function(e){var t=new Date,r=new Date(e),n=Math.abs(t.getTime()-r.getTime());return Math.ceil(n/864e5)},oh=function(){var e,t,r=nh(),o=Object(n.useContext)(Je).user,i=Object(n.useState)(!1),c=Object(l.a)(i,1)[0],u=Object(n.useState)(1),s=Object(l.a)(u,2)[1],f=Object(n.useState)(null),h=Object(l.a)(f,2),d=h[0],p=h[1],m=Object(n.useState)(!1),v=Object(l.a)(m,2),g=v[0],y=v[1],b=Object(n.useState)(!1),E=Object(l.a)(b,1)[0];return a.a.createElement(cc,{className:r.mainContainer},a.a.createElement(Lu,{open:g,onClose:function(){p(null),y(!1)},"aria-labelledby":"form-dialog-title",contactId:d}),a.a.createElement(uc,null,a.a.createElement(hc,null,"Assinatura")),a.a.createElement(Or.a,{item:!0,xs:12,sm:4},a.a.createElement(ar.a,{className:r.mainPaper,variant:"outlined",onScroll:function(e){if(E&&!c){var t=e.currentTarget,r=t.scrollTop;t.scrollHeight-(r+100)<t.clientHeight&&s((function(e){return e+1}))}}},a.a.createElement("div",null,a.a.createElement(Rt.a,{id:"outlined-full-width",label:"Per\xedodo de teste",defaultValue:"Seu per\xedodo de teste termina em ".concat(ah(null===o||void 0===o||null===(e=o.company)||void 0===e?void 0:e.trialExpiration)," dias!"),fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},InputProps:{readOnly:!0},variant:"outlined"})),a.a.createElement("div",null,a.a.createElement(Rt.a,{id:"outlined-full-width",label:"Email de cobran\xe7a",defaultValue:null===o||void 0===o||null===(t=o.company)||void 0===t?void 0:t.email,fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},InputProps:{readOnly:!0},variant:"outlined"})),a.a.createElement("div",null,a.a.createElement(mt.a,{variant:"contained",color:"primary",onClick:function(){p(null),y(!0)},fullWidth:!0},"Assine Agora!")))))},ih=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1];return Object(n.useEffect)((function(){void 0!==localStorage.getItem("cshow")&&o(!0)}),[]),a.a.createElement(u.a,null,a.a.createElement(Ke,null,a.a.createElement(Vn,null,a.a.createElement(s.d,null,a.a.createElement(lf,{exact:!0,path:"/login",component:Xi}),a.a.createElement(lf,{exact:!0,path:"/signup",component:Ui}),a.a.createElement(He,null,a.a.createElement(wr,null,a.a.createElement(lf,{exact:!0,path:"/",component:En,isPrivate:!0}),a.a.createElement(lf,{exact:!0,path:"/tickets/:ticketId?",component:Mi,isPrivate:!0}),a.a.createElement(lf,{exact:!0,path:"/connections",component:kc,isPrivate:!0}),a.a.createElement(lf,{exact:!0,path:"/quick-messages",component:of,isPrivate:!0}),a.a.createElement(lf,{exact:!0,path:"/schedules",component:hf,isPrivate:!0}),a.a.createElement(lf,{exact:!0,path:"/tags",component:ps,isPrivate:!0}),a.a.createElement(lf,{exact:!0,path:"/contacts",component:Du,isPrivate:!0}),a.a.createElement(lf,{exact:!0,path:"/helps",component:Os,isPrivate:!0}),a.a.createElement(lf,{exact:!0,path:"/users",component:Mu,isPrivate:!0}),a.a.createElement(lf,{exact:!0,path:"/messages-api",component:gs,isPrivate:!0}),a.a.createElement(lf,{exact:!0,path:"/settings",component:vl,isPrivate:!0}),a.a.createElement(lf,{exact:!0,path:"/financeiro",component:Tu,isPrivate:!0}),a.a.createElement(lf,{exact:!0,path:"/queues",component:os,isPrivate:!0}),a.a.createElement(lf,{exact:!0,path:"/announcements",component:Uf,isPrivate:!0}),a.a.createElement(lf,{exact:!0,path:"/subscription",component:oh,isPrivate:!0}),a.a.createElement(lf,{exact:!0,path:"/chats/:id?",component:rh,isPrivate:!0}),r&&a.a.createElement(a.a.Fragment,null,a.a.createElement(lf,{exact:!0,path:"/contact-lists",component:Ms,isPrivate:!0}),a.a.createElement(lf,{exact:!0,path:"/contact-lists/:contactListId/contacts",component:Vs,isPrivate:!0}),a.a.createElement(lf,{exact:!0,path:"/campaigns",component:kf,isPrivate:!0}),a.a.createElement(lf,{exact:!0,path:"/campaign/:campaignId/report",component:Rf,isPrivate:!0}),a.a.createElement(lf,{exact:!0,path:"/campaigns-config",component:Cf,isPrivate:!0}))))),a.a.createElement(f.a,{autoClose:3e3}))))},ch=(r(1040),r(664)),lh=function(){var e=Object(n.useState)(),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object($o.a)({scrollbarStyles:{"&::-webkit-scrollbar":{width:"8px",height:"8px"},"&::-webkit-scrollbar-thumb":{boxShadow:"inset 0 0 6px rgba(0, 0, 0, 0.3)",backgroundColor:"#e8e8e8"}},palette:{primary:{main:"#00CCFF",contrastText:"#fff"},danger:{main:"#4caf50"}}},r);return Object(n.useEffect)((function(){var e=localStorage.getItem("i18nextLng");"ptBR"===e.substring(0,2)+e.substring(3,5)&&o(ch.ptBR)}),[]),a.a.createElement(ei.a,{theme:i},a.a.createElement(ih,null))};i.a.render(a.a.createElement(c.a,null,a.a.createElement(lh,null)),document.getElementById("root"))},154:function(e){e.exports=JSON.parse('{"name":"frontend","version":"0.1.0","private":true,"systemVars":{"version":"2.0.0","appName":"Whatsticket","controllerDomain":"Whatsticket.com.br","settingsSupportLink":"https://api.whatsapp.com/send?phone=558596245292"},"dependencies":{"@date-io/date-fns":"^2.14.0","@material-ui/core":"4.12.3","@material-ui/icons":"^4.9.1","@material-ui/lab":"^4.0.0-alpha.56","@material-ui/pickers":"^3.3.10","@testing-library/jest-dom":"^5.11.4","@testing-library/react":"^11.0.4","@testing-library/user-event":"^12.1.7","axios":"^0.21.1","bootstrap":"^5.2.3","context":"^4.0.0","date-fns":"^2.16.1","emoji-mart":"^3.0.0","formik":"^2.2.0","formik-material-ui":"^3.0.1","gn-api-sdk-node":"^3.0.2","i18next":"^19.8.2","i18next-browser-languagedetector":"^6.0.1","react-facebook-login":"^4.1.1","markdown-to-jsx":"^7.1.0","material-ui-color":"^1.2.0","mic-recorder-to-mp3":"^2.2.2","material-ui-popup-state":"^1.7.0","moment":"^2.29.1","qrcode.react":"^1.0.0","query-string":"^7.0.0","react":"^16.13.1","react-bootstrap":"^2.7.0","react-color":"^2.19.3","react-copy-to-clipboard":"^5.1.0","react-currency-format":"^1.1.0","react-dom":"^16.13.1","react-icons":"^4.4.0","react-input-mask":"^2.0.4","react-modal-image":"^2.5.0","react-number-format":"^4.6.4","react-qr-code":"^2.0.7","react-router-dom":"^5.2.0","react-scripts":"3.4.3","react-text-mask":"^5.5.0","react-toastify":"9.0.0","recharts":"^2.0.2","socket.io-client":"^3.0.5","styled-components":"^5.3.5","text-mask-addons":"^3.8.0","use-debounce":"^7.0.0","use-sound":"^2.0.1","uuid":"^8.3.2","yup":"^0.32.8"},"scripts":{"start":"react-scripts start","build":"GENERATE_SOURCEMAP=false react-scripts build","test":"react-scripts test","eject":"react-scripts eject"},"eslintConfig":{"extends":"react-app"},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]}}')},345:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfMAAAAyCAYAAABIzDLuAAAACXBIWXMAAC4jAAAuIwF4pT92AAAYj0lEQVR4nO2dC3Qc1XmA/39mJPmxlgHzMAkpcvxQoSfYIBmbRyKRE2iQ7NqtnbTnJASlbnge27IpuIRYu4uNgbRgueWAAw2IJrxOKMhBsoEUW+IVZEnBhnMofmGnDeCCMX5Ith67c/vfmdFKsla7d+7M7HO+c1Yareb+c3dm5/73v/M/NGjXmwCxGoTRV7IyZb34/j4+Pj4+Pj5eooHevwLUgu8AYJFYE1yDv+95gV025o/eds098J1jZ7C5xYeT7TejKngZqsprjGY3InIZY9V7moJbnffQx8fHx8dHHo1dWrgHO9h6QPgnsSY4HgqLHqYNG9Z8+sB2/XsARe/SZkJlrihhZXqV+q+0OVZMk0PTbl+R+/j4+PhkAJrxs/vQPRA48zpSfV8Va4ZV2Kn/HStTnvWwb47BDv3HZGSXsrlFv0m27/RroYYmNOWCovuiwG5z2D0fHx8fHx9XMJQ5qziriyzYO0DBp8SbYj2+c+xVkeXrdECf52b6PHdB7+ELACYl3Le0OlwMCqwTl87+bW9TcLfDLvr4+Pj4+LiCFtuaoz0D7dGbSA1+U6wpngPahPtp4yfedE0e7NRXkCJ/AHR2Hbt80vGkDRSoMz6PAAzgM723Z43jTvr4+Pj4+LhETJkzXWfY0b8MUOsgxaYKtUZYgh2RX7NyrdWzHtqEFPldpJ3XAmNv0gTladD1hPtPraor1VRtqah8Bmz13lfvPeq4oz4+CcC23hJQCyoBcRb9WUKv0+jdivh7s03Wxg763h8AiO5g5QU7UtJRnxjYevQ0CARmAaNrhlhpvbtg5J5sJ/04YLwY2wHR/hY2p+hAqvrpk5toQ//gAwB2sEdJSd8s1hyR9P5GfHnvLPbdab1edNAO1Pc1gMrP6JNEASJL+QQlWRtS5A/Sr0LBQ+zY1/zBL0cet59u3oJ37faXZlArWLlSb7ud4+P2X+zFYC/dH47NPmGHXkvXOoNDJNkmVoYL7bQwz59WQ1vLQRMMLjFbDiiMBWYghkKTWqMPfJLdAizSKHJus+Wcput+i4epwItrabMSAhPNyVZSD1qcST9mmpu0M11r63ptANAbWZnaInz8NJwL7GT1xndUlkjvlFMnL47GDi8ZMi5l+v2hjXiHda0GDHyfup74QXMM/HM4cypZw3ypOj2goiBsj/4z3RgDTmkbRQavafND1SooVaLHYVG2Qtefi0p3NNcxFJEsGh8QHbTPXrAzWkkKuJ4Gs5kuS+bKpYLkBmPKgkUafKvdOdbEK0QKPI7lLS2VFKS6nJTlTrLYG9yeeLiBF4rcxx1GKHM2e8IX2KmTdYuPCEtBWIXb+55llxZ+4GrvRA7NFXl79CHausV8hx2CnuOrAYoTtlO+ES6cXqI8KHwgxv5z9+Zgi4Ou5jSmhTJR/iZHvJ5k1LKKiUdc7FZGY1l1DTSAu6gQEh5xOSl2U1noeojNVhtTc9zcwXj8oRXyiZeH14wsd8T1NAFb78VqgixkmdbQgOsr8gxlpGXO2f/CYzBl0Y10+WaJicFCUAsexXD4WywYTPyQ2kXw+edVUuSP0tbfx97U2Z3siuIvk7WdVgLL6NcMkeMwgJ7+SPR2+Z7mAYHikEsyah3LyQIMpRCYuD9NR58JivqiodRBr7WzrJvPGMusWlFql1lRMZU6RK9K53XC9uhC+s48IS3AV+SeE1eZs8WLo9gWWQqa+joIZkOj/a6AeatvoI2NLvZv9KO1tmo04WigrR8Mvss6YPOax2F2MGHbr88PTy4AXC18LIAH9798d5oG3szHsVU+KInLyHllblp3RRnwfSKlzowJe0u6e5Lp0MSnhRTrKA6IqUDdhh3sSVaONak+sqXIX5QW4CvylBDfMifYHO1N+gI/TZs/GG2fkeB9+PbJ37LLx37iQt9GP8rzHxTClG9R33DR4LtMp9nrrSIrAwUM1pGGTrwOP8gnR7vZvZJdzQ/GT6hxSxS3fjJlWdEzMkKRc9jOnD/XDhmceAnaNJ52Bq+nMbkEIn01qVKO1uf3FXkWMKoyN+jvWQUFYxbQJQ2IicOJUDSGp0Rd7Lxroxzh5b1FMOWC39DW/FP+1cDKtO3J2k+rCs5WVfV60ePpoP/04NZQl+2O5hNueniasnJWwZB11SC82OU1uh4iiy/dvchYMmcFZShYAVphDW2EPD+S08/vK/KUklCZs7ljP8ZOfS23uMVF4iLsiP4VK1d/67RzIyQ3fToOzp3aSFtXD/8POwJ9J+4kEzFhe0VRcFp1cAPfFDzk9n3N+CupzuYJVriGuzLbowtz0TnLCr8Rnkh6C1nlOXiOXUUrzMDzY4Tnhbw+ivXozFfkWURiy5zz+Uf1cNbUJXR5pwtLReUhfPuLbULZ10RFvv3FBDh3chNtfWvEP3UWZJeN/yyZjGlVdT9EwMsED8kY8FC01Dn0ZSVexF0qSoh+ZuBA6hBHoXuslb6Rg+cEsQSMZDLxkpII4FvlCcFOfq7R5VBBp7BWu7kLpAkUy99/viJPC0mVOU8Gg9ujK0BVm8TF4teg8Ix7aGOZg74NSjNmiWdshriKmL0HJ954mIfTJmLyt8OBieMV8RUGBs/sbgq+bbev+YTlGOOF5Jncik0cDx1toWu0wp5YLJGLkeXx2Tyzmp0mfP9Tz41kfK4e/WvTio6/PG/FPPNBfqGYAhrNKs/Gc+o+VgiWC6FnLEwXr+VUL3Qrr8BCe+eNrlnZQFY5bzGc/UbNNpiElCtytom+Fy2eie8+cQBgovVHZt8fyS1zLvZStZkuMLeK5wlLRrgV2yJPsTlam50OjRDTfnwSzRJfoa2yOD1jNNAtZRUVkWRyJo6Dn9Kvrwge9gSL9guWhM1jTAvaG3hCDkM5xcdS9LaSn1jL3PZvLBcSrVjLlhItyRpLshw+5FyErDjoGjri6CEdo1jl2XZOvcC6TvIhWJxYbDiffMU5z6Zy569aa+KQ/HiRProX7GQFlCO7FDlwFdDirRPn4D2b6feHkDI36O9bAQWFV1P3BL9RqICmPoqP/aGc/eSSfjudiklo6z4H1MDvaOsbcXdg8Cybrb2eTE5pdd1UsiBXih+Z3b97y5r/Fd8//7Cscg+XIXEBV0w5s1w3flxJKg5jna8Qf5nXSKkdPjj7z8oT4jRfgk2FRoqogX41WI6R8f0pUqQkrexu2aPIfYYhrMzZ3KK9dLF5xrQ7xcXjRXDxLJ5i1YYDndXynZNfhYJx/2Wki43foy6I9NwOMFZAmPqA+CQE/qf7IPyLcEfzFUWpsdeAJyix+QxSK+Qx5zkfd54YrODLsjIJQyyl3RhLPWo8X9dr/Wfl8XGcL8GBQuPx42Slt4yw0vkjltQpcsnPHr3KV+TpR9wy53QdWgeBM6+ji36ecBvEOnyn93k+GRBu8vue86FwzGu0NXX0vdha7m2fTFZpdfgaUMSdhHSdrfpTe/CE6P75iLV0ZO+ZIl8mtB3mgstpgA3lU4rX+PCEIfJpPa3luoXJ/RDynPET5J3LeEEOhwqNW+nYHj0SS9AS85XwFisixYk/R4u7PfKRwZYyZxVndWGnfgdd/qfFW+FYKCh8BBXlGpEqZqT4p0FhEbfIz0/Qk12w/8P1UHZhQlnK7JsKpp/zFTve1m/u2xJ+DiBxBrm8x3yebQPWygc6mv2HEz7LjYeZkCb7486j+hGbU+fhxNJ62q+sNYCvyJOAstnV2Aa3zi1X3qRcf8wdp1KiyM3HZXIRKSmabPiIYX94ma09C+3Rm+KGiI0KfgfaI2TRw38k3Kut7wJS/FyRJ3ZU0/XlbPGFfcmOOv2cybcAQmKNP1Qq46FoyScc+YyVSMKeVa7r9cbSbtexeghMtKfMcySJjDmZcUPSQGUtLpQ9ST9a/HrYzrGW2OWeF3cdCw11lHKK9RzdcxylafUVecZhW5lz6xq39y8DVevkD6PFW+ID2Nq1mVUEDsX9b1v/RaAVcGe3sxN3gDXSl+iVZEcrrb7rLFCKQsLdo4FxT1OwQ3j/fMV8jm2LgZueL5eTdb7Jbmw09/hN1QDnKVz5jubkJIMhi15GPWzuk8A9pOWs9rwnEBAsKnUqrDU7HwPhLFAkc0RkkiKPrVi5CyvLhPy99pBa+GOXFuykweMXtHmLeCs8EwLjuQPdj0b8pz1SDpr2MiStoc5OAutbORCiMX1e6No9TaEtcXdVitbSz9PE+saO96MRupZanH4RscDFzggcTspByFhaH/xT1xvIGrBn2SPyCUSDveNmIpF6AK8ywBnOhTNjVruD5fi8hBeckRm+jUQ+WTfug6NJpR7Z4TtRZh7yT/H6j6+GggnfN5S0MHgddkZ/RQPM72LvtEcuo8GdFDKKrFP9nM02nahmVIX+UlHxpdLq8JW7moPvDN2ptDp4Mc06l4jeZAxg3UcvBQ+Kf448RSZshy+tD43V5M8EbS8348xcSPHKn6vKrEzIMbAcTxY7Yw1+QZVkiJZ7PpVoi3h26BxBK2ygn5Vp7oXPKUgrcza3+DB26qvpJnjEXkvlEWz69CI279wTuD16Fag8h7tIIRd2APo/vh/gPFLWy4tQncQLuqigsMe//u3wJR9tDfYY0hUFpxv51wUfATC2D9nh1NYozlpshq4w9mT8JUgJRzgzFC6rlTmHp+OkyUwK/TLIYkfMiJrYGQ2KruL5mOGSLJSKHPE+4jjxrwXY/8JjMGXRDXRxLxZvhFPh3MlBsrS2gqq8aHi7i6DrK9nc807yTaaccRvZ3DMseRdo44GUA6zif029Nvi39N43RXujM3b7nuYNveL9z0+kCqqg3hB3OU7GEY4nkcmV0KpI75T0VONSt9EgvIEG4TyP3fdxDgaxMzoiVa1P+nCkzNnixVHsjCylQeINsFfXcSVZWsvFE7mwV9hs0+ty2jXhP1OLhj/fRmC3lVaHX+z+DN4bNxl+Lv4BYOue5pB8rd58wnZBFZ5LOv6NbjjCdcg4g2lcCdXYa5N5WJ7naBXzSMGS+1CQL72Dr9B9nKNug6x0GMhNnFnmwJcNtbdocHiKNn8o3go18WOzPmD9pPgLjb/UIuRK5ZRap6jSV+qXpMib6Jv1NUG50ahuM2l+nmLlj7bXiLH6hPe5abXbU+ak/LH1aG12eg+PxFhyF83N7SqGQj/iL5O6ACp5vTzPJ6Qpq+TmkxDHytygt2cVFI0hCwMnuCJvOPWsvHAX3+BOb6gqfxN3L4QLSXWIxpSTUY6P7d1c955Lfcxt0L4VlyyUjFvtZjiVzRSvphNezliVsdzccfOoewkGsaO/MSceW7jDAalWzHCca3GzI9kFf/yVI6GjWY4rypxdPvYT7NTX0oW93w15QyR/DL2HSe6koU5vbnAE9d46l2TlNHIFVXhYlMDqGzOKS9hcvjec8HJGmQ8Qy6POw/94WlHk1o7HS/BJKtPlFbzcpK0nhRbGdcr+pEaOQOUJbOv1ExelGXcsc87+D+thygU8HGyGazJ1dge7fNJxvsnw9JWDTm/OYKDfvbv5ns/dkJXzyJQ5jfTVC5Vr7D7eAIGJtiMJuDNeroZaWY8QGqzXQO1revFQILet9hyrTOcI2RAzrPDPIaQxXM2reubZF27omjLn6VWxI1oLqG52SeLrMEd7BnQdpn83fLZSgHe5JHfX3oMHH3JHllMcfhGlC98LijcUiUSZU61ov1AsuVR9b8iZFK8iDKl9bWAp94WuXXe1gOTlQkIeZ5g5ACQbq4UhyAHHTKnKhjHSFK7meT3z7ME9yxz4DaFuoQv6El3Y+Q4lRSASWTpQmGXfq3BoehXsAIQrnPaR5gYr9faNUvXVXcfhF1G68L0wSsYuZ2drEhkzxA8rZZ2Ghij3Wkux1zpajjcmhD4mrFVq9YM7ZnZGG9wK0zLKkep6S2q/32bIIh27RX4FyPfDSCeuKnOD3r4VUFR4jXjYWVw2sjkFMec0XQ/qU6vqlqiqtgMBxkhLZWzLnuagSysHuY1UmdNUYi7/Z50yHwjxMxPHOEviMqDYrRWUbZJiJDOf5SCmD4ekIlO3YZt8PfMBsMPow/WgqMtpwpqiHOhDcg90HVsIgYlfSovCgnfBD1dLC64rc3Z50T6a3T1Am5K5ztnn0HO8DqB42Lv7Nt+9q3R+KESj+H2Scvv7MHqbXNs8xHaZ01SDM7MticzIxDtGEpdNEOmrdaIErMgA+1n1fIZh1BPvBPkwQf54SVKhm5NnjSvywWVuRX3Re4U+PImQmQOCl2CVD5fkExJWLltO1kcW9y1zzuHP1sEZZ/+ILut59huzO9kVxXFnhnu68YHp49n3SG6ZbakAD+9/6e7/tt+f/MMqqJK5VvkAWeSNbZ3TOM5+uICXlOWZ2bjjoLRSZ5FGsorsK3MGORGz7x4OJ0VcoXfoK0Qfn1lKPDTqKpinCj1+NkBzUsPkoyn4Y4cOvcUPV0stnihzdvU53dip305X9RmbLbdD05onoCz+vaRvDUamXhtcomlKu82SYYf6oDdsry95jExBlbSQRd7YSc8pLidFsNyw1HW9wfbgjZrkpIbt8FdFB+EOXGSdO1vhiFVD5BMDfUTKU0uB8+u1kIax5A5nXih0XjehfPT8EY5rCPBwtdajjbmS4Ckb8MYy58zWnoP26E3izhRMB4guZcGgnmivfVvCO2fMv/teGn6E48QZsOCBl9bJPwfKI+TKnKYRs756xjrqceydU7KGFHVBrIypgCOU9cxcTgEhy5rHFCmDOVtmHoRb+GpwhJe8TOli1xW6yCQuepUDXww+geV9rZRuLwJiJXYkVBmOyRZvec+UOfdEx7b+ZaBpnVb61iQN4AlWrm0Xkb33ALtnWgksQsC/EOjJ+3u74VERuT7Ab8CMVowjweWkLEMZbQFIr3SQta7E6pO30j1ywByEB/6NPJXoQqnwQQu/UMZIHC8ze0VKnqEPYvhiSNVQGAArvM8JQdcIPb9O+a3MOdwjnW6KX9DmrUn2/BJ6uu+kUU9Irv5+sK90XnAJzZ7fgiSlTmlOsULfGoqI9tknC52oxk+ogQy94dwLH8QKMqQq6LfkwBoPwUx9eUjqS9UKkmqFXo41NIbPko4/548cOvpbsslRNVvxVJkb9B+vg4IJvCzpmaPvxOrYlQFbGdl2NYXbSueH+QA+uoc6Y5v2NIdesyM3n5Eqc2rAwnSunVvGsklwMjmJTCZHBXQdCwFIJu7JB9JWqjYJemRH3NLCXsEiNVbImRzcS98PgfQcz5U5m1t8GDv1n9EV3TjKHu9B1xv0P/vhnd0HoW7cZFhAtsW0OHJ7WRT+0bbQfMZ2mVMOazWzPrlj4ZEVUCljBWRwsYeSdHcgLkxfkdGPJjIA7ljJQ80yR6GznRDpW5hqh08zO54TL38eRuqHq3mN95Y5Z/8L/w4li24gy+uS4f9gDPToUlZRIbUM/qf24InS6uA/gDKyri4D3LB7S91e6T7nGVZBFfsNdb3eVSuBl05FtO98ZFZ2a3CvI+5AE51ZPM1lZj2+YBuyxakn3QwqdJ57PFUV7eJ1xPA+rxGqeeDF4Q0vf2OiLXcOXM6S5zOSlChztnhxFDsjy2jQfwOGliZi8Aybrb3uRPau5nDrjPnhjQh485Aj/h/qcI8TuXmHTEEViFX7cg35xB00+8/QFK/GQNh6tN50hPMul75gb+LGFvuMjmUJV6ZvUha9ipVngBKM9NU4W6VQt9F9cLq/IuQNqbHMgQ9o2lt0M/yaNq+z3jkOkZ47AMY6ln3kyMlVp582toputPMNycDu2t0cOuZYcJ4gV+YUjKVab6oLGY5Z9pWeotRAhqZ4tQawWu55nzalrqfOcSoXMSZlHf2N5jNg2YIkdg44kHwmhc/HE2CsUnTQPS/1OM4iUNwAWZLoKdtImTI3OHlyFYwdy0M+JtBXYy2bO/ZjN8R+9sZ9x2dUhW5EFV9mAH/Y2yyxTJvPSFrlRglTLxyoWKRBzgMcF2R6itcBpc5f5iTKKJTi8fLtgDWeGUohm7G+W7OsaxfyRKnHlHjmleHk/bKW2yXDwfg9mrsljNNJSpU5u3Lcp3Qh1wDCEqP+edmFrsnevTn0Sum8uxt0jD6u62FvswjkEFbolIRVzp70arnMcriRrGClhSBLZv6WldxoJJUZF6gk5VAJZt1yFxQEj0vnTkfcKdAPP3Ob2LUzs7nVOF9p4atReqP5TDnzlPgwuo7VOCvGoqzHtt7GrMjcmEWk1jLnHPhwA5TMaOH1z90WveeP7Eb9/bDrcpNhzdYlRkxnN638cQczUMnL8FZBkCVZKddy9H65cb68wJoUNVovK2NcYBYwnGWVKOWv00af3LBNZo51toNndDMVAv+Y3ivxdJzTdN1vCfpirrS09ZYY9eHNa8ZDsUriT8yGXC+IWjHY/OPYXzlJx7mwvq8Ov1zDHfnkP0dmk8r74/8Bk5vgOw4X2ZAAAAAASUVORK5CYII="},347:function(e,t,r){e.exports=r.p+"static/media/planilha.549edeba.xlsx"},602:function(e,t,r){e.exports=r.p+"static/media/sound.9fd5812c.mp3"},607:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfMAAAAyCAYAAABIzDLuAAAACXBIWXMAAC4jAAAuIwF4pT92AAAYj0lEQVR4nO2dC3Qc1XmA/39mJPmxlgHzMAkpcvxQoSfYIBmbRyKRE2iQ7NqtnbTnJASlbnge27IpuIRYu4uNgbRgueWAAw2IJrxOKMhBsoEUW+IVZEnBhnMofmGnDeCCMX5Ith67c/vfmdFKsla7d+7M7HO+c1Yareb+c3dm5/73v/M/NGjXmwCxGoTRV7IyZb34/j4+Pj4+Pj5eooHevwLUgu8AYJFYE1yDv+95gV025o/eds098J1jZ7C5xYeT7TejKngZqsprjGY3InIZY9V7moJbnffQx8fHx8dHHo1dWrgHO9h6QPgnsSY4HgqLHqYNG9Z8+sB2/XsARe/SZkJlrihhZXqV+q+0OVZMk0PTbl+R+/j4+PhkAJrxs/vQPRA48zpSfV8Va4ZV2Kn/HStTnvWwb47BDv3HZGSXsrlFv0m27/RroYYmNOWCovuiwG5z2D0fHx8fHx9XMJQ5qziriyzYO0DBp8SbYj2+c+xVkeXrdECf52b6PHdB7+ELACYl3Le0OlwMCqwTl87+bW9TcLfDLvr4+Pj4+LiCFtuaoz0D7dGbSA1+U6wpngPahPtp4yfedE0e7NRXkCJ/AHR2Hbt80vGkDRSoMz6PAAzgM723Z43jTvr4+Pj4+LhETJkzXWfY0b8MUOsgxaYKtUZYgh2RX7NyrdWzHtqEFPldpJ3XAmNv0gTladD1hPtPraor1VRtqah8Bmz13lfvPeq4oz4+CcC23hJQCyoBcRb9WUKv0+jdivh7s03Wxg763h8AiO5g5QU7UtJRnxjYevQ0CARmAaNrhlhpvbtg5J5sJ/04YLwY2wHR/hY2p+hAqvrpk5toQ//gAwB2sEdJSd8s1hyR9P5GfHnvLPbdab1edNAO1Pc1gMrP6JNEASJL+QQlWRtS5A/Sr0LBQ+zY1/zBL0cet59u3oJ37faXZlArWLlSb7ud4+P2X+zFYC/dH47NPmGHXkvXOoNDJNkmVoYL7bQwz59WQ1vLQRMMLjFbDiiMBWYghkKTWqMPfJLdAizSKHJus+Wcput+i4epwItrabMSAhPNyVZSD1qcST9mmpu0M11r63ptANAbWZnaInz8NJwL7GT1xndUlkjvlFMnL47GDi8ZMi5l+v2hjXiHda0GDHyfup74QXMM/HM4cypZw3ypOj2goiBsj/4z3RgDTmkbRQavafND1SooVaLHYVG2Qtefi0p3NNcxFJEsGh8QHbTPXrAzWkkKuJ4Gs5kuS+bKpYLkBmPKgkUafKvdOdbEK0QKPI7lLS2VFKS6nJTlTrLYG9yeeLiBF4rcxx1GKHM2e8IX2KmTdYuPCEtBWIXb+55llxZ+4GrvRA7NFXl79CHausV8hx2CnuOrAYoTtlO+ES6cXqI8KHwgxv5z9+Zgi4Ou5jSmhTJR/iZHvJ5k1LKKiUdc7FZGY1l1DTSAu6gQEh5xOSl2U1noeojNVhtTc9zcwXj8oRXyiZeH14wsd8T1NAFb78VqgixkmdbQgOsr8gxlpGXO2f/CYzBl0Y10+WaJicFCUAsexXD4WywYTPyQ2kXw+edVUuSP0tbfx97U2Z3siuIvk7WdVgLL6NcMkeMwgJ7+SPR2+Z7mAYHikEsyah3LyQIMpRCYuD9NR58JivqiodRBr7WzrJvPGMusWlFql1lRMZU6RK9K53XC9uhC+s48IS3AV+SeE1eZs8WLo9gWWQqa+joIZkOj/a6AeatvoI2NLvZv9KO1tmo04WigrR8Mvss6YPOax2F2MGHbr88PTy4AXC18LIAH9798d5oG3szHsVU+KInLyHllblp3RRnwfSKlzowJe0u6e5Lp0MSnhRTrKA6IqUDdhh3sSVaONak+sqXIX5QW4CvylBDfMifYHO1N+gI/TZs/GG2fkeB9+PbJ37LLx37iQt9GP8rzHxTClG9R33DR4LtMp9nrrSIrAwUM1pGGTrwOP8gnR7vZvZJdzQ/GT6hxSxS3fjJlWdEzMkKRc9jOnD/XDhmceAnaNJ52Bq+nMbkEIn01qVKO1uf3FXkWMKoyN+jvWQUFYxbQJQ2IicOJUDSGp0Rd7Lxroxzh5b1FMOWC39DW/FP+1cDKtO3J2k+rCs5WVfV60ePpoP/04NZQl+2O5hNueniasnJWwZB11SC82OU1uh4iiy/dvchYMmcFZShYAVphDW2EPD+S08/vK/KUklCZs7ljP8ZOfS23uMVF4iLsiP4VK1d/67RzIyQ3fToOzp3aSFtXD/8POwJ9J+4kEzFhe0VRcFp1cAPfFDzk9n3N+CupzuYJVriGuzLbowtz0TnLCr8Rnkh6C1nlOXiOXUUrzMDzY4Tnhbw+ivXozFfkWURiy5zz+Uf1cNbUJXR5pwtLReUhfPuLbULZ10RFvv3FBDh3chNtfWvEP3UWZJeN/yyZjGlVdT9EwMsED8kY8FC01Dn0ZSVexF0qSoh+ZuBA6hBHoXuslb6Rg+cEsQSMZDLxkpII4FvlCcFOfq7R5VBBp7BWu7kLpAkUy99/viJPC0mVOU8Gg9ujK0BVm8TF4teg8Ix7aGOZg74NSjNmiWdshriKmL0HJ954mIfTJmLyt8OBieMV8RUGBs/sbgq+bbev+YTlGOOF5Jncik0cDx1toWu0wp5YLJGLkeXx2Tyzmp0mfP9Tz41kfK4e/WvTio6/PG/FPPNBfqGYAhrNKs/Gc+o+VgiWC6FnLEwXr+VUL3Qrr8BCe+eNrlnZQFY5bzGc/UbNNpiElCtytom+Fy2eie8+cQBgovVHZt8fyS1zLvZStZkuMLeK5wlLRrgV2yJPsTlam50OjRDTfnwSzRJfoa2yOD1jNNAtZRUVkWRyJo6Dn9Kvrwge9gSL9guWhM1jTAvaG3hCDkM5xcdS9LaSn1jL3PZvLBcSrVjLlhItyRpLshw+5FyErDjoGjri6CEdo1jl2XZOvcC6TvIhWJxYbDiffMU5z6Zy569aa+KQ/HiRProX7GQFlCO7FDlwFdDirRPn4D2b6feHkDI36O9bAQWFV1P3BL9RqICmPoqP/aGc/eSSfjudiklo6z4H1MDvaOsbcXdg8Cybrb2eTE5pdd1UsiBXih+Z3b97y5r/Fd8//7Cscg+XIXEBV0w5s1w3flxJKg5jna8Qf5nXSKkdPjj7z8oT4jRfgk2FRoqogX41WI6R8f0pUqQkrexu2aPIfYYhrMzZ3KK9dLF5xrQ7xcXjRXDxLJ5i1YYDndXynZNfhYJx/2Wki43foy6I9NwOMFZAmPqA+CQE/qf7IPyLcEfzFUWpsdeAJyix+QxSK+Qx5zkfd54YrODLsjIJQyyl3RhLPWo8X9dr/Wfl8XGcL8GBQuPx42Slt4yw0vkjltQpcsnPHr3KV+TpR9wy53QdWgeBM6+ji36ecBvEOnyn93k+GRBu8vue86FwzGu0NXX0vdha7m2fTFZpdfgaUMSdhHSdrfpTe/CE6P75iLV0ZO+ZIl8mtB3mgstpgA3lU4rX+PCEIfJpPa3luoXJ/RDynPET5J3LeEEOhwqNW+nYHj0SS9AS85XwFisixYk/R4u7PfKRwZYyZxVndWGnfgdd/qfFW+FYKCh8BBXlGpEqZqT4p0FhEbfIz0/Qk12w/8P1UHZhQlnK7JsKpp/zFTve1m/u2xJ+DiBxBrm8x3yebQPWygc6mv2HEz7LjYeZkCb7486j+hGbU+fhxNJ62q+sNYCvyJOAstnV2Aa3zi1X3qRcf8wdp1KiyM3HZXIRKSmabPiIYX94ma09C+3Rm+KGiI0KfgfaI2TRw38k3Kut7wJS/FyRJ3ZU0/XlbPGFfcmOOv2cybcAQmKNP1Qq46FoyScc+YyVSMKeVa7r9cbSbtexeghMtKfMcySJjDmZcUPSQGUtLpQ9ST9a/HrYzrGW2OWeF3cdCw11lHKK9RzdcxylafUVecZhW5lz6xq39y8DVevkD6PFW+ID2Nq1mVUEDsX9b1v/RaAVcGe3sxN3gDXSl+iVZEcrrb7rLFCKQsLdo4FxT1OwQ3j/fMV8jm2LgZueL5eTdb7Jbmw09/hN1QDnKVz5jubkJIMhi15GPWzuk8A9pOWs9rwnEBAsKnUqrDU7HwPhLFAkc0RkkiKPrVi5CyvLhPy99pBa+GOXFuykweMXtHmLeCs8EwLjuQPdj0b8pz1SDpr2MiStoc5OAutbORCiMX1e6No9TaEtcXdVitbSz9PE+saO96MRupZanH4RscDFzggcTspByFhaH/xT1xvIGrBn2SPyCUSDveNmIpF6AK8ywBnOhTNjVruD5fi8hBeckRm+jUQ+WTfug6NJpR7Z4TtRZh7yT/H6j6+GggnfN5S0MHgddkZ/RQPM72LvtEcuo8GdFDKKrFP9nM02nahmVIX+UlHxpdLq8JW7moPvDN2ptDp4Mc06l4jeZAxg3UcvBQ+Kf448RSZshy+tD43V5M8EbS8348xcSPHKn6vKrEzIMbAcTxY7Yw1+QZVkiJZ7PpVoi3h26BxBK2ygn5Vp7oXPKUgrcza3+DB26qvpJnjEXkvlEWz69CI279wTuD16Fag8h7tIIRd2APo/vh/gPFLWy4tQncQLuqigsMe//u3wJR9tDfYY0hUFpxv51wUfATC2D9nh1NYozlpshq4w9mT8JUgJRzgzFC6rlTmHp+OkyUwK/TLIYkfMiJrYGQ2KruL5mOGSLJSKHPE+4jjxrwXY/8JjMGXRDXRxLxZvhFPh3MlBsrS2gqq8aHi7i6DrK9nc807yTaaccRvZ3DMseRdo44GUA6zif029Nvi39N43RXujM3b7nuYNveL9z0+kCqqg3hB3OU7GEY4nkcmV0KpI75T0VONSt9EgvIEG4TyP3fdxDgaxMzoiVa1P+nCkzNnixVHsjCylQeINsFfXcSVZWsvFE7mwV9hs0+ty2jXhP1OLhj/fRmC3lVaHX+z+DN4bNxl+Lv4BYOue5pB8rd58wnZBFZ5LOv6NbjjCdcg4g2lcCdXYa5N5WJ7naBXzSMGS+1CQL72Dr9B9nKNug6x0GMhNnFnmwJcNtbdocHiKNn8o3go18WOzPmD9pPgLjb/UIuRK5ZRap6jSV+qXpMib6Jv1NUG50ahuM2l+nmLlj7bXiLH6hPe5abXbU+ak/LH1aG12eg+PxFhyF83N7SqGQj/iL5O6ACp5vTzPJ6Qpq+TmkxDHytygt2cVFI0hCwMnuCJvOPWsvHAX3+BOb6gqfxN3L4QLSXWIxpSTUY6P7d1c955Lfcxt0L4VlyyUjFvtZjiVzRSvphNezliVsdzccfOoewkGsaO/MSceW7jDAalWzHCca3GzI9kFf/yVI6GjWY4rypxdPvYT7NTX0oW93w15QyR/DL2HSe6koU5vbnAE9d46l2TlNHIFVXhYlMDqGzOKS9hcvjec8HJGmQ8Qy6POw/94WlHk1o7HS/BJKtPlFbzcpK0nhRbGdcr+pEaOQOUJbOv1ExelGXcsc87+D+thygU8HGyGazJ1dge7fNJxvsnw9JWDTm/OYKDfvbv5ns/dkJXzyJQ5jfTVC5Vr7D7eAIGJtiMJuDNeroZaWY8QGqzXQO1revFQILet9hyrTOcI2RAzrPDPIaQxXM2reubZF27omjLn6VWxI1oLqG52SeLrMEd7BnQdpn83fLZSgHe5JHfX3oMHH3JHllMcfhGlC98LijcUiUSZU61ov1AsuVR9b8iZFK8iDKl9bWAp94WuXXe1gOTlQkIeZ5g5ACQbq4UhyAHHTKnKhjHSFK7meT3z7ME9yxz4DaFuoQv6El3Y+Q4lRSASWTpQmGXfq3BoehXsAIQrnPaR5gYr9faNUvXVXcfhF1G68L0wSsYuZ2drEhkzxA8rZZ2Ghij3Wkux1zpajjcmhD4mrFVq9YM7ZnZGG9wK0zLKkep6S2q/32bIIh27RX4FyPfDSCeuKnOD3r4VUFR4jXjYWVw2sjkFMec0XQ/qU6vqlqiqtgMBxkhLZWzLnuagSysHuY1UmdNUYi7/Z50yHwjxMxPHOEviMqDYrRWUbZJiJDOf5SCmD4ekIlO3YZt8PfMBsMPow/WgqMtpwpqiHOhDcg90HVsIgYlfSovCgnfBD1dLC64rc3Z50T6a3T1Am5K5ztnn0HO8DqB42Lv7Nt+9q3R+KESj+H2Scvv7MHqbXNs8xHaZ01SDM7MticzIxDtGEpdNEOmrdaIErMgA+1n1fIZh1BPvBPkwQf54SVKhm5NnjSvywWVuRX3Re4U+PImQmQOCl2CVD5fkExJWLltO1kcW9y1zzuHP1sEZZ/+ILut59huzO9kVxXFnhnu68YHp49n3SG6ZbakAD+9/6e7/tt+f/MMqqJK5VvkAWeSNbZ3TOM5+uICXlOWZ2bjjoLRSZ5FGsorsK3MGORGz7x4OJ0VcoXfoK0Qfn1lKPDTqKpinCj1+NkBzUsPkoyn4Y4cOvcUPV0stnihzdvU53dip305X9RmbLbdD05onoCz+vaRvDUamXhtcomlKu82SYYf6oDdsry95jExBlbSQRd7YSc8pLidFsNyw1HW9wfbgjZrkpIbt8FdFB+EOXGSdO1vhiFVD5BMDfUTKU0uB8+u1kIax5A5nXih0XjehfPT8EY5rCPBwtdajjbmS4Ckb8MYy58zWnoP26E3izhRMB4guZcGgnmivfVvCO2fMv/teGn6E48QZsOCBl9bJPwfKI+TKnKYRs756xjrqceydU7KGFHVBrIypgCOU9cxcTgEhy5rHFCmDOVtmHoRb+GpwhJe8TOli1xW6yCQuepUDXww+geV9rZRuLwJiJXYkVBmOyRZvec+UOfdEx7b+ZaBpnVb61iQN4AlWrm0Xkb33ALtnWgksQsC/EOjJ+3u74VERuT7Ab8CMVowjweWkLEMZbQFIr3SQta7E6pO30j1ywByEB/6NPJXoQqnwQQu/UMZIHC8ze0VKnqEPYvhiSNVQGAArvM8JQdcIPb9O+a3MOdwjnW6KX9DmrUn2/BJ6uu+kUU9Irv5+sK90XnAJzZ7fgiSlTmlOsULfGoqI9tknC52oxk+ogQy94dwLH8QKMqQq6LfkwBoPwUx9eUjqS9UKkmqFXo41NIbPko4/548cOvpbsslRNVvxVJkb9B+vg4IJvCzpmaPvxOrYlQFbGdl2NYXbSueH+QA+uoc6Y5v2NIdesyM3n5Eqc2rAwnSunVvGsklwMjmJTCZHBXQdCwFIJu7JB9JWqjYJemRH3NLCXsEiNVbImRzcS98PgfQcz5U5m1t8GDv1n9EV3TjKHu9B1xv0P/vhnd0HoW7cZFhAtsW0OHJ7WRT+0bbQfMZ2mVMOazWzPrlj4ZEVUCljBWRwsYeSdHcgLkxfkdGPJjIA7ljJQ80yR6GznRDpW5hqh08zO54TL38eRuqHq3mN95Y5Z/8L/w4li24gy+uS4f9gDPToUlZRIbUM/qf24InS6uA/gDKyri4D3LB7S91e6T7nGVZBFfsNdb3eVSuBl05FtO98ZFZ2a3CvI+5AE51ZPM1lZj2+YBuyxakn3QwqdJ57PFUV7eJ1xPA+rxGqeeDF4Q0vf2OiLXcOXM6S5zOSlChztnhxFDsjy2jQfwOGliZi8Aybrb3uRPau5nDrjPnhjQh485Aj/h/qcI8TuXmHTEEViFX7cg35xB00+8/QFK/GQNh6tN50hPMul75gb+LGFvuMjmUJV6ZvUha9ipVngBKM9NU4W6VQt9F9cLq/IuQNqbHMgQ9o2lt0M/yaNq+z3jkOkZ47AMY6ln3kyMlVp582toputPMNycDu2t0cOuZYcJ4gV+YUjKVab6oLGY5Z9pWeotRAhqZ4tQawWu55nzalrqfOcSoXMSZlHf2N5jNg2YIkdg44kHwmhc/HE2CsUnTQPS/1OM4iUNwAWZLoKdtImTI3OHlyFYwdy0M+JtBXYy2bO/ZjN8R+9sZ9x2dUhW5EFV9mAH/Y2yyxTJvPSFrlRglTLxyoWKRBzgMcF2R6itcBpc5f5iTKKJTi8fLtgDWeGUohm7G+W7OsaxfyRKnHlHjmleHk/bKW2yXDwfg9mrsljNNJSpU5u3Lcp3Qh1wDCEqP+edmFrsnevTn0Sum8uxt0jD6u62FvswjkEFbolIRVzp70arnMcriRrGClhSBLZv6WldxoJJUZF6gk5VAJZt1yFxQEj0vnTkfcKdAPP3Ob2LUzs7nVOF9p4atReqP5TDnzlPgwuo7VOCvGoqzHtt7GrMjcmEWk1jLnHPhwA5TMaOH1z90WveeP7Eb9/bDrcpNhzdYlRkxnN638cQczUMnL8FZBkCVZKddy9H65cb68wJoUNVovK2NcYBYwnGWVKOWv00af3LBNZo51toNndDMVAv+Y3ivxdJzTdN1vCfpirrS09ZYY9eHNa8ZDsUriT8yGXC+IWjHY/OPYXzlJx7mwvq8Ov1zDHfnkP0dmk8r74/8Bk5vgOw4X2ZAAAAAASUVORK5CYII="},608:function(e,t,r){e.exports=r.p+"static/media/chat_notify.2529c259.mp3"},631:function(e,t,r){e.exports=r.p+"static/media/wa-background.2675a051.png"},698:function(e,t,r){e.exports=r(1041)}},[[698,1,2]]]);